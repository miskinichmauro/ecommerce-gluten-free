import{$ as q,Aa as _e,C as d,Da as G,Ea as Se,F as le,Fa as ke,H as me,K as C,L as y,M as H,N as ue,O as k,P as w,Q as p,R as r,S as i,T as l,U as E,V as F,W as $,X as B,Y as f,Z as fe,_ as a,aa as b,ca as u,da as L,e as re,ea as ce,f as O,fa as ge,g as ie,ga as ve,i as ae,ja as Ce,ka as z,l as A,la as ye,ma as S,o as g,oa as be,p as j,pa as he,q as V,qa as U,r as pe,s as se,sa as Pe,u as P,wa as Q,xa as xe,y as de,z as c,za as M}from"./chunk-KYKZSOWR.js";var x=()=>({exact:!0});function Ne(t,o){if(t&1){let e=$();r(0,"button",16),a(1),i(),r(2,"button",18),B("click",function(){j(e);let s=f();return V(s.authService.logout())}),a(3," Salir "),i()}if(t&2){let e,n=f();c(),b(" ",(e=n.authService.user())==null?null:e.fullName," ")}}function De(t,o){t&1&&(r(0,"a",15),a(1," Login "),i())}function Ie(t,o){t&1&&(r(0,"a",16),a(1," ... "),i())}var J=class t{authService=g(ke);static \u0275fac=function(e){return new(e||t)};static \u0275cmp=d({type:t,selectors:[["front-navbar"]],decls:41,vars:17,consts:[[1,"navbar","bg-base-100","shadow-sm"],[1,"navbar-start"],[1,"dropdown"],["aria-label","Abrir men\xFA",1,"btn","btn-ghost","lg:hidden"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-5","w-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 6h16M4 12h8m-8 6h16"],[1,"menu","menu-sm","dropdown-content","bg-base-100","rounded-box","z-1","mt-3","w-52","p-2","shadow"],["routerLink","/","routerLinkActive","text-secondary",3,"routerLinkActiveOptions"],["routerLink","/products","routerLinkActive","text-secondary",3,"routerLinkActiveOptions"],["routerLink","/recipe","routerLinkActive","text-secondary",3,"routerLinkActiveOptions"],["routerLink","/contact","routerLinkActive","text-secondary",3,"routerLinkActiveOptions"],["routerLink","/",1,"btn","btn-ghost","text-xl"],[1,"navbar-center","hidden","lg:flex"],[1,"menu","menu-horizontal","px-1"],[1,"navbar-end","gap-4"],["routerLink","/auth/login",1,"btn","btn-secondary"],[1,"btn","btn-ghost"],[1,"btn"],[1,"btn","btn-sm","btn-error",3,"click"]],template:function(e,n){e&1&&(r(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),pe(),r(4,"svg",4),l(5,"path",5),i()(),se(),r(6,"ul",6)(7,"li")(8,"a",7),a(9," Inicio "),i()(),r(10,"li")(11,"a",8),a(12," Productos "),i()(),r(13,"li")(14,"a",9),a(15," Recetas "),i()(),r(16,"li")(17,"a",10),a(18," Contacto "),i()()()(),r(19,"a",11),a(20,"Gluten Free"),i()(),r(21,"div",12)(22,"ul",13)(23,"li")(24,"a",7),a(25," Inicio "),i()(),r(26,"li")(27,"a",8),a(28," Productos "),i()(),r(29,"li")(30,"a",9),a(31," Recetas "),i()(),r(32,"li")(33,"a",10),a(34," Contacto "),i()()()(),r(35,"div",14),C(36,Ne,4,1)(37,De,2,0,"a",15)(38,Ie,2,0,"a",16),r(39,"a",17),a(40,"\u{1F6D2}"),i()()()),e&2&&(c(8),p("routerLinkActiveOptions",u(9,x)),c(3),p("routerLinkActiveOptions",u(10,x)),c(3),p("routerLinkActiveOptions",u(11,x)),c(3),p("routerLinkActiveOptions",u(12,x)),c(7),p("routerLinkActiveOptions",u(13,x)),c(3),p("routerLinkActiveOptions",u(14,x)),c(3),p("routerLinkActiveOptions",u(15,x)),c(3),p("routerLinkActiveOptions",u(16,x)),c(3),y(n.authService.authStatus()==="authenticated"?36:n.authService.authStatus()==="not-authenticated"?37:38))},dependencies:[M,_e],styles:["[_nghost-%COMP%]{display:block}"]})};var X=class t{static \u0275fac=function(e){return new(e||t)};static \u0275cmp=d({type:t,selectors:[["app-store-front-layout"]],decls:3,vars:0,consts:[[1,"container","mx-auto"]],template:function(e,n){e&1&&(l(0,"front-navbar"),r(1,"section",0),l(2,"router-outlet"),i())},dependencies:[xe,J],encapsulation:2})};var we=G.baseUrl,N=class t{constructor(){}http=g(Pe);productsCache=new Map;productCache=new Map;getProducts(o={}){let{limit:e=12,offset:n=0,isFeatured:s=!1}=o,m=s?"isFeatured":`${e}-${n}`;return this.productsCache.has(m)?re(this.productsCache.get(m)):this.http.get(`${we}/products`,{params:{limit:e,offset:n,isFeatured:s},responseType:"json"}).pipe(ae(Me=>this.productsCache.set(m,Me)))}getProductByIdSlug(o){return this.productCache.has(o)?re(this.productCache.get(o)):this.http.get(`${we}/products/${o}`,{responseType:"json"}).pipe(ae(n=>this.productCache.set(o,n)))}static \u0275fac=function(e){return new(e||t)};static \u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"root"})};function K(){let t=g(N),o=P(null),e=P(!0),n=P(null);async function s(m){e.set(!0),n.set(null);try{let _=await O(t.getProducts(m));o.set(_)}catch(_){console.error(_),n.set("Error al cargar los productos")}finally{e.set(!1)}}return{productResponse:o,loading:e,error:n,loadProducts:s}}var Ee=G.baseUrl,W=class t{transform(o){if(typeof o=="string")return`${Ee}/files/product/${o}`;let e=o[0];return e?`${Ee}/files/product/${e}`:"https://www.foodnavigator.com/resizer/v2/3MET5T7L4JO25FVOXQDQ67EHOE.jpg?auth=d16d65b4d7f1ff6620ee4d54a2abb29750e275e5721fcd954f2aecd5a78ab6f7&smart=true"}static \u0275fac=function(e){return new(e||t)};static \u0275pipe=le({name:"productImage",type:t,pure:!0})};var Fe=t=>["/product",t],D=class t{product=S.required();static \u0275fac=function(e){return new(e||t)};static \u0275cmp=d({type:t,selectors:[["product-card"]],inputs:{product:[1,"product"]},decls:14,vars:15,consts:[[1,"card","bg-base-100","w-96","shadow-sm"],["alt","Comida sin gluten",3,"src"],[1,"card-body"],[1,"card-title","hover:underline","cursor-pointer",3,"routerLink"],[1,"card-actions","justify-end"],[1,"btn","btn-primary",3,"routerLink"]],template:function(e,n){e&1&&(r(0,"div",0)(1,"figure")(2,"div"),l(3,"img",1),ce(4,"productImage"),i()(),r(5,"div",2)(6,"h2",3),a(7),i(),r(8,"p"),a(9),ce(10,"slice"),i(),r(11,"div",4)(12,"a",5),a(13," Ver "),i()()()()),e&2&&(c(3),p("src",ge(4,5,n.product().imagesName),de),c(3),p("routerLink",L(11,Fe,n.product().slug)),c(),b(" ",n.product().title," "),c(2),b(" ",ve(10,7,n.product().description,0,70)),c(3),p("routerLink",L(13,Fe,n.product().slug)))},dependencies:[M,he,W],styles:["[_nghost-%COMP%]{display:block}"]})};function Le(t,o){if(t&1&&(r(0,"swiper-slide"),l(1,"product-card",0),i()),t&2){let e=o.$implicit;c(),p("product",e)}}var I=class t{products=S.required();spaceBetween=20;slidesPerView=3;ngAfterViewInit(){let o=document.querySelector("swiper-container");o&&(o.pagination={clickable:!0},o.navigation=!0,o.spaceBetween=this.spaceBetween,o.slidesPerView=this.slidesPerView,o.loop=this.products.length>1,o.initialize())}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=d({type:t,selectors:[["product-carrusel"]],inputs:{products:[1,"products"]},decls:3,vars:0,consts:[[3,"product"]],template:function(e,n){e&1&&(r(0,"swiper-container"),k(1,Le,2,1,"swiper-slide",null,H),i()),e&2&&(c(),w(n.products()))},dependencies:[U,D],styles:["[_nghost-%COMP%]{display:block}"]})};var Te=()=>[];function Re(t,o){t&1&&(r(0,"div",1),l(1,"span",4),r(2,"p"),a(3,"Cargando productos..."),i()())}function Oe(t,o){if(t&1&&(r(0,"p",2),a(1),i()),t&2){let e=f();c(),q(e.error())}}function Ae(t,o){if(t&1&&l(0,"product-carrusel",3),t&2){let e,n=f();p("products",((e=n.productResponse())==null?null:e.products)??u(1,Te))}}function je(t,o){t&1&&(r(0,"p"),a(1,"No hay productos para mostrar"),i())}var Y=class t{productResponse;loading;error;loadProducts;constructor(){let{productResponse:o,loading:e,error:n,loadProducts:s}=K();this.productResponse=o,this.loading=e,this.error=n,this.loadProducts=s,z(()=>{this.loadProducts({isFeatured:!0})})}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=d({type:t,selectors:[["app-home"]],decls:6,vars:4,consts:[[1,"text-3xl","font-bold","mb-6","mt-6"],[1,"flex","flex-col","justify-center","items-center","h-screen","gap-4"],[1,"text-red-500"],[3,"products"],[1,"loading","loading-spinner","loading-lg"]],template:function(e,n){if(e&1&&(r(0,"h1",0),a(1,"Productos destacados"),i(),C(2,Re,4,0,"div",1),C(3,Oe,2,1,"p",2),C(4,Ae,1,2,"product-carrusel",3),C(5,je,2,0,"p")),e&2){let s,m;c(2),y(n.loading()?2:-1),c(),y(n.error()?3:-1),c(),y(!n.loading()&&!n.error()&&(!((s=n.productResponse())==null||s.products==null)&&s.products.length)?4:-1),c(),y(!n.loading()&&!n.error()&&((m=n.productResponse())==null||m.products==null?null:m.products.length)===0?5:-1)}},dependencies:[I],styles:["[_nghost-%COMP%]{display:block}"]})};var Z=class t{static \u0275fac=function(e){return new(e||t)};static \u0275cmp=d({type:t,selectors:[["app-not-found"]],decls:3,vars:0,template:function(e,n){e&1&&(E(0,"p"),a(1,"not-found-page works!"),F(),a(2,`,
`))},styles:["[_nghost-%COMP%]{display:block}"]})};var Ve=()=>[];function He(t,o){t&1&&(r(0,"div")(1,"div",1),l(2,"span",2),r(3,"p"),a(4,"Cargando producto..."),i()()())}function $e(t,o){if(t&1&&(r(0,"div")(1,"div",3),l(2,"product-carrusel",4),r(3,"div")(4,"h2",5),a(5),i(),l(6,"div",6),r(7,"p"),a(8),i()()()()),t&2){let e,n,s=f();c(2),p("products",u(3,Ve)),c(3),b(" ",(e=s.product())==null?null:e.title," "),c(3),b(" ",(n=s.product())==null?null:n.description," ")}}var T=class t{activatedRoute=g(Q);productService=g(N);productIdSlug=this.activatedRoute.snapshot.params.idSlug;product=P(null);loading=P(!0);error=P(null);constructor(){}ngOnInit(){this.loadProduct()}async loadProduct(){this.loading.set(!0),this.error.set(null);try{let o=await O(this.productService.getProductByIdSlug(this.productIdSlug));this.product.set(o)}catch(o){console.error(o),this.error.set("Error al cargar el producto")}finally{this.loading.set(!1)}}get productImages(){let o=this.product()?.imagesName??[];return o?.length>0?o:["https://www.foodnavigator.com/resizer/v2/3MET5T7L4JO25FVOXQDQ67EHOE.jpg?auth=d16d65b4d7f1ff6620ee4d54a2abb29750e275e5721fcd954f2aecd5a78ab6f7&smart=true"]}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=d({type:t,selectors:[["app-product"]],decls:2,vars:2,consts:[[4,"ngIf"],[1,"flex","flex-col","justify-center","items-center","h-screen","gap-4"],[1,"loading","loading-spinner","loading-lg"],[1,"grid","grid-cols-1","sm:grid-cols-2","grap-3"],[3,"products"],[1,"text-2xl","font-bold"],[1,"divider"]],template:function(e,n){e&1&&me(0,He,5,0,"div",0)(1,$e,9,4,"div",0),e&2&&(p("ngIf",n.loading()),c(),p("ngIf",!n.loading()&&n.product()))},dependencies:[U,be,I],styles:["[_nghost-%COMP%]{display:block}"]})};var ee=class t{activateRoute=g(Q);currentPage=Se(this.activateRoute.queryParamMap.pipe(ie(o=>o.get("page")?+o.get("page"):1),ie(o=>isNaN(o)?1:o)),{initialValue:1});static \u0275fac=function(e){return new(e||t)};static \u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"root"})};var Be=()=>[],qe=t=>({page:t});function ze(t,o){if(t&1){let e=$();r(0,"button",3),B("click",function(){let s=j(e).$implicit,m=f();return V(m.activePage.set(s))}),a(1),i()}if(t&2){let e=o.$implicit,n=f();fe("btn-primary",e===n.activePage()),p("routerLink",u(5,Be))("queryParams",L(6,qe,e)),c(),b(" ",e," ")}}function Ue(t,o){t&1&&(r(0,"button",2),a(1,"0"),i())}var te=class t{pages=S(0);currentPage=S(1);activePage=ye(this.currentPage);getPagesList=Ce(()=>Array.from({length:this.pages()},(o,e)=>e+1));static \u0275fac=function(e){return new(e||t)};static \u0275cmp=d({type:t,selectors:[["pagination"]],inputs:{pages:[1,"pages"],currentPage:[1,"currentPage"]},decls:4,vars:1,consts:[[1,"join","flex","justify-center","items-center","mt-4","mb-10"],[1,"join-item","btn",3,"btn-primary","routerLink","queryParams"],[1,"join-item","btn"],[1,"join-item","btn",3,"click","routerLink","queryParams"]],template:function(e,n){e&1&&(r(0,"div",0),k(1,ze,2,8,"button",1,ue,!1,Ue,2,0,"button",2),i()),e&2&&(c(),w(n.getPagesList()))},dependencies:[M],styles:["[_nghost-%COMP%]{display:block}"]})};function Qe(t,o){t&1&&(r(0,"div",1),l(1,"span",5),r(2,"p"),a(3,"Cargando productos..."),i()())}function Ge(t,o){if(t&1&&(r(0,"p",2),a(1),i()),t&2){let e=f();c(),q(e.error())}}function Je(t,o){if(t&1&&l(0,"product-card",6),t&2){let e=o.$implicit;p("product",e)}}function Xe(t,o){if(t&1&&(r(0,"div",3),k(1,Je,1,1,"product-card",6,H),i()),t&2){let e,n=f();c(),w((e=n.productResponse())==null?null:e.products)}}function Ke(t,o){t&1&&(r(0,"p"),a(1,"No hay productos para mostrar"),i())}var R=class t{paginationService=g(ee);productResponse;loading;error;loadProducts;constructor(){let{productResponse:o,loading:e,error:n,loadProducts:s}=K();this.productResponse=o,this.loading=e,this.error=n,this.loadProducts=s,z(()=>{this.loadProducts({offset:(this.paginationService.currentPage()-1)*9})})}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=d({type:t,selectors:[["app-products"]],decls:7,vars:6,consts:[[1,"text-3xl","font-bold","mb-6","mt-6"],[1,"flex","flex-col","justify-center","items-center","h-screen","gap-4"],[1,"text-red-500"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","xl:grid-cols-4","mt-6","gap-12"],[3,"pages","currentPage"],[1,"loading","loading-spinner","loading-lg"],[3,"product"]],template:function(e,n){if(e&1&&(r(0,"h1",0),a(1,"Todos los productos"),i(),C(2,Qe,4,0,"div",1),C(3,Ge,2,1,"p",2),C(4,Xe,3,0,"div",3),C(5,Ke,2,0,"p"),l(6,"pagination",4)),e&2){let s,m,_;c(2),y(n.loading()?2:-1),c(),y(n.error()?3:-1),c(),y(!n.loading()&&!n.error()&&(!((s=n.productResponse())==null||s.products==null)&&s.products.length)?4:-1),c(),y(!n.loading()&&!n.error()&&((m=n.productResponse())==null||m.products==null?null:m.products.length)===0?5:-1),c(),p("pages",((_=n.productResponse())==null?null:_.pages)??0)("currentPage",n.paginationService.currentPage())}},dependencies:[D,te],styles:["[_nghost-%COMP%]{display:block}"]})};var oe=class t{static \u0275fac=function(e){return new(e||t)};static \u0275cmp=d({type:t,selectors:[["app-recipe"]],decls:3,vars:0,template:function(e,n){e&1&&(E(0,"p"),a(1,"recipe works!"),F(),a(2,`,
`))},styles:["[_nghost-%COMP%]{display:block}"]})};var ne=class t{static \u0275fac=function(e){return new(e||t)};static \u0275cmp=d({type:t,selectors:[["app-contact"]],decls:3,vars:0,template:function(e,n){e&1&&(E(0,"p"),a(1,"contact works!"),F(),a(2,`,
`))},styles:["[_nghost-%COMP%]{display:block}"]})};var We=[{path:"",component:X,children:[{path:"",component:Y},{path:"products",component:R},{path:"product/:idSlug",component:T},{path:"recipe",component:oe},{path:"contact",component:ne},{path:"**",component:Z}]},{path:"**",redirectTo:""}],ko=We;export{ko as default,We as storeFrontRoutes};
