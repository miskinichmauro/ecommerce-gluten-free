import{a as Zi,b as Ki}from"./chunk-Z4EF65GZ.js";import{a as Yi,b as _t,c as Et,d as Xi,e as Ji,f as en,g as St,h as tn,i as wt,j as Pt,k as ge,l as Mt,m as nn,n as It}from"./chunk-2WTNRBYW.js";import{b as qi,d as Bi,e as $i,f as yt,g as Ui,i as Qi,l as Wi,m as Gi,o as Fe,p as K,q as Y}from"./chunk-M5O47GSH.js";import{$a as Z,Ba as ne,C as I,Ca as Be,Da as H,Ea as G,Fa as Oe,G as pe,H as Te,I as ki,Ia as Ri,J as l,Ja as vt,La as V,M as f,Oa as Vi,Pa as Li,Qa as Ct,R as Oi,Ra as ue,S as qe,Ta as Hi,W as Fi,X as b,Xa as zi,Y as Di,Ya as bt,Z as x,Za as ji,_ as D,_a as fe,a as Ei,aa as O,b as Si,ba as F,ca as v,d as wi,da as a,db as xt,e as Pi,ea as s,fa as u,fb as te,g as se,ga as d,h as Me,ha as m,i as mt,ia as _e,ja as R,k as Mi,ka as ft,l as dt,la as C,m as pt,ma as ke,n as ut,na as h,o as Ii,oa as B,p as Ie,pa as $,qa as U,ra as gt,s as Ti,ta as Q,ua as Ni,v as g,va as r,w as E,wa as W,x as S,xa as T,y as re,ya as ht,z as de,za as Ai}from"./chunk-XFI75DOG.js";var Tt=class t{ngOnInit(){document.documentElement.setAttribute("data-theme","emerald");let e=document.querySelector(".theme-controller");e&&(e.checked=!0)}toggleTheme(e){let i=e.target,n=i.checked?"coffee":"emerald";document.documentElement.setAttribute("data-theme",n),i.blur()}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=f({type:t,selectors:[["theme-controller"]],decls:6,vars:0,consts:[[1,"swap","swap-rotate"],["type","checkbox",3,"change"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24",1,"swap-off","h-6","w-6","fill-current"],["d","M5.64,17l-.71.71a1,1,0,0,0,0,1.41,1,1,0,0,0,1.41,0l.71-.71A1,1,0,0,0,5.64,17ZM5,12a1,1,0,0,0-1-1H3a1,1,0,0,0,0,2H4A1,1,0,0,0,5,12Zm7-7a1,1,0,0,0,1-1V3a1,1,0,0,0-2,0V4A1,1,0,0,0,12,5ZM5.64,7.05a1,1,0,0,0,.7.29,1,1,0,0,0,.71-.29,1,1,0,0,0,0-1.41l-.71-.71A1,1,0,0,0,4.93,6.34Zm12,.29a1,1,0,0,0,.7-.29l.71-.71a1,1,0,1,0-1.41-1.41L17,5.64a1,1,0,0,0,0,1.41A1,1,0,0,0,17.66,7.34ZM21,11H20a1,1,0,0,0,0,2h1a1,1,0,0,0,0-2Zm-9,8a1,1,0,0,0-1,1v1a1,1,0,0,0,2,0V20A1,1,0,0,0,12,19ZM18.36,17A1,1,0,0,0,17,18.36l.71.71a1,1,0,0,0,1.41,0,1,1,0,0,0,0-1.41ZM12,6.5A5.5,5.5,0,1,0,17.5,12,5.51,5.51,0,0,0,12,6.5Zm0,9A3.5,3.5,0,1,1,15.5,12,3.5,3.5,0,0,1,12,15.5Z"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24",1,"swap-on","h-6","w-6","fill-current"],["d","M21.64,13a1,1,0,0,0-1.05-.14,8.05,8.05,0,0,1-3.37.73A8.15,8.15,0,0,1,9.08,5.49a8.59,8.59,0,0,1,.25-2A1,1,0,0,0,8,2.36,10.14,10.14,0,1,0,22,14.05,1,1,0,0,0,21.64,13Zm-9.5,6.69A8.14,8.14,0,0,1,7.08,5.22v.27A10.15,10.15,0,0,0,17.22,15.63a9.79,9.79,0,0,0,2.1-.22A8.11,8.11,0,0,1,12.14,19.73Z"]],template:function(i,n){i&1&&(d(0,"label",0)(1,"input",1),ke("change",function(c){return n.toggleTheme(c)}),m(),re(),d(2,"svg",2),_e(3,"path",3),m(),d(4,"svg",4),_e(5,"path",5),m()())},styles:["[_nghost-%COMP%]{display:block}"]})};var Hn=["mobileSearchToggle"],kt=class t{mobileSearchToggle;authService=g(te);configurationService=g(K);blurTarget(e){e?.currentTarget?.blur()}openUserOptions(e){this.blurTarget(e),this.authService.authStatus()==="authenticated"?this.configurationService.openSidebar("userOptions"):this.configurationService.openSidebar("auth")}openCart(e){this.blurTarget(e),this.configurationService.openSidebar("cartSidebar")}openMobileSearch(e){this.blurTarget(e);let i=this.mobileSearchToggle?.nativeElement;i&&(i.checked=!0,i.dispatchEvent(new Event("change",{bubbles:!0})))}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=f({type:t,selectors:[["nav-user-options"]],viewQuery:function(i,n){if(i&1&&B(Hn,5),i&2){let o;$(o=U())&&(n.mobileSearchToggle=o.first)}},decls:16,vars:0,consts:[[1,"menu","menu-horizontal","px-1"],["aria-label","Buscar","role","button","aria-controls","mobile-search-toggle-end","for","mobile-search-toggle-end",1,"sm:hidden","p-2","rounded-full",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","fill","currentColor",1,"size-6"],["fill-rule","evenodd","d","M10.5 3.75a6.75 6.75 0 1 0 0 13.5 6.75 6.75 0 0 0 0-13.5ZM2.25 10.5a8.25 8.25 0 1 1 14.59 5.28l4.69 4.69a.75.75 0 1 1-1.06 1.06l-4.69-4.69A8.25 8.25 0 0 1 2.25 10.5Z","clip-rule","evenodd"],[1,"p-2","rounded-full",3,"click"],["fill-rule","evenodd","d","M7.5 6a4.5 4.5 0 1 1 9 0 4.5 4.5 0 0 1-9 0ZM3.751 20.105a8.25 8.25 0 0 1 16.498 0 .75.75 0 0 1-.437.695A18.683 18.683 0 0 1 12 22.5c-2.786 0-5.433-.608-7.812-1.7a.75.75 0 0 1-.437-.695Z","clip-rule","evenodd"],["d","M2.25 2.25a.75.75 0 0 0 0 1.5h1.386c.17 0 .318.114.362.278l2.558 9.592a3.752 3.752 0 0 0-2.806 3.63c0 .414.336.75.75.75h15.75a.75.75 0 0 0 0-1.5H5.378A2.25 2.25 0 0 1 7.5 15h11.218a.75.75 0 0 0 .674-.421 60.358 60.358 0 0 0 2.96-7.228.75.75 0 0 0-.525-.965A60.864 60.864 0 0 0 5.68 4.509l-.232-.867A1.875 1.875 0 0 0 3.636 2.25H2.25ZM3.75 20.25a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0ZM16.5 20.25a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0Z"],[1,"p-2","rounded-full"]],template:function(i,n){i&1&&(a(0,"ul",0)(1,"li")(2,"label",1),C("click",function(c){return n.openMobileSearch(c)}),re(),a(3,"svg",2),u(4,"path",3),s()()(),de(),a(5,"li")(6,"label",4),C("click",function(c){return n.openUserOptions(c)}),re(),a(7,"svg",2),u(8,"path",5),s()()(),de(),a(9,"li")(10,"label",4),C("click",function(c){return n.openCart(c)}),re(),a(11,"svg",2),u(12,"path",6),s()()(),de(),a(13,"li")(14,"label",7),u(15,"theme-controller"),s()()())},dependencies:[Tt],styles:["[_nghost-%COMP%]{display:block}"]})};var on=[{label:"Inicio",routerLink:"/",adminOnly:!1},{label:"Productos",routerLink:"/products",adminOnly:!1},{label:"Recetas",routerLink:"/recipe",adminOnly:!1},{label:"Panel Administrativo",routerLink:"/admin",adminOnly:!0}];var jn=["searchInput"],qn=["suggestContainer"];function Bn(t,e){if(t&1){let i=R();a(0,"span",8)(1,"x-circle",7),C("click",function(){E(i);let o=h();return S(o.clearSearchOrClose())}),s()()}}function $n(t,e){if(t&1){let i=R();a(0,"li",12),C("click",function(){let o=E(i).$implicit,c=h(2);return S(c.selectSuggestion(o))}),a(1,"span"),r(2),s(),a(3,"span",13),r(4),H(5,"guaranies"),s()()}if(t&2){let i=e.$implicit,n=e.$index,o=h(2);Q("bg-primary/20",n===o.activeIndex)("text-primary",n===o.activeIndex),l(2),W(i.title),l(2),W(G(5,6,i.price))}}function Un(t,e){if(t&1){let i=R();a(0,"ul",9),O(1,$n,6,8,"li",10,D),a(3,"li",11),C("click",function(){E(i);let o=h();return S(o.performSearch(o.searchControl.value))}),r(4," Ver todos los resultados \u2192 "),s()()}if(t&2){let i=h();l(),F(i.suggestions)}}var Ot=class t{router=g(fe);productService=g(wt);searchControl=new yt("");suggestions=[];static nextInputId=0;inputId=`searchControl-${t.nextInputId++}`;activeIndex=-1;searched=new qe;dismissed=new qe;searchInput;constructor(){this.searchControl.valueChanges.pipe(dt(150),pt(),Ii(e=>{let i=(e??"").trim();return i.length<1?(this.closeSuggestions(),se({products:[]})):this.productService.searchProducts({query:i,limit:5})})).subscribe(e=>{this.suggestions=e?.products??[],this.activeIndex=-1}),this.router.events.pipe(Mi(e=>e instanceof zi)).subscribe(e=>{(e.urlAfterRedirects==="/"||e.url==="/")&&(this.searchControl.setValue("",{emitEvent:!1}),this.closeSuggestions())})}suggestContainer;onClickOutside(e){this.suggestContainer&&(this.suggestContainer.nativeElement.contains(e.target)||this.closeSuggestions())}closeSuggestions(){this.suggestions=[],this.activeIndex=-1}onEscapePressed(){this.closeSuggestions(),this.dismissed.emit(),this.searchInput?.nativeElement?.blur()}clearSearchOrClose(){if((this.searchControl.value??"").length===0){this.dismissed.emit();return}this.searchControl.setValue("",{emitEvent:!1}),this.closeSuggestions(),this.searchInput?.nativeElement?.focus()}onKeyDown(e){if(this.suggestions.length)switch(e.key){case"ArrowDown":e.preventDefault(),this.activeIndex=(this.activeIndex+1)%this.suggestions.length;break;case"ArrowUp":e.preventDefault(),this.activeIndex=(this.activeIndex-1+this.suggestions.length)%this.suggestions.length;break;case"Enter":e.preventDefault(),this.activeIndex>=0?this.selectSuggestion(this.suggestions[this.activeIndex]):this.performSearch(this.searchControl.value??"");break}}onSubmit(e){e.preventDefault(),this.performSearch(this.searchControl.value??"")}performSearch(e){this.closeSuggestions(),this.router.navigate(["/products"],{queryParams:{q:e}}),this.searchControl.setValue("",{emitEvent:!1}),this.searched.emit()}selectSuggestion(e){this.closeSuggestions(),this.router.navigate(["/product",e.slug]),this.searchControl.setValue("",{emitEvent:!1}),this.searched.emit()}focusInput(){setTimeout(()=>this.searchInput?.nativeElement?.focus(),0)}hasSearchValue(){return!!(this.searchControl.value??"").length}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=f({type:t,selectors:[["form-search"]],viewQuery:function(i,n){if(i&1&&(B(jn,5),B(qn,5)),i&2){let o;$(o=U())&&(n.searchInput=o.first),$(o=U())&&(n.suggestContainer=o.first)}},hostBindings:function(i,n){i&1&&C("click",function(c){return n.onClickOutside(c)},ki)},outputs:{searched:"searched",dismissed:"dismissed"},decls:10,vars:4,consts:[["suggestContainer",""],["searchInput",""],[1,"relative","w-full","sm:min-w-[24rem]","lg:min-w-[32rem]","xl:min-w-[38rem]"],[1,"w-full",3,"submit"],[1,"input","w-full","focus-within:outline-none"],["type","text","placeholder","Buscar productos...","aria-label","Buscar productos",1,"grow","focus:outline-none","focus:ring-0",3,"keydown.escape","keydown","formControl"],[1,"inline-flex","lg:hidden"],[3,"click"],[1,"hidden","lg:inline-flex"],[1,"absolute","top-full","left-0","right-0","bg-base-100","shadow-lg","rounded-lg","border","border-base-300","z-9999","p-2","flex","flex-col","gap-1"],[1,"cursor-pointer","p-2","rounded-md","flex","justify-between",3,"bg-primary/20","text-primary"],[1,"text-center","text-sm","text-primary","cursor-pointer","hover:bg-base-200","p-2","rounded-md",3,"click"],[1,"cursor-pointer","p-2","rounded-md","flex","justify-between",3,"click"],[1,"opacity-70"]],template:function(i,n){if(i&1){let o=R();a(0,"div",2,0)(2,"form",3),C("submit",function(p){return E(o),S(n.onSubmit(p))}),a(3,"label",4)(4,"input",5,1),C("keydown.escape",function(){return E(o),S(n.onEscapePressed())})("keydown",function(p){return E(o),S(n.onKeyDown(p))}),s(),a(6,"span",6)(7,"x-circle",7),C("click",function(){return E(o),S(n.clearSearchOrClose())}),s()(),b(8,Bn,2,0,"span",8),s()(),b(9,Un,5,0,"ul",9),s()}i&2&&(l(4),v("formControl",n.searchControl),Fi("id",n.inputId),l(4),x(n.hasSearchValue()?8:-1),l(),x(n.suggestions.length>0?9:-1))},dependencies:[Fe,Ui,qi,Bi,$i,Qi,_t,ge],styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]   input[_ngcontent-%COMP%]:-webkit-autofill, [_nghost-%COMP%]   input[_ngcontent-%COMP%]:-webkit-autofill:hover, [_nghost-%COMP%]   input[_ngcontent-%COMP%]:-webkit-autofill:focus{-webkit-box-shadow:0 0 0 1000px transparent inset;box-shadow:0 0 0 1000px transparent inset;-webkit-text-fill-color:inherit;background-color:transparent!important}"]})};var Qn=["mobileSearch"],Wn=["mobileSearchToggle"],Ft=class t{configurationService=g(K);menuItems=on;mobileSearch;mobileSearchToggle;openSidebarItems(e){this.configurationService.toggleSidebarItemsStatus("open"),e.currentTarget?.blur()}onMobileToggleEnd(e){let i=e.target;i&&i.checked&&setTimeout(()=>this.mobileSearch?.focusInput(),0)}closeMobileSearchOverlay(){let e=this.mobileSearchToggle?.nativeElement;e&&e.checked&&(e.checked=!1,e.dispatchEvent(new Event("change",{bubbles:!0})))}onSearchSubmitted(){this.closeMobileSearchOverlay()}onSearchDismissed(){this.closeMobileSearchOverlay()}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=f({type:t,selectors:[["navbar"]],viewQuery:function(i,n){if(i&1&&(B(Qn,5),B(Wn,5)),i&2){let o;$(o=U())&&(n.mobileSearch=o.first),$(o=U())&&(n.mobileSearchToggle=o.first)}},decls:19,vars:1,consts:[["mobileSearchToggle",""],["mobileSearch",""],[1,"navbar","bg-base-100"],[1,"navbar-start"],["aria-label","Abrir men\xFA",1,"btn","btn-ghost","lg:hidden",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-5","w-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 6h16M4 12h8m-8 6h16"],[1,"lg:mx-3"],[3,"menuItems"],[1,"navbar-center","hidden","sm:flex"],[3,"searched","dismissed"],[1,"navbar-end"],[1,"sm:hidden"],["id","mobile-search-toggle-end","type","checkbox",1,"peer","hidden",3,"change"],["for","mobile-search-toggle-end",1,"fixed","inset-0","bg-black/40","z-40","opacity-0","pointer-events-none","peer-checked:opacity-100","peer-checked:pointer-events-auto"],[1,"fixed","top-0","inset-x-0","z-50","bg-base-100","shadow-md","-translate-y-full","transition-transform","duration-200","peer-checked:translate-y-0"],[1,"p-4"]],template:function(i,n){if(i&1){let o=R();a(0,"div",2)(1,"div",3)(2,"button",4),C("click",function(p){return E(o),S(n.openSidebarItems(p))}),re(),a(3,"svg",5),u(4,"path",6),s()(),de(),u(5,"app-logo",7)(6,"sidebar-items",8),s(),a(7,"div",9)(8,"form-search",10),C("searched",function(){return E(o),S(n.onSearchSubmitted())})("dismissed",function(){return E(o),S(n.onSearchDismissed())}),s()(),a(9,"div",11),u(10,"nav-user-options"),s()(),a(11,"div",12)(12,"input",13,0),C("change",function(p){return E(o),S(n.onMobileToggleEnd(p))}),s(),u(14,"label",14),a(15,"div",15)(16,"div",16)(17,"form-search",10,1),C("searched",function(){return E(o),S(n.onSearchSubmitted())})("dismissed",function(){return E(o),S(n.onSearchDismissed())}),s()()()()}i&2&&(l(6),v("menuItems",n.menuItems))},dependencies:[Yi,kt,Fe,en,Ot],styles:["[_nghost-%COMP%]{display:block}"]})};var Dt=class t{authService=g(te);router=g(fe);configurationService=g(K);isMobile=!1;onResize(){this.isMobile=window.innerWidth<1024}ngOnInit(){this.onResize()}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=f({type:t,selectors:[["front-menu"]],hostBindings:function(i,n){i&1&&C("resize",function(){return n.onResize()},Te)},decls:1,vars:0,template:function(i,n){i&1&&u(0,"navbar")},dependencies:[Ft],styles:["[_nghost-%COMP%]{display:block}"]})};var Nt=class t{static \u0275fac=function(i){return new(i||t)};static \u0275cmp=f({type:t,selectors:[["app-footer"]],decls:11,vars:0,consts:[[1,"footer","footer-center","p-10","bg-base-200","text-base-content","rounded-t-xl"],[1,"grid","grid-flow-col","gap-4"],[1,"flex","flex-col","sm:flex-row","gap-4"],["routerLink","/privacy-policies",1,"link","link-hover"],["routerLink","/terms-conditions",1,"link","link-hover"],["routerLink","/contact",1,"link","link-hover"]],template:function(i,n){i&1&&(a(0,"footer",0)(1,"nav",1)(2,"p"),r(3,"\xA9 2025 Gluten Free \u2014 Todos los derechos reservados"),s()(),a(4,"aside",2)(5,"a",3),r(6," Pol\xEDtica de Privacidad "),s(),a(7,"a",4),r(8," T\xE9rminos y Condiciones "),s(),a(9,"a",5),r(10," Contacto "),s()()())},dependencies:[Z],styles:["[_nghost-%COMP%]{display:block}"]})};function Gn(t,e){if(t&1){let i=R();d(0,"a",2),ke("click",function(){E(i);let o=h().$implicit,c=h();return S(c.handleOnClick(o.routerLink,o))}),r(1),m()}if(t&2){let i=h().$implicit;l(),T(" ",i.label," ")}}function Zn(t,e){if(t&1&&b(0,Gn,2,1,"a",1),t&2){let i=e.$implicit,n=h();x(!i.adminOnly||n.authService.isAdmin()?0:-1)}}var At=class t{menuItems=V.required();interceptor=V(void 0);authService=g(te);configurationService=g(K);router=g(fe);handleOnClick(e,i){let n=this.interceptor();n&&n(i)||(this.configurationService.toggleSidebarItemsStatus("closed"),this.configurationService.toggleSidebarPageStatus("closed"),typeof e=="string"?this.router.navigateByUrl(e):this.router.navigate([e]))}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=f({type:t,selectors:[["menu-items"]],inputs:{menuItems:[1,"menuItems"],interceptor:[1,"interceptor"]},decls:3,vars:0,consts:[[1,"flex","flex-col","gap-2","px-4"],[1,"p-2","cursor-pointer","rounded-md","text-base-content","hover:bg-base-200","hover:text-base-content","transition-colors","duration-200"],[1,"p-2","cursor-pointer","rounded-md","text-base-content","hover:bg-base-200","hover:text-base-content","transition-colors","duration-200",3,"click"]],template:function(i,n){i&1&&(d(0,"nav",0),O(1,Zn,1,1,null,null,D),m()),i&2&&(l(),F(n.menuItems()))},styles:["[_nghost-%COMP%]{display:block}"]})};var Rt=class t{authService=g(te);configurationService=g(K);menuItems=[{label:"Mi perfil",routerLink:"/user/profile"},{label:"Mis direcciones",routerLink:"/user/directions"},{label:"Mis m\xE9todos de facturaci\xF3n",routerLink:"/user/billing"},{label:"Mis pedidos",routerLink:"/user/recipes"},{label:"Panel administrativo",routerLink:"/admin",adminOnly:!0}];static \u0275fac=function(i){return new(i||t)};static \u0275cmp=f({type:t,selectors:[["user-sidebar-options"]],decls:6,vars:1,consts:[[1,"sidebar-options"],[3,"menuItems"],[1,"logout-block"],[1,"divider","my-2"],[1,"btn","btn-ghost","w-full","justify-center","text-error","hover:bg-base-200",3,"click"]],template:function(i,n){i&1&&(a(0,"div",0),u(1,"menu-items",1),a(2,"div",2),u(3,"div",3),a(4,"button",4),C("click",function(){return[n.authService.logout(),n.configurationService.toggleSidebarPageStatus("closed")]}),r(5," Cerrar sesion "),s()()()),i&2&&(l(),v("menuItems",n.menuItems))},dependencies:[At],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;height:100%}.sidebar-options[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%}.logout-block[_ngcontent-%COMP%]{margin-top:auto;padding-inline:1rem;padding-bottom:.75rem}"]})};var $e=`${xt.baseUrl}/cart`,he=class t{http=g(Hi);toast=g(Et);auth=g(te);cartCache=new Map;cartSubject=new wi([]);cart$=this.cartSubject.asObservable();constructor(){this.loadCart().subscribe()}loadCart(){if(this.cartCache.size>0){let n=Array.from(this.cartCache.values());return this.cartSubject.next(n),se(n)}return(this.auth.authStatus()==="authenticated"?this.http.get($e):se(this.getCartFromLocalStorage())).pipe(mt(n=>this.normalizeCartItems(n)),Ie(n=>this.updateCacheAndEmit(n)))}addItem(e,i=1){let n={id:e.id,product:e,productId:e.id,quantity:i};if(this.auth.authStatus()==="authenticated")return this.toast.activateLoading(),this.http.post(`${$e}/items`,{productId:e.id,quantity:i}).pipe(Ie(c=>{this.updateCacheAndEmit([...this.cartSubject.value,c]),this.toast.activateSuccess()}),ut(()=>this.toast.deactivateLoading()));{let c=this.getCartFromLocalStorage(),p=c.find(y=>y.productId===e.id);return p?p.quantity+=i:c.push(n),this.saveCartToLocalStorage(c),this.updateCacheAndEmit(c),se(n)}}updateItem(e,i){if(this.auth.authStatus()==="authenticated")return this.toast.activateLoading(),this.http.patch(`${$e}/items/${e}`,{quantity:i}).pipe(Ie(o=>{this.cartCache.set(o.id,o),this.updateCacheAndEmit(Array.from(this.cartCache.values())),this.toast.activateSuccess()}),ut(()=>this.toast.deactivateLoading()));{let o=this.getCartFromLocalStorage().map(c=>c.id===e?Si(Ei({},c),{quantity:i}):c);return this.saveCartToLocalStorage(o),this.updateCacheAndEmit(o),se()}}removeItem(e){if(this.auth.authStatus()==="authenticated")return this.toast.activateLoading(),this.http.delete(`${$e}/items/${e}`).pipe(Ie(()=>{this.cartCache.delete(e),this.updateCacheAndEmit(Array.from(this.cartCache.values())),this.toast.activateSuccess()}),ut(()=>this.toast.deactivateLoading()));{let n=this.getCartFromLocalStorage().filter(o=>o.id!==e);return this.saveCartToLocalStorage(n),this.updateCacheAndEmit(n),se()}}getTotal(){return this.cartSubject.getValue().reduce((i,n)=>i+(n.product?.price??0)*n.quantity,0)}clearCart(){return this.auth.authStatus()==="authenticated"?this.http.delete($e).pipe(Ie(()=>this.resetCart())):(localStorage.removeItem("guestCart"),this.resetCart(),se())}getCartFromLocalStorage(){let e=localStorage.getItem("guestCart");return e?JSON.parse(e):[]}saveCartToLocalStorage(e){localStorage.setItem("guestCart",JSON.stringify(e))}updateCacheAndEmit(e){let i=this.normalizeCartItems(e);this.cartCache.clear(),i.forEach(n=>this.cartCache.set(n.id,n)),this.cartSubject.next(i)}normalizeCartItems(e){if(!e)return[];if(Array.isArray(e))return e;let i=e,n=["items","cartItems","data","cart","results"];for(let o of n){let c=i[o];if(Array.isArray(c))return c}return[]}resetCart(){this.cartCache.clear(),this.cartSubject.next([])}static \u0275fac=function(i){return new(i||t)};static \u0275prov=Ti({token:t,factory:t.\u0275fac,providedIn:"root"})};var Kn=()=>[],Yn=t=>["/product",t],Xn=(t,e)=>e.id;function Jn(t,e){if(t&1){let i=R();a(0,"div",1)(1,"figure",2),u(2,"img",3),H(3,"productImage"),s(),a(4,"div",4)(5,"div",5)(6,"div",6)(7,"button",7),C("click",function(){let o=E(i).$implicit,c=h();return S(c.startRemove(o))}),re(),a(8,"svg",8),u(9,"path",9),s()()(),de(),a(10,"h2",10),r(11),H(12,"slice"),s(),a(13,"p",11),r(14),H(15,"slice"),s()(),a(16,"div",12)(17,"p",13),r(18),H(19,"guaranies"),s(),a(20,"div",14)(21,"div",15)(22,"button",16),C("click",function(){let o=E(i).$implicit,c=h();return S(c.decreaseQuantity(o))}),r(23,"-"),s(),a(24,"span",17),r(25),s(),a(26,"button",16),C("click",function(){let o=E(i).$implicit,c=h();return S(c.increaseQuantity(o))}),r(27,"+"),s()()()()()()}if(t&2){let i=e.$implicit,n=h();Q("cart-item-removing",n.isRemoving(i.id)),l(2),v("alt",ht(i.product==null?null:i.product.title))("src",G(3,10,(i.product==null?null:i.product.images)??ne(22,Kn)),pe),l(8),v("routerLink",Be(23,Yn,i.productId)),l(),T(" ",Oe(12,12,i.product==null?null:i.product.title,0,70)," "),l(3),T(" ",Oe(15,16,i.product==null?null:i.product.description,0,100)," "),l(4),T(" ",G(19,20,(i.product==null?null:i.product.price)*i.quantity)," "),l(7),W(i.quantity)}}var Vt=class t{cartItems=V.required();cartService=g(he);removingIds=new Set;animationDelay=250;isRemoving(e){return this.removingIds.has(e)}startRemove(e){this.removingIds.has(e.id)||(this.removingIds.add(e.id),setTimeout(()=>{this.cartService.removeItem(e.id).subscribe({next:()=>this.removingIds.delete(e.id),error:()=>this.removingIds.delete(e.id),complete:()=>this.removingIds.delete(e.id)})},this.animationDelay))}increaseQuantity(e){this.cartService.updateItem(e.id,e.quantity+1).subscribe()}decreaseQuantity(e){e.quantity>1&&this.cartService.updateItem(e.id,e.quantity-1).subscribe()}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=f({type:t,selectors:[["cart-items"]],inputs:{cartItems:[1,"cartItems"]},decls:2,vars:0,consts:[[1,"relative","flex","bg-base-100","shadow-sm","rounded-lg","mb-4","min-h-40","w-full","overflow-hidden","cart-item-card",3,"cart-item-removing"],[1,"relative","flex","bg-base-100","shadow-sm","rounded-lg","mb-4","min-h-40","w-full","overflow-hidden","cart-item-card"],[1,"w-28","md:w-32","h-full","shrink-0"],[1,"w-full","h-full","object-cover","rounded-l-lg",3,"src","alt"],[1,"flex-1","p-3","flex","flex-col","justify-between"],[1,"relative"],[1,"absolute","top-0","right-0"],[1,"cursor-pointer",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","fill","currentColor",1,"h-4","w-4"],["fill-rule","evenodd","d","M16.5 4.478v.227a48.816 48.816 0 0 1 3.878.512.75.75 0 1 1-.256 1.478l-.209-.035-1.005 13.07a3 3 0 0 1-2.991 2.77H8.084a3 3 0 0 1-2.991-2.77L4.087 6.66l-.209.035a.75.75 0 0 1-.256-1.478A48.567 48.567 0 0 1 7.5 4.705v-.227c0-1.564 1.213-2.9 2.816-2.951a52.662 52.662 0 0 1 3.369 0c1.603.051 2.815 1.387 2.815 2.951Zm-6.136-1.452a51.196 51.196 0 0 1 3.273 0C14.39 3.05 15 3.684 15 4.478v.113a49.488 49.488 0 0 0-6 0v-.113c0-.794.609-1.428 1.364-1.452Zm-.355 5.945a.75.75 0 1 0-1.5.058l.347 9a.75.75 0 1 0 1.499-.058l-.346-9Zm5.48.058a.75.75 0 1 0-1.498-.058l-.347 9a.75.75 0 0 0 1.5.058l.345-9Z","clip-rule","evenodd"],[1,"card-title","cursor-pointer","min-h-10","sm:min-h-12","md:min-h-14","text-sm","sm:text-base","md:text-lg","line-clamp-2",3,"routerLink"],[1,"min-h-12","sm:min-h-16","md:min-h-18","text-xs","sm:text-sm","md:text-base","text-gray-500","mt-1","line-clamp-3"],[1,"flex","justify-between","items-center","mt-2"],[1,"font-bold","text-base"],[1,"flex","items-center","space-x-2"],[1,"flex","items-center","border","rounded-lg","border-gray-600"],[1,"px-2","cursor-pointer",3,"click"],[1,"w-4","text-center"]],template:function(i,n){i&1&&O(0,Jn,28,25,"div",0,Xn),i&2&&F(n.cartItems())},dependencies:[Z,Pt,Ct,ge],styles:["[_nghost-%COMP%]{display:block}.cart-item-card[_ngcontent-%COMP%]{transition:opacity .25s ease,transform .25s ease,filter .25s ease}.cart-item-removing[_ngcontent-%COMP%]{opacity:0;transform:translateY(12px);filter:blur(2px)}"]})};function to(t,e){if(t&1&&(a(0,"div",1),u(1,"cart-items",4),H(2,"async"),s()),t&2){let i=h();l(),v("cartItems",G(2,1,i.cartItems$))}}function io(t,e){t&1&&(a(0,"div",2),r(1," Tu carrito est\xE1 vac\xEDo "),s())}function no(t,e){if(t&1){let i=R();a(0,"div",3)(1,"div",5),r(2),H(3,"async"),H(4,"guaranies"),s(),a(5,"button",6),C("click",function(){E(i);let o=h();return S(o.clearCart())}),r(6," Vaciar carrito "),s()()}if(t&2){let i=h();l(2),T(" Total: ",G(4,3,G(3,1,i.total$))," ")}}var Lt=class t{cartService=g(he);cartItems$=this.cartService.cart$;ngOnInit(){this.cartService.loadCart().subscribe()}total$=this.cartItems$.pipe(mt(e=>e.reduce((i,n)=>i+(n.product?.price??0)*n.quantity,0)));clearCart(){this.cartService.clearCart().subscribe()}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=f({type:t,selectors:[["cart-sidebar"]],decls:6,vars:6,consts:[[1,"flex","flex-col","h-full"],[1,"flex-1"],[1,"flex-1","flex","items-center","justify-center","text-gray-500","min-h-[75vh]"],[1,"navbar","bg-base-100","shadow-sm","border-t","fixed","bottom-0","left-0","right-0","px-6","justify-between"],[3,"cartItems"],[1,"text-lg","font-semibold"],[1,"btn","btn-warning","btn-sm","ml-auto",3,"click"]],template:function(i,n){if(i&1&&(a(0,"div",0),b(1,to,3,3,"div",1),H(2,"async"),Di(3,io,2,0,"div",2),s(),b(4,no,7,5,"div",3),H(5,"async")),i&2){let o,c;l(),x(((o=G(2,2,n.cartItems$))==null?null:o.length)>0?1:3),l(3),x(((c=G(5,4,n.cartItems$))==null?null:c.length)>0?4:-1)}},dependencies:[ue,Vt,Li,ge],styles:["[_nghost-%COMP%]{display:block}"]})};function oo(t,e){t&1&&u(0,"user-sidebar-options")}function ro(t,e){t&1&&u(0,"login")}function ao(t,e){t&1&&u(0,"app-register")}function so(t,e){t&1&&u(0,"cart-sidebar")}function co(t,e){t&1&&(a(0,"p",6),r(1,"Selecciona una opci\xF3n"),s())}var Ht=class t{authService=g(te);configurationService=g(K);open=this.configurationService.sidebarPageStatus;routeName=this.configurationService.sidebarPageRouteName;getTitle=Ri(()=>{switch(this.routeName()){case"auth":return"Iniciar sesi\xF3n";case"register":return"Crear cuenta";case"userOptions":return"Hola, "+(this.authService.user()?.fullName??"");case"cartSidebar":return"Mi carrito";default:return""}});close(){this.configurationService.closeSidebar()}handleEscape(e){e.key==="Escape"&&this.open()==="open"&&this.close()}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=f({type:t,selectors:[["sidebar-page"]],hostBindings:function(i,n){i&1&&C("keydown",function(c){return n.handleEscape(c)},Te)},decls:13,vars:12,consts:[[1,"fixed","inset-0","bg-black/50","z-40","transition-opacity","duration-300","opacity-0","pointer-events-none",3,"click"],[1,"fixed","top-0","right-0","h-full","w-full","sm:w-[480px]","bg-base-100","shadow-lg","z-50","transform","transition-transform","duration-300","translate-x-full"],[1,"flex","justify-between","items-center","p-4","border-b","border-base-300"],[1,"text-lg","font-bold"],[1,"pr-2",3,"click"],[1,"p-4","overflow-y-auto","h-[calc(100%-4rem)]"],[1,"text-center","text-gray-500"]],template:function(i,n){if(i&1&&(a(0,"div",0),C("click",function(){return n.close()}),s(),a(1,"div",1)(2,"div",2)(3,"h2",3),r(4),s(),a(5,"button",4),C("click",function(){return n.close()}),u(6,"x-circle"),s()(),a(7,"div",5),b(8,oo,1,0,"user-sidebar-options")(9,ro,1,0,"login")(10,ao,1,0,"app-register")(11,so,1,0,"cart-sidebar")(12,co,2,0,"p",6),s()()),i&2){let o;Q("opacity-0",n.open()==="closed")("opacity-100",n.open()==="open")("pointer-events-none",n.open()==="closed"),l(),Q("translate-x-0",n.open()==="open")("translate-x-full",n.open()==="closed"),l(3),T(" ",n.getTitle()," "),l(4),x((o=n.routeName())==="userOptions"?8:o==="auth"?9:o==="register"?10:o==="cartSidebar"?11:12)}},dependencies:[ue,Rt,Zi,Ki,Lt,_t],styles:["[_nghost-%COMP%]{display:block}"]})};var zt=class t{configurationService=g(K);constructor(){this.configurationService.toggleSidebarItemsStatus("closed")}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=f({type:t,selectors:[["app-store-front-layout"]],decls:7,vars:0,consts:[[1,"min-h-screen","flex","flex-col"],[1,"grow","container","mx-auto","px-5","mb-10","flex","flex-col"],[1,"flex-1"]],template:function(i,n){i&1&&(a(0,"div",0),u(1,"front-menu"),a(2,"main",1)(3,"div",2),u(4,"router-outlet"),s(),u(5,"sidebar-page"),s(),u(6,"app-footer"),s())},dependencies:[ji,Dt,Ht,Nt],encapsulation:2})};function mi(t,e){t.indexOf(e)===-1&&t.push(e)}var Ue=(t,e,i)=>Math.min(Math.max(i,t),e);var j={duration:.3,delay:0,endDelay:0,repeat:0,easing:"ease"};var J=t=>typeof t=="number";var ae=t=>Array.isArray(t)&&!J(t[0]);var rn=(t,e,i)=>{let n=e-t;return((i-t)%n+n)%n+t};function an(t,e){return ae(t)?t[rn(0,t.length,e)]:t}var jt=(t,e,i)=>-i*t+i*e+t;var Qe=()=>{},q=t=>t;var ce=(t,e,i)=>e-t===0?1:(i-t)/(e-t);function qt(t,e){let i=t[t.length-1];for(let n=1;n<=e;n++){let o=ce(0,e,n);t.push(jt(i,1,o))}}function We(t){let e=[0];return qt(e,t-1),e}function Ge(t,e=We(t.length),i=q){let n=t.length,o=n-e.length;return o>0&&qt(e,o),c=>{let p=0;for(;p<n-2&&!(c<e[p+1]);p++);let y=Ue(0,1,ce(e[p],e[p+1],c));return y=an(i,p)(y),jt(t[p],t[p+1],y)}}var Ze=t=>Array.isArray(t)&&J(t[0]);var De=t=>typeof t=="object"&&!!t.createAnimation;var X=t=>typeof t=="function";var Ee=t=>typeof t=="string";var ve={ms:t=>t*1e3,s:t=>t/1e3};function di(t,e){return e?t*(1e3/e):0}var sn=(t,e,i)=>(((1-3*i+3*e)*t+(3*i-6*e))*t+3*e)*t,lo=1e-7,mo=12;function po(t,e,i,n,o){let c,p,y=0;do p=e+(i-e)/2,c=sn(p,n,o)-t,c>0?i=p:e=p;while(Math.abs(c)>lo&&++y<mo);return p}function Se(t,e,i,n){if(t===e&&i===n)return q;let o=c=>po(c,0,1,t,i);return c=>c===0||c===1?c:sn(o(c),e,n)}var pi=(t,e="end")=>i=>{i=e==="end"?Math.min(i,.999):Math.max(i,.001);let n=i*t,o=e==="end"?Math.floor(n):Math.ceil(n);return Ue(0,1,o/t)};var uo={ease:Se(.25,.1,.25,1),"ease-in":Se(.42,0,1,1),"ease-in-out":Se(.42,0,.58,1),"ease-out":Se(0,0,.58,1)},fo=/\((.*?)\)/;function ui(t){if(X(t))return t;if(Ze(t))return Se(...t);let e=uo[t];if(e)return e;if(t.startsWith("steps")){let i=fo.exec(t);if(i){let n=i[1].split(",");return pi(parseFloat(n[0]),n[1].trim())}}return q}var Ke=class{constructor(e,i=[0,1],{easing:n,duration:o=j.duration,delay:c=j.delay,endDelay:p=j.endDelay,repeat:y=j.repeat,offset:_,direction:k="normal",autoplay:N=!0}={}){if(this.startTime=null,this.rate=1,this.t=0,this.cancelTimestamp=null,this.easing=q,this.duration=0,this.totalDuration=0,this.repeat=0,this.playState="idle",this.finished=new Promise((w,oe)=>{this.resolve=w,this.reject=oe}),n=n||j.easing,De(n)){let w=n.createAnimation(i);n=w.easing,i=w.keyframes||i,o=w.duration||o}this.repeat=y,this.easing=ae(n)?q:ui(n),this.updateDuration(o);let z=Ge(i,_,ae(n)?n.map(ui):q);this.tick=w=>{var oe;c=c;let ee=0;this.pauseTime!==void 0?ee=this.pauseTime:ee=(w-this.startTime)*this.rate,this.t=ee,ee/=1e3,ee=Math.max(ee-c,0),this.playState==="finished"&&this.pauseTime===void 0&&(ee=this.totalDuration);let we=ee/this.duration,at=Math.floor(we),le=we%1;!le&&we>=1&&(le=1),le===1&&at--;let st=at%2;(k==="reverse"||k==="alternate"&&st||k==="alternate-reverse"&&!st)&&(le=1-le);let ze=ee>=this.totalDuration?1:Math.min(le,1),Pe=z(this.easing(ze));e(Pe),this.pauseTime===void 0&&(this.playState==="finished"||ee>=this.totalDuration+p)?(this.playState="finished",(oe=this.resolve)===null||oe===void 0||oe.call(this,Pe)):this.playState!=="idle"&&(this.frameRequestId=requestAnimationFrame(this.tick))},N&&this.play()}play(){let e=performance.now();this.playState="running",this.pauseTime!==void 0?this.startTime=e-this.pauseTime:this.startTime||(this.startTime=e),this.cancelTimestamp=this.startTime,this.pauseTime=void 0,this.frameRequestId=requestAnimationFrame(this.tick)}pause(){this.playState="paused",this.pauseTime=this.t}finish(){this.playState="finished",this.tick(0)}stop(){var e;this.playState="idle",this.frameRequestId!==void 0&&cancelAnimationFrame(this.frameRequestId),(e=this.reject)===null||e===void 0||e.call(this,!1)}cancel(){this.stop(),this.tick(this.cancelTimestamp)}reverse(){this.rate*=-1}commitStyles(){}updateDuration(e){this.duration=e,this.totalDuration=e*(this.repeat+1)}get currentTime(){return this.t}set currentTime(e){this.pauseTime!==void 0||this.rate===0?this.pauseTime=e:this.startTime=performance.now()-e/this.rate}get playbackRate(){return this.rate}set playbackRate(e){this.rate=e}};var fi=function(){};var Ye=class{setAnimation(e){this.animation=e,e?.finished.then(()=>this.clearAnimation()).catch(()=>{})}clearAnimation(){this.animation=this.generator=void 0}};var gi=new WeakMap;function Bt(t){return gi.has(t)||gi.set(t,{transforms:[],values:new Map}),gi.get(t)}function cn(t,e){return t.has(e)||t.set(e,new Ye),t.get(e)}var go=["","X","Y","Z"],ho=["translate","scale","rotate","skew"],Xe={x:"translateX",y:"translateY",z:"translateZ"},ln={syntax:"<angle>",initialValue:"0deg",toDefaultUnit:t=>t+"deg"},vo={translate:{syntax:"<length-percentage>",initialValue:"0px",toDefaultUnit:t=>t+"px"},rotate:ln,scale:{syntax:"<number>",initialValue:1,toDefaultUnit:q},skew:ln},Ce=new Map,Ut=t=>`--motion-${t}`,$t=["x","y","z"];ho.forEach(t=>{go.forEach(e=>{$t.push(t+e),Ce.set(Ut(t+e),vo[t])})});var Co=(t,e)=>$t.indexOf(t)-$t.indexOf(e),bo=new Set($t),Qt=t=>bo.has(t),mn=(t,e)=>{Xe[e]&&(e=Xe[e]);let{transforms:i}=Bt(t);mi(i,e),t.style.transform=xo(i)},xo=t=>t.sort(Co).reduce(yo,"").trim(),yo=(t,e)=>`${t} ${e}(var(${Ut(e)}))`;var Je=t=>t.startsWith("--"),dn=new Set;function pn(t){if(!dn.has(t)){dn.add(t);try{let{syntax:e,initialValue:i}=Ce.has(t)?Ce.get(t):{};CSS.registerProperty({name:t,inherits:!1,syntax:e,initialValue:i})}catch{}}}var hi=(t,e)=>document.createElement("div").animate(t,e),un={cssRegisterProperty:()=>typeof CSS<"u"&&Object.hasOwnProperty.call(CSS,"registerProperty"),waapi:()=>Object.hasOwnProperty.call(Element.prototype,"animate"),partialKeyframes:()=>{try{hi({opacity:[1]})}catch{return!1}return!0},finished:()=>!!hi({opacity:[0,1]},{duration:.001}).finished,linearEasing:()=>{try{hi({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0}},vi={},be={};for(let t in un)be[t]=()=>(vi[t]===void 0&&(vi[t]=un[t]()),vi[t]);var _o=.015,Eo=(t,e)=>{let i="",n=Math.round(e/_o);for(let o=0;o<n;o++)i+=t(ce(0,n-1,o))+", ";return i.substring(0,i.length-2)},Ci=(t,e)=>X(t)?be.linearEasing()?`linear(${Eo(t,e)})`:j.easing:Ze(t)?So(t):t,So=([t,e,i,n])=>`cubic-bezier(${t}, ${e}, ${i}, ${n})`;function fn(t,e){for(let i=0;i<t.length;i++)t[i]===null&&(t[i]=i?t[i-1]:e());return t}var gn=t=>Array.isArray(t)?t:[t];function et(t){return Xe[t]&&(t=Xe[t]),Qt(t)?Ut(t):t}var tt={get:(t,e)=>{e=et(e);let i=Je(e)?t.style.getPropertyValue(e):getComputedStyle(t)[e];if(!i&&i!==0){let n=Ce.get(e);n&&(i=n.initialValue)}return i},set:(t,e,i)=>{e=et(e),Je(e)?t.style.setProperty(e,i):t.style[e]=i}};function Wt(t,e=!0){if(!(!t||t.playState==="finished"))try{t.stop?t.stop():(e&&t.commitStyles(),t.cancel())}catch{}}function hn(t,e){var i;let n=e?.toDefaultUnit||q,o=t[t.length-1];if(Ee(o)){let c=((i=o.match(/(-?[\d.]+)([a-z%]*)/))===null||i===void 0?void 0:i[2])||"";c&&(n=p=>p+c)}return n}function wo(){return window.__MOTION_DEV_TOOLS_RECORD}function vn(t,e,i,n={},o){let c=wo(),p=n.record!==!1&&c,y,{duration:_=j.duration,delay:k=j.delay,endDelay:N=j.endDelay,repeat:z=j.repeat,easing:w=j.easing,persist:oe=!1,direction:ee,offset:we,allowWebkitAcceleration:at=!1,autoplay:le=!0}=n,st=Bt(t),ze=Qt(e),Pe=be.waapi();ze&&mn(t,e);let ie=et(e),ct=cn(st.values,ie),me=Ce.get(ie);return Wt(ct.animation,!(De(w)&&ct.generator)&&n.record!==!1),()=>{let lt=()=>{var A,je;return(je=(A=tt.get(t,ie))!==null&&A!==void 0?A:me?.initialValue)!==null&&je!==void 0?je:0},L=fn(gn(i),lt),_i=hn(L,me);if(De(w)){let A=w.createAnimation(L,e!=="opacity",lt,ie,ct);w=A.easing,L=A.keyframes||L,_=A.duration||_}if(Je(ie)&&(be.cssRegisterProperty()?pn(ie):Pe=!1),ze&&!be.linearEasing()&&(X(w)||ae(w)&&w.some(X))&&(Pe=!1),Pe){me&&(L=L.map(ye=>J(ye)?me.toDefaultUnit(ye):ye)),L.length===1&&(!be.partialKeyframes()||p)&&L.unshift(lt());let A={delay:ve.ms(k),duration:ve.ms(_),endDelay:ve.ms(N),easing:ae(w)?void 0:Ci(w,_),direction:ee,iterations:z+1,fill:"both"};y=t.animate({[ie]:L,offset:we,easing:ae(w)?w.map(ye=>Ci(ye,_)):void 0},A),y.finished||(y.finished=new Promise((ye,Ln)=>{y.onfinish=ye,y.oncancel=Ln}));let je=L[L.length-1];y.finished.then(()=>{oe||(tt.set(t,ie,je),y.cancel())}).catch(Qe),at||(y.playbackRate=1.000001)}else if(o&&ze)L=L.map(A=>typeof A=="string"?parseFloat(A):A),L.length===1&&L.unshift(parseFloat(lt())),y=new o(A=>{tt.set(t,ie,_i?_i(A):A)},L,Object.assign(Object.assign({},n),{duration:_,easing:w}));else{let A=L[L.length-1];tt.set(t,ie,me&&J(A)?me.toDefaultUnit(A):A)}return p&&c(t,e,L,{duration:_,delay:k,easing:w,repeat:z,offset:we},"motion-one"),ct.setAnimation(y),y&&!le&&y.pause(),y}}var Cn=(t,e)=>t[e]?Object.assign(Object.assign({},t),t[e]):Object.assign({},t);function Gt(t,e){var i;return typeof t=="string"?e?((i=e[t])!==null&&i!==void 0||(e[t]=document.querySelectorAll(t)),t=e[t]):t=document.querySelectorAll(t):t instanceof Element&&(t=[t]),Array.from(t||[])}var Po=t=>t(),bn=(t,e,i=j.duration)=>new Proxy({animations:t.map(Po).filter(Boolean),duration:i,options:e},Io),Mo=t=>t.animations[0],Io={get:(t,e)=>{let i=Mo(t);switch(e){case"duration":return t.duration;case"currentTime":return ve.s(i?.[e]||0);case"playbackRate":case"playState":return i?.[e];case"finished":return t.finished||(t.finished=Promise.all(t.animations.map(To)).catch(Qe)),t.finished;case"stop":return()=>{t.animations.forEach(n=>Wt(n))};case"forEachNative":return n=>{t.animations.forEach(o=>n(o,t))};default:return typeof i?.[e]>"u"?void 0:()=>t.animations.forEach(n=>n[e]())}},set:(t,e,i)=>{switch(e){case"currentTime":i=ve.ms(i);case"playbackRate":for(let n=0;n<t.animations.length;n++)t.animations[n][e]=i;return!0}return!1}},To=t=>t.finished;function xn(t,e,i){return X(t)?t(e,i):t}function yn(t){return function(i,n,o={}){i=Gt(i);let c=i.length;fi(!!c,"No valid element provided."),fi(!!n,"No keyframes defined.");let p=[];for(let y=0;y<c;y++){let _=i[y];for(let k in n){let N=Cn(o,k);N.delay=xn(N.delay,y,c);let z=vn(_,k,n[k],N,t);p.push(z)}}return bn(p,o,o.duration)}}var Ne=yn(Ke);var Zt=new WeakMap,xe;function ko(t,e){if(e){let{inlineSize:i,blockSize:n}=e[0];return{width:i,height:n}}else return t instanceof SVGElement&&"getBBox"in t?t.getBBox():{width:t.offsetWidth,height:t.offsetHeight}}function Oo({target:t,contentRect:e,borderBoxSize:i}){var n;(n=Zt.get(t))===null||n===void 0||n.forEach(o=>{o({target:t,contentSize:e,get size(){return ko(t,i)}})})}function Fo(t){t.forEach(Oo)}function Do(){typeof ResizeObserver>"u"||(xe=new ResizeObserver(Fo))}function _n(t,e){xe||Do();let i=Gt(t);return i.forEach(n=>{let o=Zt.get(n);o||(o=new Set,Zt.set(n,o)),o.add(e),xe?.observe(n)}),()=>{i.forEach(n=>{let o=Zt.get(n);o?.delete(e),o?.size||xe?.unobserve(n)})}}var Kt=new Set,it;function No(){it=()=>{let t={width:window.innerWidth,height:window.innerHeight},e={target:window,size:t,contentSize:t};Kt.forEach(i=>i(e))},window.addEventListener("resize",it)}function En(t){return Kt.add(t),it||No(),()=>{Kt.delete(t),!Kt.size&&it&&(it=void 0)}}function Sn(t,e){return X(t)?En(t):_n(t,e)}var Ao=50,wn=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),Mn=()=>({time:0,x:wn(),y:wn()}),Ro={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function Pn(t,e,i,n){let o=i[e],{length:c,position:p}=Ro[e],y=o.current,_=i.time;o.current=t[`scroll${p}`],o.scrollLength=t[`scroll${c}`]-t[`client${c}`],o.offset.length=0,o.offset[0]=0,o.offset[1]=o.scrollLength,o.progress=ce(0,o.scrollLength,o.current);let k=n-_;o.velocity=k>Ao?0:di(o.current-y,k)}function In(t,e,i){Pn(t,"x",e,i),Pn(t,"y",e,i),e.time=i}function Tn(t,e){let i={x:0,y:0},n=t;for(;n&&n!==e;)if(n instanceof HTMLElement)i.x+=n.offsetLeft,i.y+=n.offsetTop,n=n.offsetParent;else if(n instanceof SVGGraphicsElement&&"getBBox"in n){let{top:o,left:c}=n.getBBox();for(i.x+=c,i.y+=o;n&&n.tagName!=="svg";)n=n.parentNode}return i}var kn={Enter:[[0,1],[1,1]],Exit:[[0,0],[1,0]],Any:[[1,0],[0,1]],All:[[0,0],[1,1]]};var Yt={start:0,center:.5,end:1};function bi(t,e,i=0){let n=0;if(Yt[t]!==void 0&&(t=Yt[t]),Ee(t)){let o=parseFloat(t);t.endsWith("px")?n=o:t.endsWith("%")?t=o/100:t.endsWith("vw")?n=o/100*document.documentElement.clientWidth:t.endsWith("vh")?n=o/100*document.documentElement.clientHeight:t=o}return J(t)&&(n=e*t),i+n}var Vo=[0,0];function On(t,e,i,n){let o=Array.isArray(t)?t:Vo,c=0,p=0;return J(t)?o=[t,t]:Ee(t)&&(t=t.trim(),t.includes(" ")?o=t.split(" "):o=[t,Yt[t]?t:"0"]),c=bi(o[0],i,n),p=bi(o[1],e),c-p}var Lo={x:0,y:0};function Fn(t,e,i){let{offset:n=kn.All}=i,{target:o=t,axis:c="y"}=i,p=c==="y"?"height":"width",y=o!==t?Tn(o,t):Lo,_=o===t?{width:t.scrollWidth,height:t.scrollHeight}:{width:o.clientWidth,height:o.clientHeight},k={width:t.clientWidth,height:t.clientHeight};e[c].offset.length=0;let N=!e[c].interpolate,z=n.length;for(let w=0;w<z;w++){let oe=On(n[w],k[p],_[p],y[c]);!N&&oe!==e[c].interpolatorOffsets[w]&&(N=!0),e[c].offset[w]=oe}N&&(e[c].interpolate=Ge(We(z),e[c].offset),e[c].interpolatorOffsets=[...e[c].offset]),e[c].progress=e[c].interpolate(e[c].current)}function Ho(t,e=t,i){if(i.x.targetOffset=0,i.y.targetOffset=0,e!==t){let n=e;for(;n&&n!=t;)i.x.targetOffset+=n.offsetLeft,i.y.targetOffset+=n.offsetTop,n=n.offsetParent}i.x.targetLength=e===t?e.scrollWidth:e.clientWidth,i.y.targetLength=e===t?e.scrollHeight:e.clientHeight,i.x.containerLength=t.clientWidth,i.y.containerLength=t.clientHeight}function Dn(t,e,i,n={}){let o=n.axis||"y";return{measure:()=>Ho(t,n.target,i),update:c=>{In(t,i,c),(n.offset||n.target)&&Fn(t,i,n)},notify:X(e)?()=>e(i):zo(e,i[o])}}function zo(t,e){return t.pause(),t.forEachNative((i,{easing:n})=>{var o,c;if(i.updateDuration)n||(i.easing=q),i.updateDuration(1);else{let p={duration:1e3};n||(p.easing="linear"),(c=(o=i.effect)===null||o===void 0?void 0:o.updateTiming)===null||c===void 0||c.call(o,p)}}),()=>{t.currentTime=e.progress}}var nt=new WeakMap,Nn=new WeakMap,xi=new WeakMap,An=t=>t===document.documentElement?window:t;function yi(t,e={}){var{container:i=document.documentElement}=e,n=Pi(e,["container"]);let o=xi.get(i);o||(o=new Set,xi.set(i,o));let c=Mn(),p=Dn(i,t,c,n);if(o.add(p),!nt.has(i)){let k=()=>{let z=performance.now();for(let w of o)w.measure();for(let w of o)w.update(z);for(let w of o)w.notify()};nt.set(i,k);let N=An(i);window.addEventListener("resize",k,{passive:!0}),i!==document.documentElement&&Nn.set(i,Sn(i,k)),N.addEventListener("scroll",k,{passive:!0})}let y=nt.get(i),_=requestAnimationFrame(y);return()=>{var k;typeof t!="function"&&t.stop(),cancelAnimationFrame(_);let N=xi.get(i);if(!N||(N.delete(p),N.size))return;let z=nt.get(i);nt.delete(i),z&&(An(i).removeEventListener("scroll",z),(k=Nn.get(i))===null||k===void 0||k(),window.removeEventListener("resize",z))}}var Ae=class t{contact=V.required();static \u0275fac=function(i){return new(i||t)};static \u0275cmp=f({type:t,selectors:[["contact-card"]],inputs:{contact:[1,"contact"]},decls:8,vars:3,consts:[[1,"card","bg-base-100","w-96","shadow-md","hover:shadow-lg","transition-shadow","duration-300"],[1,"card-body","items-center","text-center"],[1,"card-title","text-xl","text-primary","mb-2"],[1,"text-sm","opacity-80"]],template:function(i,n){i&1&&(d(0,"div",0)(1,"div",1)(2,"h3",2),r(3),m(),d(4,"p",3),r(5),m(),d(6,"p",3),r(7),m()()()),i&2&&(l(3),T(" ",n.contact().title," "),l(2),T(" \u{1F4DE} ",n.contact().phone," "),l(2),T(" \u2709\uFE0F ",n.contact().email," "))},styles:["[_nghost-%COMP%]{display:block}"]})};function jo(t,e){t&1&&u(0,"loading")}function qo(t,e){if(t&1&&u(0,"contact-card",4),t&2){let i=e.$implicit;v("contact",i)}}function Bo(t,e){if(t&1&&(a(0,"div",2),O(1,qo,1,1,"contact-card",4,D),s()),t&2){let i=h();l(),F(i.contacts())}}function $o(t,e){t&1&&(a(0,"div",3)(1,"p",5),r(2,"No hay contactos disponibles."),s(),a(3,"button",6),r(4,"Ver informaci\xF3n de contacto"),s()())}var Xt=class t{contactService=g(St);contacts=I([]);loading=I(!0);async ngOnInit(){try{let e=await this.contactService.getAll().toPromise();this.contacts.set((e??[]).slice(0,2))}finally{this.loading.set(!1)}}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=f({type:t,selectors:[["home-contacts"]],decls:6,vars:1,consts:[[1,"mt-12","mb-20"],[1,"text-3xl","font-bold","mb-4"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-6","justify-center","justify-items-center"],[1,"empty-state"],[3,"contact"],[1,"text-base-content/70"],["routerLink","/contact",1,"btn","btn-primary","btn-sm","mt-3"]],template:function(i,n){i&1&&(a(0,"section",0)(1,"h2",1),r(2,"\xBFNecesitas ayuda?"),s(),b(3,jo,1,0,"loading")(4,Bo,3,0,"div",2)(5,$o,5,0,"div",3),s()),i&2&&(l(3),x(n.loading()?3:n.contacts().length?4:5))},dependencies:[Ae,Y],styles:["[_nghost-%COMP%]{display:block}.empty-state[_ngcontent-%COMP%]{border:1px dashed rgba(148,163,184,.4);border-radius:14px;padding:24px 18px;text-align:center;background:#f1f5f980}"]})};function Uo(t,e){t&1&&r(0," Agregando... ")}function Qo(t,e){t&1&&r(0," Agregado ")}function Wo(t,e){t&1&&r(0," Agregar al carrito ")}var Re=class t{product=V.required();quantity=V(1);buttonClass=V("");disabled=V(!1);cartService=g(he);toastService=g(Et);loading=I(!1);success=I(!1);buttonClasses(){return["btn btn-primary flex items-center justify-center min-w-[150px]",this.buttonClass()].filter(Boolean).join(" ")}addToCart(){if(this.disabled())return;let e=this.product();if(!e)return;let i=Math.max(1,Number(this.quantity())||1);this.toastService.activateLoading(),this.loading.set(!0),this.success.set(!1),this.cartService.addItem(e,i).subscribe({next:()=>{this.toastService.activateSuccess(),this.loading.set(!1),this.success.set(!0),setTimeout(()=>this.success.set(!1),800)},error:()=>{this.toastService.deactivateLoading(),this.loading.set(!1)}})}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=f({type:t,selectors:[["add-to-cart-button"]],inputs:{product:[1,"product"],quantity:[1,"quantity"],buttonClass:[1,"buttonClass"],disabled:[1,"disabled"]},decls:4,vars:4,consts:[["type","button",3,"click","disabled"]],template:function(i,n){i&1&&(d(0,"button",0),ke("click",function(){return n.addToCart()}),b(1,Uo,1,0)(2,Qo,1,0)(3,Wo,1,0),m()),i&2&&(Ni(n.buttonClasses()),ft("disabled",n.loading()||n.disabled()),l(),x(n.loading()?1:n.success()?2:3))},styles:["[_nghost-%COMP%]{display:inline-block}button[_ngcontent-%COMP%]:disabled{opacity:.7;cursor:not-allowed}"]})};var Go=()=>[],Rn=t=>["/product",t],Ve=class t{product=V.required();static \u0275fac=function(i){return new(i||t)};static \u0275cmp=f({type:t,selectors:[["product-card"]],inputs:{product:[1,"product"]},decls:16,vars:26,consts:[[1,"product-appear","card","bg-base-100","shadow-none","hover:shadow-2xl","transition-shadow","duration-300","opacity-90","hover:opacity-300","w-full","max-w-[260px]","sm:max-w-[280px]","md:max-w-[300px]","mx-auto"],[1,"w-full","h-48","flex","items-center","justify-center","bg-base-200","overflow-hidden"],[1,"cursor-pointer","w-full","h-full","object-cover","object-center",3,"src","alt","routerLink"],[1,"card-body","p-3","sm:p-4","md:p-5"],[1,"card-title","cursor-pointer","min-h-10","sm:min-h-12","md:min-h-14","text-sm","sm:text-base","md:text-lg","line-clamp-2","justify-center",3,"routerLink"],[1,"min-h-12","sm:min-h-16","md:min-h-18","text-xs","sm:text-sm","md:text-base","line-clamp-3"],[1,"mt-2","flex","flex-col","items-center"],[1,"font-bold","text-sm","sm:text-base","md:text-lg"],["buttonClass","card-actions btn-sm sm:btn-md mt-2 relative",3,"product"]],template:function(i,n){i&1&&(a(0,"div",0)(1,"figure",1),u(2,"img",2),H(3,"productImage"),s(),a(4,"div",3)(5,"h2",4),r(6),H(7,"slice"),s(),a(8,"p",5),r(9),H(10,"slice"),s(),a(11,"div",6)(12,"p",7),r(13),H(14,"guaranies"),s(),u(15,"add-to-cart-button",8),s()()()),i&2&&(l(2),v("alt",ht(n.product().title))("src",G(3,9,n.product().images??ne(21,Go)),pe)("routerLink",Be(22,Rn,n.product().slug)),l(3),v("routerLink",Be(24,Rn,n.product().slug)),l(),T(" ",Oe(7,11,n.product().title,0,70)," "),l(3),T(" ",Oe(10,15,n.product().description,0,100)," "),l(4),T(" ",G(14,19,n.product().price)," "),l(2),v("product",n.product()))},dependencies:[Z,Re,Ct,Pt,ge],styles:["[_nghost-%COMP%]{display:block}.product-card[_ngcontent-%COMP%]{width:100%;max-width:280px;margin-inline:auto}.product-appear[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_productFadeIn .7s cubic-bezier(.2,.8,.35,1) forwards;will-change:transform,opacity;transform:translateZ(0)}@keyframes _ngcontent-%COMP%_productFadeIn{0%{opacity:0;transform:translateY(16px)}to{opacity:1;transform:translateY(0)}}"]})};var Zo=["swiper"];function Ko(t,e){if(t&1&&(a(0,"swiper-slide")(1,"div",2),u(2,"product-card",3),s()()),t&2){let i=e.$implicit;l(2),v("product",i)}}var Jt=class t{products=V.required();swiperRef;initialized=!1;listenersAttached=!1;ngAfterViewInit(){this.configureSwiper()}onResize(){this.configureSwiper()}configureSwiper(){let e=this.swiperRef?.nativeElement;if(!e)return;let i=this.products()??[],n=i.length>1,o=e.swiper;n?(e.navigation=!0,e.centeredSlides=!0,e.centeredSlidesBounds=!0,e.loop=i.length>2,e.allowTouchMove=!0,e.autoplay={delay:4500,disableOnInteraction:!1,pauseOnMouseEnter:!0},e.speed=800,e.breakpoints={0:{slidesPerView:"auto",spaceBetween:18},640:{slidesPerView:"auto",spaceBetween:22},1024:{slidesPerView:"auto",spaceBetween:26},1280:{slidesPerView:"auto",spaceBetween:32}},o&&(o.params.allowTouchMove=!0,o.allowTouchMove=!0,o.params.autoplay=o.params.autoplay||{},o.params.autoplay.pauseOnMouseEnter=!0,o.params.autoplay.disableOnInteraction=!1,this.attachHoverHandlers(e))):(e.navigation=!1,e.loop=!1,e.autoplay=!1,e.centeredSlides=!1,e.centeredSlidesBounds=!1,e.allowTouchMove=!1,e.breakpoints={0:{slidesPerView:"auto",spaceBetween:18},640:{slidesPerView:"auto",spaceBetween:22},1024:{slidesPerView:"auto",spaceBetween:28},1280:{slidesPerView:"auto",spaceBetween:32}},o&&(o.params.allowTouchMove=!1,o.allowTouchMove=!1,this.detachHoverHandlers(e))),this.initialized?(e.updateSwiper?.(),n?(e.swiper?.slideToLoop?.(0),e.swiper?.autoplay?.start?.()):e.swiper?.autoplay?.stop?.()):(e.initialize(),this.initialized=!0)}attachHoverHandlers(e){this.listenersAttached||(e.addEventListener("mouseenter",()=>{e.swiper?.autoplay?.stop?.()}),e.addEventListener("mouseleave",()=>{e.swiper?.autoplay?.start?.()}),this.listenersAttached=!0)}detachHoverHandlers(e){e.swiper?.autoplay?.stop?.()}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=f({type:t,selectors:[["product-carrusel"]],viewQuery:function(i,n){if(i&1&&B(Zo,5),i&2){let o;$(o=U())&&(n.swiperRef=o.first)}},hostBindings:function(i,n){i&1&&C("resize",function(){return n.onResize()},Te)},inputs:{products:[1,"products"]},decls:4,vars:0,consts:[["swiper",""],["slides-per-view","auto","space-between","12","navigation","true","dir","ltr",1,"w-full","overflow-hidden","sm:overflow-visible"],[1,"w-[260px]","sm:w-[280px]","md:w-[300px]"],[3,"product"]],template:function(i,n){i&1&&(a(0,"swiper-container",1,0),O(2,Ko,3,1,"swiper-slide",null,D),s()),i&2&&(l(2),F(n.products()))},dependencies:[ue,Ve],styles:["[_nghost-%COMP%]{display:block;width:100%;max-width:100vw;overflow:hidden}swiper-container[_ngcontent-%COMP%]{--swiper-navigation-color: #9ca3af;--swiper-navigation-size: 24px;--swiper-navigation-sides-offset: 14px;width:100%;max-width:100%;margin-inline:auto;padding-inline:8px;box-sizing:border-box}swiper-slide[_ngcontent-%COMP%]{width:auto!important}"]})};var Yo=()=>[];function Xo(t,e){t&1&&u(0,"loading")}function Jo(t,e){if(t&1&&u(0,"product-carrusel",4),t&2){let i,n=h();v("products",((i=n.productResponse())==null?null:i.products)??ne(1,Yo))}}function er(t,e){t&1&&(a(0,"div",5)(1,"p",6),r(2,"No hay productos destacados por ahora."),s(),a(3,"button",7),r(4,"Explorar productos"),s()())}var ei=class t{productResponse;loading;error;constructor(){let{productResponse:e,loading:i,error:n,loadProducts:o}=Mt();this.productResponse=e,this.loading=i,this.error=n,vt(()=>{o({isFeatured:!0,limit:12})})}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=f({type:t,selectors:[["home-featured-products"]],decls:9,vars:1,consts:[[1,"mt-12","overflow-hidden"],[1,"flex","items-center","justify-between","mb-2"],[1,"text-3xl","font-bold"],["routerLink","/products",1,"btn","btn-link"],[3,"products"],[1,"empty-state"],[1,"text-base-content/70"],["routerLink","/products",1,"btn","btn-primary","btn-sm","mt-3"]],template:function(i,n){if(i&1&&(a(0,"section",0)(1,"div",1)(2,"h2",2),r(3,"Productos destacados"),s(),a(4,"button",3),r(5,"Ver todo"),s()(),b(6,Xo,1,0,"loading")(7,Jo,1,2,"product-carrusel",4)(8,er,5,0,"div",5),s()),i&2){let o;l(6),x(n.loading()?6:!((o=n.productResponse())==null||o.products==null)&&o.products.length?7:8)}},dependencies:[Z,Jt,Y],styles:["[_nghost-%COMP%]{display:block}.empty-state[_ngcontent-%COMP%]{border:1px dashed rgba(148,163,184,.4);border-radius:14px;padding:24px 18px;text-align:center;background:#f1f5f980}"]})};var tr=["heroBg"],ir=()=>({q:"Pan"}),nr=()=>({q:"Galleta"}),or=()=>({q:"Cerveza"}),rr=()=>({q:"Pizza"}),ti=class t{heroBg;ngAfterViewInit(){Ne(".hero-title",{opacity:[0,1],y:["40px","0px"]},{duration:.7}),Ne(".hero-sub",{opacity:[0,1]},{duration:1}),yi(({y:e})=>{let i=e.progress;this.heroBg.nativeElement.style.transform=`translateY(${i*60}px)`},{target:this.heroBg.nativeElement})}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=f({type:t,selectors:[["home-hero"]],viewQuery:function(i,n){if(i&1&&B(tr,5),i&2){let o;$(o=U())&&(n.heroBg=o.first)}},decls:38,vars:8,consts:[["heroBg",""],[1,"hero","w-screen","mx-[calc(50%-50vw)]","flex","items-center","justify-center","relative","overflow-hidden","py-4","md:py-6"],[1,"hero-bg","absolute","inset-0"],[1,"absolute","inset-0","bg-linear-to-br","from-amber-800/85","via-orange-600/60","to-amber-400/35"],[1,"relative","text-center","text-white","px-4","max-w-4xl","mx-auto"],[1,"hero-title","text-4xl","md:text-6xl","font-extrabold","leading-tight","sm:whitespace-nowrap"],[1,"text-yellow-300"],[1,"mt-5","md:mt-4","grid","grid-cols-2","md:grid-cols-4","gap-2","md:gap-3","justify-items-center"],["routerLink","/products",1,"w-full","max-w-[180px]",3,"queryParams"],[1,"rounded-xl","border","border-white/10","bg-white/10","hover:bg-white/20","backdrop-blur","p-3","transition-colors"],[1,"block","text-base","md:text-lg","font-semibold"],[1,"block","text-xs","opacity-80"],[1,"hero-sub","opacity-80","mt-3","text-sm","md:text-base"],["routerLink","/products",1,"btn","btn-secondary","mt-3"]],template:function(i,n){i&1&&(a(0,"section",1),u(1,"div",2,0)(3,"div",3),a(4,"div",4)(5,"h1",5),r(6," Sabores aut\xE9nticos, "),a(7,"span",6),r(8,"sin gluten"),s()(),a(9,"div",7)(10,"a",8)(11,"div",9)(12,"span",10),r(13,"Panes"),s(),a(14,"span",11),r(15,"Reci\xE9n horneado"),s()()(),a(16,"a",8)(17,"div",9)(18,"span",10),r(19,"Galletas"),s(),a(20,"span",11),r(21,"Dulces y exquisitas"),s()()(),a(22,"a",8)(23,"div",9)(24,"span",10),r(25,"Cervezas"),s(),a(26,"span",11),r(27,"Para cada ocasi\xF3n"),s()()(),a(28,"a",8)(29,"div",9)(30,"span",10),r(31,"Pizzas"),s(),a(32,"span",11),r(33,"Lista para disfrutar"),s()()()(),a(34,"p",12),r(35," Eleg\xED tu favorito, sin renunciar al sabor. "),s(),a(36,"button",13),r(37," Todos los productos "),s()()()),i&2&&(l(10),v("queryParams",ne(4,ir)),l(6),v("queryParams",ne(5,nr)),l(6),v("queryParams",ne(6,or)),l(6),v("queryParams",ne(7,rr)))},dependencies:[Z],styles:['[_nghost-%COMP%]{display:block}.hero-bg[_ngcontent-%COMP%]{background-image:"assets/hero-bg.jpg";background-size:cover;background-position:center;will-change:transform}']})};var ar=["swiper"];function sr(t,e){if(t&1&&(d(0,"swiper-slide",2),_e(1,"img",4),m()),t&2){let i=e.$implicit;l(),ft("src",i,pe)}}function cr(t,e){if(t&1&&O(0,sr,2,1,"swiper-slide",2,D),t&2){let i=h();F(i.images())}}function lr(t,e){t&1&&(d(0,"swiper-slide",2),_e(1,"img",5),m())}var Le=class t{images=V.required();spaceBetween=10;slidesPerView=1;slideChange=new qe;swiperRef;ngAfterViewInit(){let e=this.swiperRef?.nativeElement;if(e){let i=this.images();e.pagination={clickable:!0,dynamicBullets:!0,type:"bullets"},e.navigation=!0,e.autoplay={delay:5e3,disableOnInteraction:!1,pauseOnMouseEnter:!0,reverseDirection:!1},e.speed=1200,e.effect="fade",e.fadeEffect={crossFade:!0},e.spaceBetween=this.spaceBetween,e.rewind=!1,e.loopAdditionalSlides=1,e.slidesPerView=this.slidesPerView,e.loop=i&&i.length>1,e.initialize(),e.addEventListener("slidechange",()=>{let n=e.swiper?.realIndex??0;this.slideChange.emit(n)})}}goTo(e){let i=this.swiperRef?.nativeElement;i?.swiper&&(i.swiper.slideToLoop(e),this.slideChange.emit(e))}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=f({type:t,selectors:[["image-carrusel"]],viewQuery:function(i,n){if(i&1&&B(ar,5),i&2){let o;$(o=U())&&(n.swiperRef=o.first)}},inputs:{images:[1,"images"]},outputs:{slideChange:"slideChange"},decls:5,vars:1,consts:[["swiper",""],["navigation","true","pagination","true","pagination-clickable","true","autoplay","true","autoplay-delay","5000","autoplay-disable-on-interaction","false","autoplay-pause-on-mouse-enter","true","speed","1200","effect","fade","fade-effect-cross-fade","true","dir","ltr",1,"w-full","h-full"],[1,"w-full","h-full","flex","justify-center","items-center"],["slot","pagination",1,"swiper-pagination"],["alt","Imagen",1,"w-full","h-full","object-cover","object-center",3,"src"],["src","assets/images/default-image.jpg","alt","Imagen por defecto",1,"w-full","h-full","object-cover","object-center","opacity-80"]],template:function(i,n){i&1&&(d(0,"swiper-container",1,0),b(2,cr,2,0)(3,lr,2,0,"swiper-slide",2),_e(4,"div",3),m()),i&2&&(l(2),x(n.images().length?2:3))},styles:["[_nghost-%COMP%]{display:block}swiper-container[_ngcontent-%COMP%]{height:100%;--swiper-theme-color: #ffffff;--swiper-navigation-color: #ffffff;--swiper-pagination-color: #ffffff;--swiper-pagination-bullet-inactive-color: #e5e7eb;--swiper-pagination-bullet-inactive-opacity: .6;--swiper-pagination-bullet-size: 10px;--swiper-pagination-bullet-horizontal-gap: 6px;--swiper-navigation-size: 28px;--swiper-navigation-sides-offset: 40px}swiper-slide[_ngcontent-%COMP%]{height:100%}swiper-slide[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;object-position:center center;display:block}swiper-container[_ngcontent-%COMP%]::part(button-prev), swiper-container[_ngcontent-%COMP%]::part(button-next), swiper-container[_ngcontent-%COMP%]::part(pagination){z-index:50;filter:drop-shadow(0 2px 4px rgba(0,0,0,.6))}swiper-container[_ngcontent-%COMP%]::part(button-prev), swiper-container[_ngcontent-%COMP%]::part(button-next){top:52%;transform:translateY(-50%)}swiper-container[_ngcontent-%COMP%]::part(pagination){bottom:24px;left:0;right:0;width:100%;display:flex;justify-content:center}swiper-container[_ngcontent-%COMP%]   [slot=pagination][_ngcontent-%COMP%]{position:absolute;left:0;right:0;bottom:24px;z-index:50;filter:drop-shadow(0 2px 4px rgba(0,0,0,.6));display:flex;justify-content:center}@media (max-width: 640px){swiper-container[_ngcontent-%COMP%]{--swiper-navigation-sides-offset: 28px;--swiper-navigation-size: 22px;--swiper-pagination-bullet-size: 5px;--swiper-pagination-bullet-horizontal-gap: 4px}swiper-container[_ngcontent-%COMP%]::part(pagination){bottom:18px}swiper-container[_ngcontent-%COMP%]   [slot=pagination][_ngcontent-%COMP%]{bottom:18px}}"]})};var ii=class t{images=["assets/images/gluten-free.jpg","assets/images/gluten-free-450.jpg"];static \u0275fac=function(i){return new(i||t)};static \u0275cmp=f({type:t,selectors:[["home-promos"]],decls:3,vars:1,consts:[[1,"w-screen","mx-[calc(50%-50vw)]","overflow-hidden","relative"],[1,"promo-aspect","relative","w-full"],[1,"absolute","inset-0","w-full","h-full","block",3,"images"]],template:function(i,n){i&1&&(a(0,"section",0)(1,"div",1),u(2,"image-carrusel",2),s()()),i&2&&(l(2),v("images",n.images))},dependencies:[Le],styles:["[_nghost-%COMP%]{display:block}.promo-img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.promo-aspect[_ngcontent-%COMP%]{aspect-ratio:1920 / 450}"]})};var He=class t{recipe=V.required();static \u0275fac=function(i){return new(i||t)};static \u0275cmp=f({type:t,selectors:[["recipe-card"]],inputs:{recipe:[1,"recipe"]},decls:6,vars:2,consts:[[1,"card","bg-base-100","max-w-md","md:max-w-lg","shadow-md","hover:shadow-lg","transition-shadow","duration-300","w-full"],[1,"card-body","items-center","text-center"],[1,"card-title","text-xl","text-primary","mb-2"],[1,"text-sm","opacity-80"]],template:function(i,n){i&1&&(d(0,"div",0)(1,"div",1)(2,"h3",2),r(3),m(),d(4,"p",3),r(5),m()()()),i&2&&(l(3),T(" ",n.recipe().title," "),l(2),T(" ",n.recipe().text," "))},styles:["[_nghost-%COMP%]{display:block}"]})};function mr(t,e){t&1&&u(0,"loading")}function dr(t,e){if(t&1&&u(0,"recipe-card",6),t&2){let i=e.$implicit;v("recipe",i)}}function pr(t,e){if(t&1&&(a(0,"div",4),O(1,dr,1,1,"recipe-card",6,D),s()),t&2){let i=h();l(),F(i.recipes())}}function ur(t,e){t&1&&(a(0,"div",5)(1,"p",7),r(2,"No hay recetas disponibles hoy."),s(),a(3,"button",8),r(4,"Ver recetas"),s()())}var ni=class t{recipeService=g(It);recipes=I([]);loading=I(!0);async ngOnInit(){try{let e=await this.recipeService.getAll().toPromise();this.recipes.set((e??[]).slice(0,3))}finally{this.loading.set(!1)}}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=f({type:t,selectors:[["home-recipes"]],decls:9,vars:1,consts:[[1,"mt-12"],[1,"flex","items-center","justify-between","mb-2"],[1,"text-3xl","font-bold"],["routerLink","/recipe",1,"btn","btn-link"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-6","justify-center","justify-items-center"],[1,"empty-state"],[3,"recipe"],[1,"text-base-content/70"],["routerLink","/recipe",1,"btn","btn-primary","btn-sm","mt-3"]],template:function(i,n){i&1&&(a(0,"section",0)(1,"div",1)(2,"h2",2),r(3,"Recetas para hoy"),s(),a(4,"button",3),r(5,"Ver m\xE1s"),s()(),b(6,mr,1,0,"loading")(7,pr,3,0,"div",4)(8,ur,5,0,"div",5),s()),i&2&&(l(6),x(n.loading()?6:n.recipes().length?7:8))},dependencies:[Z,He,Y],styles:["[_nghost-%COMP%]{display:block}.empty-state[_ngcontent-%COMP%]{border:1px dashed rgba(148,163,184,.4);border-radius:14px;padding:24px 18px;text-align:center;background:#f1f5f980}"]})};var oi=class t{ngAfterViewInit(){let e=document.querySelectorAll(".reveal"),i=new IntersectionObserver(n=>{n.forEach(o=>{o.isIntersecting&&(Ne(o.target,{opacity:[0,1],transform:["translateY(40px)","translateY(0px)"]},{duration:.7,easing:"ease-out"}),i.unobserve(o.target))})},{threshold:.1});e.forEach(n=>i.observe(n))}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=f({type:t,selectors:[["app-home"]],decls:5,vars:0,consts:[[1,"reveal"]],template:function(i,n){i&1&&u(0,"home-promos",0)(1,"home-hero",0)(2,"home-featured-products",0)(3,"home-recipes",0)(4,"home-contacts",0)},dependencies:[ti,ii,ei,ni,Xt],styles:["[_nghost-%COMP%]{display:block}.reveal[_ngcontent-%COMP%]{opacity:0}"]})};var ri=class t{static \u0275fac=function(i){return new(i||t)};static \u0275cmp=f({type:t,selectors:[["app-not-found"]],decls:9,vars:0,consts:[[1,"flex","flex-col","items-center","justify-center","min-h-[75vh]","text-center","px-6"],[1,"text-9xl","font-bold","text-primary"],[1,"text-2xl","md:text-3xl","font-semibold","mt-4"],[1,"text-gray-600","mt-2","mb-6","max-w-md"],["routerLink","/",1,"btn","btn-primary","shadow-md","hover:shadow-lg","transition","duration-300"]],template:function(i,n){i&1&&(a(0,"div",0)(1,"h1",1),r(2,"404"),s(),a(3,"h2",2),r(4,"P\xE1gina no encontrada"),s(),a(5,"p",3),r(6," Lo sentimos, la p\xE1gina que est\xE1s buscando no existe o fue movida a otra URL. "),s(),a(7,"a",4),r(8," Volver al inicio "),s()())},dependencies:[Z],styles:["[_nghost-%COMP%]{display:block}"]})};function fr(t,e){t&1&&(a(0,"div",1),u(1,"loading"),s())}function gr(t,e){if(t&1){let i=R();a(0,"button",26),C("click",function(){let o=E(i).$index;h(2);let c=gt(4);return S(c.goTo(o))}),u(1,"img",27),s()}if(t&2){let i=e.$implicit,n=e.$index,o=h(3);Q("active",o.currentSlide()===n),l(),v("alt",Ai("Miniatura ",n+1))("src",i,pe)}}function hr(t,e){if(t&1&&(a(0,"div",7),O(1,gr,2,5,"button",25,D),s()),t&2){let i=h(2);l(),F(i.productImageUrls())}}function vr(t,e){if(t&1&&(a(0,"span",28),r(1),s()),t&2){let i=e.$implicit,n=h(3);l(),W(n.toTagName(i))}}function Cr(t,e){if(t&1&&O(0,vr,2,1,"span",28,D),t&2){let i,n=h(2);F((i=n.product())==null?null:i.tags)}}function br(t,e){t&1&&(a(0,"span",17),r(1,"Sin tags"),s())}function xr(t,e){if(t&1&&(a(0,"p",29),r(1),s()),t&2){let i,n=h(2);l(),T("Stock: ",(i=n.product())==null?null:i.stock)}}function yr(t,e){if(t&1){let i=R();a(0,"section",2)(1,"div",4)(2,"div",5)(3,"image-carrusel",6,0),C("slideChange",function(o){E(i);let c=h();return S(c.onSlideChange(o))}),s(),b(5,hr,3,0,"div",7),s(),a(6,"div",8)(7,"header",9)(8,"h1",10),r(9),s()(),a(10,"div",11)(11,"h3",12),r(12,"Descripci\xF3n"),s(),a(13,"p",13),r(14),s()(),a(15,"div",14)(16,"div")(17,"h3",12),r(18,"Categor\xEDa"),s(),a(19,"p",15),r(20),s()(),a(21,"div")(22,"h3",12),r(23,"Tags"),s(),a(24,"div",16),b(25,Cr,2,0)(26,br,2,0,"span",17),s()()(),a(27,"div",18)(28,"h3",12),r(29,"Agregar al carrito"),s(),a(30,"div",19)(31,"div",20)(32,"button",21),C("click",function(){E(i);let o=h();return S(o.decrement())}),r(33,"-"),s(),u(34,"input",22),a(35,"button",21),C("click",function(){E(i);let o=h();return S(o.increment())}),r(36,"+"),s()(),u(37,"add-to-cart-button",23),s(),Oi(38,xr,2,1,"p",24),s()()()()}if(t&2){let i,n,o,c,p,y,_=h();l(3),v("images",_.productImageUrls()),l(2),x(_.productImageUrls().length>1?5:-1),l(4),W((i=_.product())==null?null:i.title),l(5),T(" ",((n=_.product())==null?null:n.description)||"Sin descripci\xF3n disponible."," "),l(6),T(" ",_.categoryName()||"Sin categor\xEDa"," "),l(5),x(!((o=_.product())==null||o.tags==null)&&o.tags.length?25:26),l(9),v("value",_.quantity())("max",((c=_.product())==null?null:c.stock)||void 0),l(3),v("product",_.product())("quantity",_.quantity())("disabled",(((p=_.product())==null?null:p.stock)||0)<=0),l(),v("ngIf",((y=_.product())==null?null:y.stock)!==void 0)}}function _r(t,e){t&1&&(a(0,"p",3),r(1,"No se encontr\xF3 el producto."),s())}var ot=class t{activatedRoute=g(bt);productService=g(wt);baseUrl=xt.baseUrl;productslug=this.activatedRoute.snapshot.params.slug;product=I(null);loading=I(!0);error=I(null);quantity=I(1);currentSlide=I(0);constructor(){}ngOnInit(){this.loadProduct()}async loadProduct(){this.loading.set(!0),this.error.set(null);try{let e=await Me(this.productService.getProductByIdSlug(this.productslug));this.product.set(e)}catch{this.error.set("Error al cargar el producto")}finally{this.loading.set(!1)}}productImageUrls(){let e=this.product();if(!e)return[];let n=(Array.isArray(e.images)?e.images:[]).map(o=>this.resolveImageValue(o)).filter(o=>!!o).map(o=>this.mapToImageUrl(o));return n.length?n:["assets/images/default-image.jpg"]}resolveImageValue(e){if(!e)return null;if(typeof e=="string")return e;if(typeof e=="object"){let i=e.secureUrl||e.url||e.path||e.fileName||e.filename||e.name||e.id;return typeof i=="string"?i:null}return null}mapToImageUrl(e){return e?/^https?:\/\//.test(e)||e.startsWith("assets/")?e:`${this.baseUrl}/files/product/${e}`:"assets/images/default-image.jpg"}toTagName(e){return e?typeof e=="string"?e:typeof e=="object"&&"name"in e&&typeof e.name=="string"?e.name:"":""}categoryName(){let e=this.product()?.category;return console.log(this.product()),e?typeof e=="string"?e:typeof e=="object"&&"name"in e&&typeof e.name=="string"?e.name:"":""}onSlideChange(e){this.currentSlide.set(e)}increment(){let e=Math.min(this.product()?.stock??99,this.quantity()+1);this.quantity.set(e)}decrement(){this.quantity.update(e=>Math.max(1,e-1))}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=f({type:t,selectors:[["app-product"]],decls:3,vars:3,consts:[["carousel",""],[1,"min-h-[50vh]","gap-4"],[1,"product-details-card","text-base-content"],[1,"text-center","text-subtle","mt-10"],[1,"product-grid"],[1,"image-wrap"],[3,"slideChange","images"],[1,"thumbs"],[1,"info-wrap"],[1,"space-y-2"],[1,"text-3xl","font-bold","leading-tight","text-base-content"],[1,"section"],[1,"section-title"],[1,"leading-relaxed","body-text"],[1,"section","meta"],[1,"font-medium"],[1,"flex","flex-wrap","gap-2"],[1,"text-sm","text-subtle"],[1,"section","add-cart"],[1,"add-row"],[1,"qty"],["type","button",3,"click"],["type","number","min","1","readonly","",3,"value","max"],["buttonClass","btn-md w-full md:w-auto",3,"product","quantity","disabled"],["class","text-xs text-subtle",4,"ngIf"],["type","button",1,"thumb",3,"active"],["type","button",1,"thumb",3,"click"],[3,"src","alt"],[1,"tag-chip"],[1,"text-xs","text-subtle"]],template:function(i,n){i&1&&(b(0,fr,2,0,"div",1),b(1,yr,39,12,"section",2),b(2,_r,2,0,"p",3)),i&2&&(x(n.loading()?0:-1),l(),x(!n.loading()&&n.product()?1:-1),l(),x(!n.loading()&&!n.product()?2:-1))},dependencies:[ue,Vi,Y,Le,Re],styles:["[_nghost-%COMP%]{display:block;color:hsl(var(--bc))}.product-details-card[_ngcontent-%COMP%]{padding:.5rem 0}.product-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;gap:2.5rem}@media (min-width: 768px){.product-grid[_ngcontent-%COMP%]{grid-template-columns:1fr 1.1fr;align-items:start}}.image-wrap[_ngcontent-%COMP%]{padding:0;display:flex;justify-content:center;align-items:center;height:clamp(260px,50vw,520px);aspect-ratio:4 / 3;overflow:hidden}.info-wrap[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.25rem}.image-wrap[_ngcontent-%COMP%]   image-carrusel[_ngcontent-%COMP%], .image-wrap[_ngcontent-%COMP%]   swiper-container[_ngcontent-%COMP%], .image-wrap[_ngcontent-%COMP%]   swiper-slide[_ngcontent-%COMP%]{width:100%;height:100%}.image-wrap[_ngcontent-%COMP%]   swiper-slide[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{object-fit:contain}.section[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.section.meta[_ngcontent-%COMP%]{gap:1rem}.section-title[_ngcontent-%COMP%]{font-weight:700;font-size:.95rem;color:hsl(var(--bc))}.body-text[_ngcontent-%COMP%]{color:hsl(var(--bc) / .85)}.text-subtle[_ngcontent-%COMP%]{color:hsl(var(--bc) / .6)}.tag-chip[_ngcontent-%COMP%]{background:hsl(var(--b2));color:hsl(var(--bc) / .9);padding:.35rem .65rem;border-radius:999px;font-size:.85rem;border:1px solid hsl(var(--b3))}.thumbs[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(70px,1fr));gap:.5rem;margin-top:.85rem}.thumb[_ngcontent-%COMP%]{border:1px solid transparent;border-radius:.5rem;padding:.25rem;background:hsl(var(--b2));transition:border-color .2s ease,transform .2s ease}.thumb[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:contain;display:block}.thumb[_ngcontent-%COMP%]:hover{border-color:hsl(var(--b3));transform:translateY(-1px)}.thumb.active[_ngcontent-%COMP%]{border-color:hsl(var(--p));box-shadow:0 0 0 3px color-mix(in srgb,hsl(var(--p)) 25%,transparent)}.add-cart[_ngcontent-%COMP%]   .add-row[_ngcontent-%COMP%]{display:flex;gap:.75rem;align-items:center;flex-wrap:wrap}.qty[_ngcontent-%COMP%]{display:inline-flex;align-items:center;border:1px solid hsl(var(--b3));border-radius:999px;overflow:hidden;background:hsl(var(--b2))}.qty[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:2.5rem;height:2.5rem;border:none;background:transparent;font-size:1.1rem;cursor:pointer;color:hsl(var(--bc))}.qty[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:3rem;text-align:center;border:none;background:transparent;font-weight:600;color:hsl(var(--bc))}"]})};var Vn=(t,e)=>e.id;function Er(t,e){if(t&1){let i=R();a(0,"li")(1,"button",6),C("click",function(){let o=E(i).$implicit,c=h();return S(c.selectCategory(o.id))}),r(2),s()()}if(t&2){let i=e.$implicit,n=h();l(),Q("active",n.selectedCategory()===i.id),l(),T(" ",i.name," ")}}function Sr(t,e){if(t&1){let i=R();a(0,"button",26),C("click",function(){let o=E(i).$implicit,c=h();return S(c.toggleTag(o.id))}),r(1),s()}if(t&2){let i=e.$implicit,n=h();Q("active",n.selectedTags().has(i.id)),l(),T(" ",i.name," ")}}function wr(t,e){t&1&&(a(0,"div",24),u(1,"loading"),s())}function Pr(t,e){if(t&1&&(a(0,"p",25),r(1),s()),t&2){let i=h();l(),W(i.error())}}function Mr(t,e){if(t&1&&u(0,"product-card",28),t&2){let i=e.$implicit;v("product",i)}}function Ir(t,e){if(t&1&&(a(0,"div",27),O(1,Mr,1,1,"product-card",28,D),s(),a(3,"div",29),u(4,"pagination",30),s()),t&2){let i,n,o=h();l(),F((i=o.productResponse())==null?null:i.products),l(3),v("pages",((n=o.productResponse())==null?null:n.pages)??0)("currentPage",o.paginationService.currentPage())}}function Tr(t,e){t&1&&(a(0,"p"),r(1,"No se encontraron productos"),s())}var rt=class t{route=g(bt);router=g(fe);paginationService=g(tn);categoryService=g(Xi);tagService=g(Ji);productResponse;loading;error;loadProducts;searchControl=new yt("");lastQuery="";productPerPage=I(8);categories=I([]);tags=I([]);selectedCategory=I("all");selectedTags=I(new Set);constructor(){let{productResponse:e,loading:i,error:n,loadProducts:o}=Mt();this.productResponse=e,this.loading=i,this.error=n,this.loadProducts=o,this.loadFilters(),this.route.queryParamMap.subscribe(c=>{let p=c.get("q")??"";this.lastQuery=p;let y=c.get("categoryId")??"all",_=c.get("tagIds")??"",k=_?_.split(",").filter(Boolean):[];this.searchControl.value!==p&&this.searchControl.setValue(p,{emitEvent:!1}),this.selectedCategory.set(y),this.selectedTags.set(new Set(k));let N=this.productPerPage(),z=(this.paginationService.currentPage()-1)*N;this.loadProducts({query:p,offset:z,limit:N,categoryId:this.categoryIdForRequest(),tagIds:this.tagIdsForRequest()})}),this.searchControl.valueChanges.pipe(dt(400),pt()).subscribe(c=>{let p=c?.trim()??"";this.router.navigate([],{relativeTo:this.route,queryParams:{q:p||null},queryParamsHandling:"merge"}),this.paginationService.resetPage(),this.loadProducts({query:p,offset:0,limit:this.productPerPage(),categoryId:this.categoryIdForRequest(),tagIds:this.tagIdsForRequest()})}),vt(()=>{let c=this.productPerPage(),p=(this.paginationService.currentPage()-1)*c;this.loadProducts({query:this.lastQuery,offset:p,limit:c,categoryId:this.categoryIdForRequest(),tagIds:this.tagIdsForRequest()})})}updateProductsPerPage(e){this.productPerPage.set(e),this.paginationService.setCurrentPage(1)}async loadFilters(){this.categoryService.getAll().subscribe(e=>this.categories.set(e)),this.loadTagsForCategory(this.categoryIdForRequest())}selectCategory(e){let i=this.selectedCategory()===e?"all":e;this.selectedCategory.set(i),this.selectedTags.set(new Set),this.loadTagsForCategory(this.categoryIdForRequest()),this.paginationService.setCurrentPage(1),this.updateQueryParams()}resetTags(){this.selectedTags.set(new Set),this.paginationService.setCurrentPage(1),this.updateQueryParams()}toggleTag(e){let i=new Set(this.selectedTags());i.has(e)?i.delete(e):i.add(e),this.selectedTags.set(i),this.paginationService.setCurrentPage(1),this.updateQueryParams()}updateQueryParams(){let e=Array.from(this.selectedTags());this.router.navigate([],{relativeTo:this.route,queryParams:{q:this.lastQuery||null,categoryId:this.selectedCategory()==="all"?null:this.selectedCategory(),tagIds:e.length?e.join(","):null},queryParamsHandling:"merge"});let i=this.productPerPage(),n=(this.paginationService.currentPage()-1)*i;this.loadProducts({query:this.lastQuery,offset:n,limit:i,categoryId:this.categoryIdForRequest(),tagIds:this.tagIdsForRequest()})}loadTagsForCategory(e){this.tagService.getAll(e).subscribe(i=>{this.tags.set(i),this.selectedTags.set(new Set)})}categoryIdForRequest(){return this.selectedCategory()==="all"?void 0:this.selectedCategory()}tagIdsForRequest(){let e=Array.from(this.selectedTags());return e.length?e:void 0}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=f({type:t,selectors:[["app-products"]],decls:45,vars:14,consts:[["selectPerPage",""],[1,"text-3xl","font-bold","mb-2","mt-6"],[1,"products-layout","grid","grid-cols-1","lg:grid-cols-[18%_1fr]","gap-4","lg:gap-6","items-start"],[1,"filter-card","hidden","lg:block"],[1,"text-lg","font-semibold","mb-3"],[1,"flex","flex-col","gap-1","max-h-[60vh]","overflow-auto","pr-1"],["type","button",1,"filter-item","cursor-pointer",3,"click"],[1,"mt-6"],[1,"flex","items-center","justify-between","mb-3"],[1,"font-semibold"],["type","button",1,"text-primary","text-xs","cursor-pointer",3,"click","disabled"],[1,"flex","flex-wrap","gap-2"],["type","button",1,"filter-tag","cursor-pointer",3,"active"],[1,"flex","flex-col","gap-4"],[1,"flex","flex-wrap","gap-3","items-center","justify-between"],[1,"inline-flex","items-center","gap-2"],[1,"font-bold"],[1,"flex","items-center","justify-end","gap-2"],[1,"opacity-70"],[1,"select","select-bordered","select-sm","w-16","focus-within:outline-none",3,"change"],["value","8",3,"selected"],["value","20",3,"selected"],["value","50",3,"selected"],["value","100",3,"selected"],[1,"min-h-[50vh]","gap-4"],[1,"text-red-500"],["type","button",1,"filter-tag","cursor-pointer",3,"click"],[1,"grid","grid-cols-2","md:grid-cols-3","lg:grid-cols-4","xl:grid-cols-4","mt-6","gap-4","sm:gap-6","md:gap-8"],[3,"product"],[1,"flex","justify-center","mt-10"],[3,"pages","currentPage"]],template:function(i,n){if(i&1){let o=R();a(0,"h1",1),r(1,"Productos"),s(),a(2,"div",2)(3,"aside",3)(4,"h3",4),r(5,"Categorias"),s(),a(6,"ul",5)(7,"li")(8,"button",6),C("click",function(){return E(o),S(n.selectCategory("all"))}),r(9," Todos "),s()(),O(10,Er,3,3,"li",null,Vn),s(),a(12,"div",7)(13,"div",8)(14,"h4",9),r(15,"Tags"),s(),a(16,"button",10),C("click",function(){return E(o),S(n.resetTags())}),r(17," Limpiar "),s()(),a(18,"div",11),O(19,Sr,2,3,"button",12,Vn),s()()(),a(21,"section",13)(22,"div",14)(23,"span",15),r(24," Total de productos "),a(25,"span",16),r(26),s()(),a(27,"div",17)(28,"label",18),r(29,"Mostrar"),s(),a(30,"span",15)(31,"select",19,0),C("change",function(){E(o);let p=gt(32);return S(n.updateProductsPerPage(+p.value))}),a(33,"option",20),r(34,"8"),s(),a(35,"option",21),r(36,"20"),s(),a(37,"option",22),r(38,"50"),s(),a(39,"option",23),r(40,"100"),s()()()()(),b(41,wr,2,0,"div",24),b(42,Pr,2,1,"p",25),b(43,Ir,5,2),b(44,Tr,2,0,"p"),s()()}if(i&2){let o,c,p;l(8),Q("active",n.selectedCategory()==="all"),l(2),F(n.categories()),l(6),Q("opacity-50",!n.selectedTags().size),v("disabled",!n.selectedTags().size),l(3),F(n.tags()),l(7),T(" ",((o=n.productResponse())==null?null:o.count)===null?0:(o=n.productResponse())==null?null:o.count," "),l(7),v("selected",n.productPerPage()===8),l(2),v("selected",n.productPerPage()===20),l(2),v("selected",n.productPerPage()===50),l(2),v("selected",n.productPerPage()===100),l(2),x(n.loading()?41:-1),l(),x(n.error()?42:-1),l(),x(!n.loading()&&!n.error()&&(!((c=n.productResponse())==null||c.products==null)&&c.products.length)?43:-1),l(),x(!n.loading()&&!n.error()&&((p=n.productResponse())==null||p.products==null?null:p.products.length)===0?44:-1)}},dependencies:[Ve,nn,Y,Fe,Wi,Gi],styles:["[_nghost-%COMP%]{display:block}.products-layout[_ngcontent-%COMP%]{align-items:start}.filter-card[_ngcontent-%COMP%]{background:#f5f7fb;border:1px solid #e5e7eb;border-radius:12px;padding:10px;height:fit-content;box-shadow:inset 0 1px #fff9}.filter-item[_ngcontent-%COMP%]{width:100%;text-align:left;padding:8px 10px;border-radius:8px;background:transparent;border:1px solid transparent;transition:background-color .2s ease,color .2s ease,border-color .2s ease}.filter-item[_ngcontent-%COMP%]:hover{background:var(--fallback-b2, rgba(229, 231, 235, .6));color:var(--fallback-bc, #1f2937)}.filter-item.active[_ngcontent-%COMP%]{background:var(--fallback-b2, rgba(229, 231, 235, .8));border-color:var(--fallback-b2, rgba(229, 231, 235, .8));color:var(--fallback-bc, #1f2937);font-weight:600}.filter-tag[_ngcontent-%COMP%]{background:#eef2f6;border-radius:16px;padding:6px 10px;font-size:12px;transition:background-color .2s ease,color .2s ease}.filter-tag.active[_ngcontent-%COMP%], .filter-tag[_ngcontent-%COMP%]:hover{background:var(--fallback-b2, rgba(229, 231, 235, .8));color:var(--fallback-bc, #1f2937);font-weight:600}"]})};function kr(t,e){t&1&&(a(0,"div",1),u(1,"loading"),s())}function Or(t,e){if(t&1&&(a(0,"p",2),r(1),s()),t&2){let i=h();l(),W(i.error())}}function Fr(t,e){if(t&1&&(a(0,"div",5),u(1,"recipe-card",6),s()),t&2){let i=e.$implicit;l(),v("recipe",i)}}function Dr(t,e){if(t&1&&(a(0,"div",4),O(1,Fr,2,1,"div",5,D),s()),t&2){let i=h();l(),F(i.recipes())}}function Nr(t,e){t&1&&(a(0,"p"),r(1,"No hay recetas para mostrar"),s())}var ai=class t{recipeService=g(It);recipes=I(null);loading=I(!0);error=I(null);ngOnInit(){this.getRecipes()}async getRecipes(){this.loading.set(!0),this.error.set(null);try{let e=await Me(this.recipeService.getAll());this.recipes.set(e)}catch{this.error.set("Error al cargar las recetas")}finally{this.loading.set(!1)}}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=f({type:t,selectors:[["app-recipe"]],decls:7,vars:4,consts:[[1,"text-3xl","font-bold","mb-6","mt-6"],[1,"min-h-[50vh]","gap-4"],[1,"text-red-500"],[1,"flex","flex-col","items-center","justify-center"],[1,"flex","flex-col","gap-12","mt-6","w-full"],[1,"flex","justify-center","gap-8","flex-wrap"],[3,"recipe"]],template:function(i,n){if(i&1&&(a(0,"h1",0),r(1,"Recetas"),s(),b(2,kr,2,0,"div",1),b(3,Or,2,1,"p",2),a(4,"div",3),b(5,Dr,3,0,"div",4),s(),b(6,Nr,2,0,"p")),i&2){let o,c;l(2),x(n.loading()?2:-1),l(),x(n.error()?3:-1),l(2),x(!n.loading()&&!n.error()&&((o=n.recipes())!=null&&o.length)?5:-1),l(),x(!n.loading()&&!n.error()&&((c=n.recipes())==null?null:c.length)===0?6:-1)}},dependencies:[Y,He],styles:["[_nghost-%COMP%]{display:block}"]})};var Ar=(t,e)=>e.id;function Rr(t,e){t&1&&(a(0,"div",1),u(1,"loading"),s())}function Vr(t,e){if(t&1&&(a(0,"p",2),r(1),s()),t&2){let i=h();l(),W(i.error())}}function Lr(t,e){if(t&1&&u(0,"contact-card",6),t&2){let i=e.$implicit;v("contact",i)}}function Hr(t,e){if(t&1&&(a(0,"div",5),O(1,Lr,1,1,"contact-card",6,Ar),s()),t&2){let i=e.$implicit;l(),F(i)}}function zr(t,e){if(t&1&&(a(0,"div",4),O(1,Hr,3,0,"div",5,D),s()),t&2){let i=h();l(),F(i.rowsFormatted())}}function jr(t,e){t&1&&(a(0,"p"),r(1,"No hay contactos para mostrar"),s())}var si=class t{contactService=g(St);contacts=I(null);loading=I(!0);error=I(null);async getContacts(){this.loading.set(!0),this.error.set(null);try{let e=await Me(this.contactService.getAll());this.contacts.set(e)}catch{this.error.set("Error al cargar los contactos")}finally{this.loading.set(!1)}}ngOnInit(){this.getContacts()}rowsFormatted(){let e=this.contacts()||[],i=[];for(let n=0;n<e.length;)(e.length-n)%2===1?(i.push([e[n]]),n+=1):(i.push(e.slice(n,n+2)),n+=2);return i}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=f({type:t,selectors:[["app-contact"]],decls:7,vars:4,consts:[[1,"text-3xl","font-bold","mb-6","mt-6"],[1,"min-h-[50vh]","gap-4"],[1,"text-red-500"],[1,"flex","flex-col","items-center","justify-center","min-h-[50vh]"],[1,"flex","flex-col","gap-12","mt-6","w-full"],[1,"flex","justify-center","gap-8","flex-wrap"],[3,"contact"]],template:function(i,n){if(i&1&&(a(0,"h1",0),r(1,"Contactos"),s(),b(2,Rr,2,0,"div",1),b(3,Vr,2,1,"p",2),a(4,"div",3),b(5,zr,3,0,"div",4),s(),b(6,jr,2,0,"p")),i&2){let o,c;l(2),x(n.loading()?2:-1),l(),x(n.error()?3:-1),l(2),x(!n.loading()&&!n.error()&&((o=n.contacts())!=null&&o.length)?5:-1),l(),x(!n.loading()&&!n.error()&&((c=n.contacts())==null?null:c.length)===0?6:-1)}},dependencies:[Y,Ae],styles:["[_nghost-%COMP%]{display:block}"]})};var ci=class t{static \u0275fac=function(i){return new(i||t)};static \u0275cmp=f({type:t,selectors:[["terms-conditions"]],decls:53,vars:0,consts:[[1,"text-3xl","font-bold","mb-6","mt-6"],[1,"max-w-4xl","mx-auto","p-6","sm:p-8","lg:p-12"],[1,"text-gray-700","mb-4"],[1,"font-semibold"],[1,"text-2xl","font-semibold","mt-6","mb-3"],[1,"list-disc","list-inside","text-gray-700","mb-4","space-y-1"]],template:function(i,n){i&1&&(d(0,"h1",0),r(1,"T\xE9rminos y Condiciones"),m(),d(2,"section",1)(3,"p",2),r(4,"\xDAltima actualizaci\xF3n: 23 de octubre de 2025"),m(),d(5,"p",2),r(6," Al usar "),d(7,"span",3),r(8,"Gluten Free"),m(),r(9,", aceptas estos T\xE9rminos y Condiciones. Si no est\xE1s de acuerdo, por favor, no uses nuestro sitio. "),m(),d(10,"h2",4),r(11,"1. Uso del sitio"),m(),d(12,"p",2),r(13," El contenido de este sitio es solo para fines informativos y comerciales. No se permite copiar, reproducir o distribuir nuestro contenido sin autorizaci\xF3n. "),m(),d(14,"h2",4),r(15,"2. Registro y cuenta"),m(),d(16,"ul",5)(17,"li"),r(18,"Para realizar compras, debes crear una cuenta con datos v\xE1lidos y actualizados."),m(),d(19,"li"),r(20,"Eres responsable de mantener la confidencialidad de tu cuenta y contrase\xF1a."),m()(),d(21,"h2",4),r(22,"3. Pedidos y pagos"),m(),d(23,"ul",5)(24,"li"),r(25,"Todos los pedidos est\xE1n sujetos a disponibilidad de stock."),m(),d(26,"li"),r(27,"Los pagos se procesan mediante plataformas seguras de terceros."),m(),d(28,"li"),r(29,"Nos reservamos el derecho de cancelar pedidos por fraude, error o incumplimiento de estos T\xE9rminos."),m()(),d(30,"h2",4),r(31,"4. Env\xEDos y devoluciones"),m(),d(32,"p",2),r(33," Los env\xEDos se realizan seg\xFAn la informaci\xF3n proporcionada al momento de la compra. Las devoluciones y cambios est\xE1n sujetos a nuestra "),d(34,"span",3),r(35,"Pol\xEDtica de Devoluciones"),m(),r(36,", disponible en el sitio. "),m(),d(37,"h2",4),r(38,"5. Responsabilidad"),m(),d(39,"p",2),r(40," Hacemos todo lo posible para que la informaci\xF3n del sitio sea precisa, pero no garantizamos que sea completa o libre de errores. Gluten Free no ser\xE1 responsable por da\xF1os indirectos, p\xE9rdida de datos o lucro cesante derivados del uso del sitio. "),m(),d(41,"h2",4),r(42,"6. Propiedad intelectual"),m(),d(43,"p",2),r(44," Todos los contenidos (textos, im\xE1genes, logos, marcas) son propiedad de Gluten Free o de terceros con autorizaci\xF3n. No puedes usar nuestros contenidos sin permiso expl\xEDcito. "),m(),d(45,"h2",4),r(46,"7. Modificaciones"),m(),d(47,"p",2),r(48," Nos reservamos el derecho de actualizar estos T\xE9rminos en cualquier momento. La versi\xF3n m\xE1s reciente estar\xE1 publicada en el sitio con la fecha de actualizaci\xF3n. "),m(),d(49,"h2",4),r(50,"8. Ley aplicable"),m(),d(51,"p",2),r(52," Estos T\xE9rminos se rigen por las leyes de Paraguay. Cualquier disputa se resolver\xE1 ante los tribunales competentes de Paraguay. "),m()())},styles:["[_nghost-%COMP%]{display:block}"]})};var li=class t{static \u0275fac=function(i){return new(i||t)};static \u0275cmp=f({type:t,selectors:[["privacy-policies"]],decls:75,vars:0,consts:[[1,"text-3xl","font-bold","mb-6","mt-6"],[1,"max-w-4xl","mx-auto","p-6","sm:p-8","lg:p-12"],[1,"text-gray-700","mb-4"],[1,"font-semibold"],[1,"text-2xl","font-semibold","mt-6","mb-3"],[1,"list-disc","list-inside","text-gray-700","mb-4","space-y-1"],["href","mailto:contacto@egf.com",1,"text-blue-600","underline"]],template:function(i,n){i&1&&(d(0,"h1",0),r(1,"Pol\xEDtica de Privacidad"),m(),d(2,"section",1)(3,"p",2),r(4,"\xDAltima actualizaci\xF3n: 23 de octubre de 2025"),m(),d(5,"p",2),r(6," En "),d(7,"span",3),r(8,"Gluten Free"),m(),r(9,", respetamos tu privacidad y nos comprometemos a proteger tus datos personales. Esta Pol\xEDtica de Privacidad explica c\xF3mo recopilamos, usamos y protegemos la informaci\xF3n que nos proporcionas al visitar nuestro sitio web o realizar compras. "),m(),d(10,"h2",4),r(11,"1. Informaci\xF3n que recopilamos"),m(),d(12,"ul",5)(13,"li")(14,"strong"),r(15,"Datos personales:"),m(),r(16," nombre, correo electr\xF3nico, direcci\xF3n de env\xEDo y facturaci\xF3n, n\xFAmero de tel\xE9fono."),m(),d(17,"li")(18,"strong"),r(19,"Informaci\xF3n de pago:"),m(),r(20," datos de tarjeta de cr\xE9dito/d\xE9bito o plataformas de pago (procesadas por terceros seguros)."),m(),d(21,"li")(22,"strong"),r(23,"Informaci\xF3n de uso:"),m(),r(24," historial de compras, productos favoritos, preferencias de navegaci\xF3n y comportamiento en el sitio."),m()(),d(25,"h2",4),r(26,"2. C\xF3mo usamos tu informaci\xF3n"),m(),d(27,"ul",5)(28,"li"),r(29,"Procesar y gestionar tus pedidos."),m(),d(30,"li"),r(31,"Mejorar tu experiencia en el sitio y personalizar recomendaciones."),m(),d(32,"li"),r(33,"Enviarte actualizaciones sobre tus pedidos o promociones, si has dado tu consentimiento."),m(),d(34,"li"),r(35,"Cumplir con obligaciones legales y fiscales."),m()(),d(36,"h2",4),r(37,"3. C\xF3mo compartimos tu informaci\xF3n"),m(),d(38,"p",2),r(39," No vendemos ni alquilamos tus datos personales. Solo compartimos informaci\xF3n cuando: "),m(),d(40,"ul",5)(41,"li"),r(42,"Es necesario para procesar tu pago y env\xEDo con terceros confiables."),m(),d(43,"li"),r(44,"La ley nos obliga a divulgar informaci\xF3n."),m(),d(45,"li"),r(46,"Protegemos nuestros derechos legales o la seguridad de los usuarios."),m()(),d(47,"h2",4),r(48,"4. Seguridad de los datos"),m(),d(49,"p",2),r(50," Implementamos medidas t\xE9cnicas y organizativas para proteger tus datos contra acceso no autorizado, p\xE9rdida o alteraci\xF3n. Sin embargo, ning\xFAn sistema es 100% seguro, y no podemos garantizar seguridad absoluta. "),m(),d(51,"h2",4),r(52,"5. Tus derechos"),m(),d(53,"p",2),r(54," Puedes solicitar: "),m(),d(55,"ul",5)(56,"li"),r(57,"Acceder, corregir o eliminar tus datos personales."),m(),d(58,"li"),r(59,"Retirar tu consentimiento para recibir comunicaciones de marketing."),m(),d(60,"li"),r(61,"Oponerte al tratamiento de tus datos en ciertos casos."),m()(),d(62,"p",2),r(63,"Para ejercer tus derechos, cont\xE1ctanos en "),d(64,"a",6),r(65,"contacto@egf.com"),m(),r(66,"."),m(),d(67,"h2",4),r(68,"6. Cookies"),m(),d(69,"p",2),r(70," Usamos cookies y tecnolog\xEDas similares para mejorar la funcionalidad del sitio, analizar tr\xE1fico y personalizar contenido. Puedes configurar tu navegador para rechazar cookies, aunque algunas funcionalidades pueden verse afectadas. "),m(),d(71,"h2",4),r(72,"7. Cambios en la Pol\xEDtica"),m(),d(73,"p",2),r(74," Podemos actualizar esta pol\xEDtica peri\xF3dicamente. Te recomendamos revisarla ocasionalmente. La fecha de \u201C\xDAltima actualizaci\xF3n\u201D indica la versi\xF3n vigente. "),m()())},styles:["[_nghost-%COMP%]{display:block}"]})};var qr=[{path:"",component:zt,children:[{path:"",title:"E-commerce Gluten Free",component:oi},{path:"products",title:"Productos",component:rt},{path:"product/:slug",title:"Producto",component:ot},{path:"recipe",title:"Recetas",component:ai},{path:"contact",title:"Contacto",component:si},{path:"terms-conditions",title:"T\xE9rminos y condiciones",component:ci},{path:"privacy-policies",title:"Pol\xEDtica de privacidad",component:li},{path:"user",loadChildren:()=>import("./chunk-DXJIUZW2.js")},{path:"**",component:ri}]}],Yp=qr;export{Yp as default,qr as storeFrontRoutes};
