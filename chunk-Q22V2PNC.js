import{a as $e}from"./chunk-EQKPCROP.js";import{a as Ue,b as ae,c as ze,d as Ze,e as qe,f as Ge,g as Qe,h as Je,i as ce,j as se,k as We,l as Ke}from"./chunk-F7JE67HC.js";import{k as T,l as D}from"./chunk-YFAIQBNL.js";import{$ as z,A as U,Aa as P,B as Ne,Ca as Le,D as a,Ea as ie,Fa as j,G as p,Ha as je,La as Ve,Ma as oe,N as u,Na as re,O as De,Oa as V,P as f,Pa as Be,Q as y,S,Sa as He,T as x,U as g,Ua as M,V as o,W as r,X as l,Y as I,Z as w,_ as G,a as Ee,aa as we,b as Me,ba as b,ca as Oe,d as Te,da as C,f as H,g as Z,j as Y,ja as Fe,k as q,ka as s,la as N,ma as v,n as ke,na as Ae,oa as Re,q as m,qa as R,r as O,ra as ee,s as F,sa as k,t as A,ta as L,u as $,ua as te,w as E,ya as ne}from"./chunk-FZOC5RVC.js";var Xe=[{label:"Inicio",route:"/",adminOnly:!1},{label:"Productos",route:"/products",adminOnly:!1},{label:"Recetas",route:"/recipe",adminOnly:!1},{label:"Contacto",route:"/contact",adminOnly:!1},{label:"Panel Administrativo",route:"/admin",adminOnly:!0}];var le=class n{themeService=m(Ue);ngOnInit(){let e="business";this.themeService.isDarkTheme.set(!0),document.documentElement.setAttribute("data-theme",e);let i=document.querySelector(".theme-controller");i&&(i.checked=!0)}toggleTheme(t){let e=t.target,i=e.checked?"winter":"business";this.themeService.isDarkTheme.set(!e.checked),document.documentElement.setAttribute("data-theme",i)}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=p({type:n,selectors:[["theme-controller"]],decls:6,vars:0,consts:[[1,"swap","swap-rotate"],["type","checkbox",3,"change"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24",1,"swap-on","h-6","w-6","fill-current"],["d","M5.64,17l-.71.71a1,1,0,0,0,0,1.41,1,1,0,0,0,1.41,0l.71-.71A1,1,0,0,0,5.64,17ZM5,12a1,1,0,0,0-1-1H3a1,1,0,0,0,0,2H4A1,1,0,0,0,5,12Zm7-7a1,1,0,0,0,1-1V3a1,1,0,0,0-2,0V4A1,1,0,0,0,12,5ZM5.64,7.05a1,1,0,0,0,.7.29,1,1,0,0,0,.71-.29,1,1,0,0,0,0-1.41l-.71-.71A1,1,0,0,0,4.93,6.34Zm12,.29a1,1,0,0,0,.7-.29l.71-.71a1,1,0,1,0-1.41-1.41L17,5.64a1,1,0,0,0,0,1.41A1,1,0,0,0,17.66,7.34ZM21,11H20a1,1,0,0,0,0,2h1a1,1,0,0,0,0-2Zm-9,8a1,1,0,0,0-1,1v1a1,1,0,0,0,2,0V20A1,1,0,0,0,12,19ZM18.36,17A1,1,0,0,0,17,18.36l.71.71a1,1,0,0,0,1.41,0,1,1,0,0,0,0-1.41ZM12,6.5A5.5,5.5,0,1,0,17.5,12,5.51,5.51,0,0,0,12,6.5Zm0,9A3.5,3.5,0,1,1,15.5,12,3.5,3.5,0,0,1,12,15.5Z"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24",1,"swap-off","h-6","w-6","fill-current"],["d","M21.64,13a1,1,0,0,0-1.05-.14,8.05,8.05,0,0,1-3.37.73A8.15,8.15,0,0,1,9.08,5.49a8.59,8.59,0,0,1,.25-2A1,1,0,0,0,8,2.36,10.14,10.14,0,1,0,22,14.05,1,1,0,0,0,21.64,13Zm-9.5,6.69A8.14,8.14,0,0,1,7.08,5.22v.27A10.15,10.15,0,0,0,17.22,15.63a9.79,9.79,0,0,0,2.1-.22A8.11,8.11,0,0,1,12.14,19.73Z"]],template:function(e,i){e&1&&(I(0,"label",0)(1,"input",1),Oe("change",function(d){return i.toggleTheme(d)}),w(),A(),I(2,"svg",2),G(3,"path",3),w(),I(4,"svg",4),G(5,"path",5),w()())},styles:["[_nghost-%COMP%]{display:block}"]})};var Q=class n{authService=m(M);configurationService=m(T);router=m(re);openUserOptions(){this.configurationService.toggleSidebarPageStatus("open");let t=this.authService.authStatus()==="authenticated"?["userOptions"]:["auth","login"];this.authService.authStatus()==="authenticated"?this.configurationService.toggleSidebarPageRoute("userOptions"):this.configurationService.toggleSidebarPageRoute("auth"),this.router.navigate([{outlets:{sidebar:t}}],{skipLocationChange:!0})}openCart(){this.configurationService.toggleSidebarPageStatus("open"),this.configurationService.toggleSidebarPageRoute("cartSidebar"),this.router.navigate([{outlets:{sidebar:["cartSidebar"]}}],{skipLocationChange:!0})}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=p({type:n,selectors:[["user-options"]],decls:12,vars:0,consts:[[1,"menu","menu-horizontal","px-1"],[1,"p-2","rounded-full",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","fill","currentColor",1,"size-6"],["fill-rule","evenodd","d","M7.5 6a4.5 4.5 0 1 1 9 0 4.5 4.5 0 0 1-9 0ZM3.751 20.105a8.25 8.25 0 0 1 16.498 0 .75.75 0 0 1-.437.695A18.683 18.683 0 0 1 12 22.5c-2.786 0-5.433-.608-7.812-1.7a.75.75 0 0 1-.437-.695Z","clip-rule","evenodd"],["d","M2.25 2.25a.75.75 0 0 0 0 1.5h1.386c.17 0 .318.114.362.278l2.558 9.592a3.752 3.752 0 0 0-2.806 3.63c0 .414.336.75.75.75h15.75a.75.75 0 0 0 0-1.5H5.378A2.25 2.25 0 0 1 7.5 15h11.218a.75.75 0 0 0 .674-.421 60.358 60.358 0 0 0 2.96-7.228.75.75 0 0 0-.525-.965A60.864 60.864 0 0 0 5.68 4.509l-.232-.867A1.875 1.875 0 0 0 3.636 2.25H2.25ZM3.75 20.25a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0ZM16.5 20.25a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0Z"],[1,"p-2","rounded-full"]],template:function(e,i){e&1&&(o(0,"ul",0)(1,"li")(2,"button",1),b("click",function(){return i.openUserOptions()}),A(),o(3,"svg",2),l(4,"path",3),r()()(),$(),o(5,"li")(6,"button",1),b("click",function(){return i.openCart()}),A(),o(7,"svg",2),l(8,"path",4),r()()(),$(),o(9,"li")(10,"button",5),l(11,"theme-controller"),r()()())},dependencies:[le],styles:["[_nghost-%COMP%]{display:block}"]})};var Ye=()=>({exact:!0});function tt(n,t){if(n&1){let e=z();o(0,"li")(1,"a",6),b("click",function(){O(e);let c=C();return F([c.configurationService.toggleSidebarItemsStatus("closed"),c.configurationService.toggleSidebarPageStatus("closed")])}),s(2),r()()}if(n&2){let e=t.$implicit;a(),g("routerLink",e.route)("routerLinkActiveOptions",R(3,Ye)),a(),v(" ",e.label," ")}}function nt(n,t){n&1&&l(0,"li",4)}function it(n,t){if(n&1){let e=z();o(0,"li")(1,"a",6),b("click",function(){O(e);let c=C();return F([c.configurationService.toggleSidebarItemsStatus("closed"),c.configurationService.toggleSidebarPageStatus("closed")])}),s(2),r()()}if(n&2){let e=t.$implicit;a(),g("routerLink",e.route)("routerLinkActiveOptions",R(3,Ye)),a(),v(" ",e.label," ")}}var me=class n{menuItems=P.required();authService=m(M);configurationService=m(T);menuItemsDefault(){return this.menuItems().filter(t=>!t.adminOnly)}menuItemsAdmin(){return this.authService.isAdmin()?this.menuItems().filter(t=>t.adminOnly):null}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=p({type:n,selectors:[["navbar"]],inputs:{menuItems:[1,"menuItems"]},decls:12,vars:1,consts:[[1,"navbar","bg-base-100","shadow-sm"],[1,"navbar-start","mx-3"],[1,"navbar-center","hidden","lg:flex"],[1,"menu","menu-horizontal","px-1"],[1,"border-l","border-gray-400","h-6","mx-2","drop-shadow-sm"],[1,"navbar-end","gap-2","mx-3"],["routerLinkActive","text-secondary",3,"click","routerLink","routerLinkActiveOptions"]],template:function(e,i){e&1&&(o(0,"div",0)(1,"div",1),l(2,"app-logo"),r(),o(3,"div",2)(4,"ul",3),S(5,tt,3,4,"li",null,y),u(7,nt,1,0,"li",4),S(8,it,3,4,"li",null,y),r()(),o(10,"div",5),l(11,"user-options"),r()()),e&2&&(a(5),x(i.menuItemsDefault()),a(2),f(i.authService.isAdmin()?7:-1),a(),x(i.menuItemsAdmin()))},dependencies:[ae,V,Be,Q],styles:["[_nghost-%COMP%]{display:block}"]})};function ot(n,t){if(n&1){let e=z();o(0,"div",0)(1,"div",2),l(2,"sidebar-items",1),o(3,"div",3)(4,"button",4),b("click",function(){O(e);let c=C();return F(c.configurationService.toggleSidebarItemsStatus("open"))}),A(),o(5,"svg",5),l(6,"path",6),r()(),$(),l(7,"app-logo"),r()(),o(8,"div",7),l(9,"user-options"),r()()}if(n&2){let e=C();a(2),g("menuItems",e.menuItems)}}function rt(n,t){if(n&1&&l(0,"navbar",1),n&2){let e=C();g("menuItems",e.menuItems)}}var pe=class n{authService=m(M);router=m(re);configurationService=m(T);menuItems=Xe;isMobile=!1;onResize(){this.isMobile=window.innerWidth<1024}ngOnInit(){this.onResize()}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=p({type:n,selectors:[["front-menu"]],hostBindings:function(e,i){e&1&&b("resize",function(){return i.onResize()},Ne)},decls:2,vars:1,consts:[[1,"navbar"],[3,"menuItems"],[1,"navbar-start","mx-3"],[1,"flex","items-center"],[1,"btn","btn-ghost","lg:hidden",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-5","w-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 6h16M4 12h8m-8 6h16"],[1,"navbar-end","gap-2","mx-3"]],template:function(e,i){e&1&&u(0,ot,10,1,"div",0)(1,rt,1,1,"navbar",1),e&2&&f(i.isMobile?0:1)},dependencies:[me,Ze,ae,Q],styles:["[_nghost-%COMP%]{display:block}"]})};var de=class n{authService=m(M);configurationService=m(T);open(){return this.configurationService.sidebarPageStatus()==="open"}close(){this.configurationService.toggleSidebarPageStatus("closed")}getTitle(){let t=this.configurationService.sidebarPageRouteName();return t==="auth"?"Iniciar sesi\xF3n":t==="userOptions"?"Hola, "+this.authService.user()?.fullName:"Mi carrito"}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=p({type:n,selectors:[["sidebar-page"]],decls:9,vars:5,consts:[[1,"fixed","top-0","right-0","h-full","w-full","sm:w-[480px]","bg-base-100","shadow-lg","z-50","transform","transition-transform","duration-400","flex","flex-col"],[1,"flex","justify-between","items-center","p-4","border-b","border-base-300"],[1,"text-lg","font-bold"],[1,"cursor-pointer","hover:bg-gray-600","p-2","rounded-full",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-4","w-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],[1,"p-4","overflow-y-auto","h-[calc(100%-4rem)]"],["name","sidebar"]],template:function(e,i){e&1&&(o(0,"div",0)(1,"div",1)(2,"h2",2),s(3),r(),o(4,"button",3),b("click",function(){return i.close()}),A(),o(5,"svg",4),l(6,"path",5),r()()(),$(),o(7,"div",6),l(8,"router-outlet",7),r()()),e&2&&(Fe("translate-x-0",i.open())("translate-x-full",!i.open()),a(3),v(" ",i.getTitle()," "))},dependencies:[j,oe],styles:["[_nghost-%COMP%]{display:block}"]})};var ue=class n{configurationService=m(T);constructor(){this.configurationService.toggleSidebarItemsStatus("closed")}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=p({type:n,selectors:[["app-store-front-layout"]],decls:5,vars:0,consts:[[1,"container","mx-auto"],[1,"flex-1","px-5"]],template:function(e,i){e&1&&(l(0,"front-menu"),o(1,"section",0)(2,"div",1),l(3,"router-outlet"),r()(),l(4,"sidebar-page"))},dependencies:[oe,pe,de],encapsulation:2})};var W=`${He.baseUrl}/api/cart`,B=class n{http=m(je);toast=m(qe);auth=m(M);cartCache=new Map;cartSubject=new Te([]);cart$=this.cartSubject.asObservable();constructor(){this.loadCart().subscribe()}loadCart(){if(this.cartCache.size>0){let i=Array.from(this.cartCache.values());return this.cartSubject.next(i),H(i)}return(this.auth.authStatus()==="authenticated"?this.http.get(W):H(this.getCartFromLocalStorage())).pipe(q(i=>this.updateCacheAndEmit(i)))}addItem(t,e=1){let i={id:t.id,product:t,productId:t.id,quantity:e};if(this.auth.authStatus()==="authenticated")return this.toast.activateLoading(),this.http.post(`${W}/items`,{productId:t.id,quantity:e}).pipe(q(d=>{this.updateCacheAndEmit([...this.cartSubject.value,d]),this.toast.activateSuccess()}),Y(()=>this.toast.deactivateLoading()));{let d=this.getCartFromLocalStorage(),Pe=d.find(et=>et.productId===t.id);return Pe?Pe.quantity+=e:d.push(i),this.saveCartToLocalStorage(d),this.updateCacheAndEmit(d),H()}}updateItem(t,e){if(this.auth.authStatus()==="authenticated")return this.toast.activateLoading(),this.http.patch(`${W}/items/${t}`,{quantity:e}).pipe(q(c=>{this.cartCache.set(c.id,c),this.updateCacheAndEmit(Array.from(this.cartCache.values())),this.toast.activateSuccess()}),Y(()=>this.toast.deactivateLoading()));{let c=this.getCartFromLocalStorage().map(d=>d.id===t?Me(Ee({},d),{quantity:e}):d);return this.saveCartToLocalStorage(c),this.updateCacheAndEmit(c),H()}}removeItem(t){if(this.auth.authStatus()==="authenticated")return this.toast.activateLoading(),this.http.delete(`${W}/items/${t}`).pipe(q(()=>{this.cartCache.delete(t),this.updateCacheAndEmit(Array.from(this.cartCache.values())),this.toast.activateSuccess()}),Y(()=>this.toast.deactivateLoading()));{let i=this.getCartFromLocalStorage().filter(c=>c.id!==t);return this.saveCartToLocalStorage(i),this.updateCacheAndEmit(i),H()}}clearCart(){return this.auth.authStatus()==="authenticated"?this.http.delete(W).pipe(q(()=>this.resetCart())):(localStorage.removeItem("guestCart"),this.resetCart(),H())}getCartFromLocalStorage(){let t=localStorage.getItem("guestCart");return t?JSON.parse(t):[]}saveCartToLocalStorage(t){localStorage.setItem("guestCart",JSON.stringify(t))}updateCacheAndEmit(t){this.cartCache.clear(),t.forEach(e=>this.cartCache.set(e.id,e)),this.cartSubject.next(t)}resetCart(){this.cartCache.clear(),this.cartSubject.next([])}static \u0275fac=function(e){return new(e||n)};static \u0275prov=ke({token:n,factory:n.\u0275fac,providedIn:"root"})};var at=n=>["/product",n],J=class n{product=P.required();cartService=m(B);addToCart(){this.cartService.addItem(this.product()).subscribe()}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=p({type:n,selectors:[["product-card"]],inputs:{product:[1,"product"]},decls:13,vars:12,consts:[[1,"card","bg-base-100","w-85","shadow-sm","opacity-80"],["alt","",3,"src"],[1,"card-body"],[1,"card-title","cursor-pointer",3,"routerLink"],[1,"min-h-[70px]"],[1,"card-actions","justify-end"],["type","button",1,"btn","btn-primary",3,"click"]],template:function(e,i){e&1&&(o(0,"div",0)(1,"figure"),l(2,"img",1),k(3,"productImage"),r(),o(4,"div",2)(5,"h2",3),s(6),r(),o(7,"p",4),s(8),k(9,"slice"),r(),o(10,"div",5)(11,"button",6),b("click",function(){return i.addToCart()}),s(12," Agregar al carrito "),r()()()()),e&2&&(a(2),g("src",L(3,4,i.product().imagesName),U),a(3),g("routerLink",ee(10,at,i.product().slug)),a(),v(" ",i.product().title," "),a(2),v(" ",te(9,6,i.product().description,0,70)))},dependencies:[V,ie,ce],styles:["[_nghost-%COMP%]{display:block}"]})};function ct(n,t){if(n&1&&(o(0,"swiper-slide",2),l(1,"product-card",3),r()),n&2){let e=t.$implicit;a(),g("product",e)}}var fe=class n{products=P.required();spaceBetween=20;slidesPerView=4;ngAfterViewInit(){let t=document.querySelector("swiper-container");t&&(t.navigation=!0,t.spaceBetween=this.spaceBetween,t.slidesPerView=this.slidesPerView,t.loop=!0,t.breakpoints={0:{slidesPerView:1,spaceBetween:10},780:{slidesPerView:2,spaceBetween:15},1280:{slidesPerView:3,spaceBetween:20},1900:{slidesPerView:4,spaceBetween:25}},t.initialize())}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=p({type:n,selectors:[["product-carrusel"]],inputs:{products:[1,"products"]},decls:4,vars:0,consts:[["swiper",""],[1,"w-full"],[1,"flex","items-center","justify-center"],[3,"product"]],template:function(e,i){e&1&&(o(0,"swiper-container",1,0),S(2,ct,2,1,"swiper-slide",2,y),r()),e&2&&(a(2),x(i.products()))},dependencies:[j,J],styles:["[_nghost-%COMP%]{display:block}"]})};var st=()=>[];function lt(n,t){n&1&&(o(0,"div",1),l(1,"loading"),r())}function mt(n,t){if(n&1&&(o(0,"p",2),s(1),r()),n&2){let e=C();a(),N(e.error())}}function pt(n,t){if(n&1&&l(0,"product-carrusel",4),n&2){let e,i=C();g("products",((e=i.productResponse())==null?null:e.products)??R(1,st))}}function dt(n,t){n&1&&(o(0,"p"),s(1,"No hay productos para mostrar"),r())}var ge=class n{productResponse;loading;error;loadProducts;constructor(){let{productResponse:t,loading:e,error:i,loadProducts:c}=se();this.productResponse=t,this.loading=e,this.error=i,this.loadProducts=c,ne(()=>{this.loadProducts({isFeatured:!0})})}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=p({type:n,selectors:[["app-home"]],decls:7,vars:4,consts:[[1,"text-3xl","font-bold","mb-6","mt-6"],[1,"min-h-[50vh]","gap-4"],[1,"text-red-500"],[1,"py-18"],[3,"products"]],template:function(e,i){if(e&1&&(o(0,"h1",0),s(1,"Productos destacados"),r(),u(2,lt,2,0,"div",1),u(3,mt,2,1,"p",2),o(4,"div",3),u(5,pt,1,2,"product-carrusel",4),r(),u(6,dt,2,0,"p")),e&2){let c,d;a(2),f(i.loading()?2:-1),a(),f(i.error()?3:-1),a(2),f(!i.loading()&&!i.error()&&(!((c=i.productResponse())==null||c.products==null)&&c.products.length)?5:-1),a(),f(!i.loading()&&!i.error()&&((d=i.productResponse())==null||d.products==null?null:d.products.length)===0?6:-1)}},dependencies:[fe,D],styles:["[_nghost-%COMP%]{display:block}"]})};var Ce=class n{static \u0275fac=function(e){return new(e||n)};static \u0275cmp=p({type:n,selectors:[["app-not-found"]],decls:9,vars:0,consts:[[1,"flex","flex-col","items-center","justify-center","min-h-[75vh]","text-center","px-6"],[1,"text-9xl","font-bold","text-primary"],[1,"text-2xl","md:text-3xl","font-semibold","mt-4"],[1,"text-gray-600","mt-2","mb-6","max-w-md"],["routerLink","/",1,"btn","btn-primary","shadow-md","hover:shadow-lg","transition","duration-300"]],template:function(e,i){e&1&&(o(0,"div",0)(1,"h1",1),s(2,"404"),r(),o(3,"h2",2),s(4,"P\xE1gina no encontrada"),r(),o(5,"p",3),s(6," Lo sentimos, la p\xE1gina que est\xE1s buscando no existe o fue movida a otra URL. "),r(),o(7,"a",4),s(8," Volver al inicio "),r()())},dependencies:[V],styles:["[_nghost-%COMP%]{display:block}"]})};var ut=()=>[""];function ft(n,t){if(n&1&&(I(0,"swiper-slide",1),G(1,"img",2),k(2,"productImage"),w()),n&2){let e=t.$implicit;a(),we("src",L(2,1,e),U)}}function gt(n,t){if(n&1&&S(0,ft,3,3,"swiper-slide",1,y),n&2){let e=C();x(e.images())}}function Ct(n,t){n&1&&(I(0,"swiper-slide",1),G(1,"img",3),k(2,"productImage"),w()),n&2&&(a(),we("src",L(2,1,R(3,ut)),U))}var ve=class n{images=P.required();spaceBetween=10;slidesPerView=1;ngAfterViewInit(){let t=document.querySelector("swiper-container");if(t){let e=this.images();t.pagination={clickable:!0},t.navigation=!0,t.spaceBetween=this.spaceBetween,t.slidesPerView=this.slidesPerView,t.loop=e&&e.length>1,t.initialize()}}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=p({type:n,selectors:[["image-carrusel"]],inputs:{images:[1,"images"]},decls:3,vars:1,consts:[[1,"w-full","max-w-xl","h-96"],[1,"w-full","h-full","flex","justify-end","items-center"],["alt","Imagen del producto",1,"w-full","h-full","object-cover","rounded-xl",3,"src"],["alt","Imagen por defecto",1,"w-full","h-full","object-cover","rounded-xl","opacity-80",3,"src"]],template:function(e,i){e&1&&(I(0,"swiper-container",0),u(1,gt,2,0)(2,Ct,3,4,"swiper-slide",1),w()),e&2&&(a(),f(i.images().length?1:2))},dependencies:[ce],styles:["[_nghost-%COMP%]{display:block}"]})};var vt=()=>[];function ht(n,t){n&1&&(o(0,"div",0),l(1,"loading"),r())}function bt(n,t){if(n&1&&(o(0,"div",1)(1,"div",2),l(2,"image-carrusel",3),r(),o(3,"div",4)(4,"h2",5),s(5),r(),l(6,"div",6),o(7,"p"),s(8),r()()()),n&2){let e,i,c,d=C();a(2),g("images",((e=d.product())==null?null:e.imagesName)??R(3,vt)),a(3),v(" ",(i=d.product())==null?null:i.title," "),a(3),v(" ",(c=d.product())==null?null:c.description," ")}}var K=class n{activatedRoute=m(Ve);productService=m(Je);productIdSlug=this.activatedRoute.snapshot.params.idSlug;product=E(null);loading=E(!0);error=E(null);constructor(){}ngOnInit(){this.loadProduct()}async loadProduct(){this.loading.set(!0),this.error.set(null);try{let t=await Z(this.productService.getProductByIdSlug(this.productIdSlug));this.product.set(t)}catch{this.error.set("Error al cargar el producto")}finally{this.loading.set(!1)}}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=p({type:n,selectors:[["app-product"]],decls:2,vars:2,consts:[[1,"min-h-[50vh]","gap-4"],["div","",1,"grid","grid-cols-1","sm:grid-cols-2","gap-4","items-start"],[1,"flex","justify-end","sm:justify-end"],[3,"images"],[1,"flex","flex-col","justify-start"],[1,"text-2xl","font-bold"],[1,"divider"]],template:function(e,i){e&1&&(u(0,ht,2,0,"div",0),u(1,bt,9,4,"div",1)),e&2&&(f(i.loading()?0:-1),a(),f(!i.loading()&&i.product()?1:-1))},dependencies:[j,D,ve],styles:["[_nghost-%COMP%]{display:block}"]})};function _t(n,t){n&1&&(o(0,"div",1),l(1,"loading"),r())}function St(n,t){if(n&1&&(o(0,"p",2),s(1),r()),n&2){let e=C();a(),N(e.error())}}function xt(n,t){if(n&1&&l(0,"product-card",4),n&2){let e=t.$implicit;g("product",e)}}function yt(n,t){if(n&1&&(o(0,"div",3),S(1,xt,1,1,"product-card",4,y),r(),l(3,"pagination",5)),n&2){let e,i,c=C();a(),x((e=c.productResponse())==null?null:e.products),a(2),g("pages",((i=c.productResponse())==null?null:i.pages)??0)("currentPage",c.paginationService.currentPage())}}function It(n,t){n&1&&(o(0,"p"),s(1,"No hay productos para mostrar"),r())}var X=class n{paginationService=m(Qe);productResponse;loading;error;loadProducts;constructor(){let{productResponse:t,loading:e,error:i,loadProducts:c}=se();this.productResponse=t,this.loading=e,this.error=i,this.loadProducts=c,ne(()=>{this.loadProducts({offset:(this.paginationService.currentPage()-1)*9})})}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=p({type:n,selectors:[["app-products"]],decls:6,vars:4,consts:[[1,"text-3xl","font-bold","mb-6","mt-6"],[1,"min-h-[50vh]","gap-4"],[1,"text-red-500"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","xl:grid-cols-4","mt-6","gap-8"],[3,"product"],[3,"pages","currentPage"]],template:function(e,i){if(e&1&&(o(0,"h1",0),s(1,"Todos los productos"),r(),u(2,_t,2,0,"div",1),u(3,St,2,1,"p",2),u(4,yt,4,2),u(5,It,2,0,"p")),e&2){let c,d;a(2),f(i.loading()?2:-1),a(),f(i.error()?3:-1),a(),f(!i.loading()&&!i.error()&&(!((c=i.productResponse())==null||c.products==null)&&c.products.length)?4:-1),a(),f(!i.loading()&&!i.error()&&((d=i.productResponse())==null||d.products==null?null:d.products.length)===0?5:-1)}},dependencies:[J,We,D],styles:["[_nghost-%COMP%]{display:block}"]})};var he=class n{recipe=P.required();static \u0275fac=function(e){return new(e||n)};static \u0275cmp=p({type:n,selectors:[["recipe-card"]],inputs:{recipe:[1,"recipe"]},decls:6,vars:2,consts:[[1,"card","bg-base-100","max-w-md","md:max-w-lg","shadow-md","hover:shadow-lg","transition-shadow","duration-300","w-full"],[1,"card-body","items-center","text-center"],[1,"card-title","text-xl","text-primary","mb-2"],[1,"text-sm","opacity-80"]],template:function(e,i){e&1&&(I(0,"div",0)(1,"div",1)(2,"h3",2),s(3),w(),I(4,"p",3),s(5),w()()()),e&2&&(a(3),v(" ",i.recipe().title," "),a(2),v(" ",i.recipe().text," "))},styles:["[_nghost-%COMP%]{display:block}"]})};function wt(n,t){n&1&&(o(0,"div",1),l(1,"loading"),r())}function Pt(n,t){if(n&1&&(o(0,"p",2),s(1),r()),n&2){let e=C();a(),N(e.error())}}function Et(n,t){if(n&1&&(o(0,"div",5),l(1,"recipe-card",6),r()),n&2){let e=t.$implicit;a(),g("recipe",e)}}function Mt(n,t){if(n&1&&(o(0,"div",4),S(1,Et,2,1,"div",5,y),r()),n&2){let e=C();a(),x(e.recipes())}}function Tt(n,t){n&1&&(o(0,"p"),s(1,"No hay recetas para mostrar"),r())}var be=class n{recipeService=m(Ke);recipes=E(null);loading=E(!0);error=E(null);ngOnInit(){this.getRecipes()}async getRecipes(){this.loading.set(!0),this.error.set(null);try{let t=await Z(this.recipeService.getAll());this.recipes.set(t)}catch{this.error.set("Error al cargar las recetas")}finally{this.loading.set(!1)}}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=p({type:n,selectors:[["app-recipe"]],decls:7,vars:4,consts:[[1,"text-3xl","font-bold","mb-6","mt-6"],[1,"min-h-[50vh]","gap-4"],[1,"text-red-500"],[1,"flex","flex-col","items-center","justify-center"],[1,"flex","flex-col","gap-12","mt-6","w-full"],[1,"flex","justify-center","gap-8","flex-wrap"],[3,"recipe"]],template:function(e,i){if(e&1&&(o(0,"h1",0),s(1,"Recetas"),r(),u(2,wt,2,0,"div",1),u(3,Pt,2,1,"p",2),o(4,"div",3),u(5,Mt,3,0,"div",4),r(),u(6,Tt,2,0,"p")),e&2){let c,d;a(2),f(i.loading()?2:-1),a(),f(i.error()?3:-1),a(2),f(!i.loading()&&!i.error()&&((c=i.recipes())!=null&&c.length)?5:-1),a(),f(!i.loading()&&!i.error()&&((d=i.recipes())==null?null:d.length)===0?6:-1)}},dependencies:[D,he],styles:["[_nghost-%COMP%]{display:block}"]})};var _e=class n{contact=P.required();static \u0275fac=function(e){return new(e||n)};static \u0275cmp=p({type:n,selectors:[["contact-card"]],inputs:{contact:[1,"contact"]},decls:8,vars:3,consts:[[1,"card","bg-base-100","w-96","shadow-md","hover:shadow-lg","transition-shadow","duration-300"],[1,"card-body","items-center","text-center"],[1,"card-title","text-xl","text-primary","mb-2"],[1,"text-sm","opacity-80"]],template:function(e,i){e&1&&(I(0,"div",0)(1,"div",1)(2,"h3",2),s(3),w(),I(4,"p",3),s(5),w(),I(6,"p",3),s(7),w()()()),e&2&&(a(3),v(" ",i.contact().title," "),a(2),v(" \u{1F4DE} ",i.contact().phone," "),a(2),v(" \u2709\uFE0F ",i.contact().email," "))},styles:["[_nghost-%COMP%]{display:block}"]})};var kt=(n,t)=>t.id;function Nt(n,t){n&1&&(o(0,"div",1),l(1,"loading"),r())}function Dt(n,t){if(n&1&&(o(0,"p",2),s(1),r()),n&2){let e=C();a(),N(e.error())}}function Ot(n,t){if(n&1&&l(0,"contact-card",6),n&2){let e=t.$implicit;g("contact",e)}}function Ft(n,t){if(n&1&&(o(0,"div",5),S(1,Ot,1,1,"contact-card",6,kt),r()),n&2){let e=t.$implicit;a(),x(e)}}function At(n,t){if(n&1&&(o(0,"div",4),S(1,Ft,3,0,"div",5,y),r()),n&2){let e=C();a(),x(e.rowsFormatted())}}function Rt(n,t){n&1&&(o(0,"p"),s(1,"No hay contactos para mostrar"),r())}var Se=class n{contactService=m(Ge);contacts=E(null);loading=E(!0);error=E(null);async getContacts(){this.loading.set(!0),this.error.set(null);try{let t=await Z(this.contactService.getAll());this.contacts.set(t)}catch{this.error.set("Error al cargar los contactos")}finally{this.loading.set(!1)}}ngOnInit(){this.getContacts()}rowsFormatted(){let t=this.contacts()||[],e=[];for(let i=0;i<t.length;)(t.length-i)%2===1?(e.push([t[i]]),i+=1):(e.push(t.slice(i,i+2)),i+=2);return e}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=p({type:n,selectors:[["app-contact"]],decls:7,vars:4,consts:[[1,"text-3xl","font-bold","mb-6","mt-6"],[1,"min-h-[50vh]","gap-4"],[1,"text-red-500"],[1,"flex","flex-col","items-center","justify-center","min-h-[50vh]"],[1,"flex","flex-col","gap-12","mt-6","w-full"],[1,"flex","justify-center","gap-8","flex-wrap"],[3,"contact"]],template:function(e,i){if(e&1&&(o(0,"h1",0),s(1,"Contactos"),r(),u(2,Nt,2,0,"div",1),u(3,Dt,2,1,"p",2),o(4,"div",3),u(5,At,3,0,"div",4),r(),u(6,Rt,2,0,"p")),e&2){let c,d;a(2),f(i.loading()?2:-1),a(),f(i.error()?3:-1),a(2),f(!i.loading()&&!i.error()&&((c=i.contacts())!=null&&c.length)?5:-1),a(),f(!i.loading()&&!i.error()&&((d=i.contacts())==null?null:d.length)===0?6:-1)}},dependencies:[D,_e],styles:["[_nghost-%COMP%]{display:block}"]})};var xe=class n{authService=m(M);configurationService=m(T);menuItems=[{label:"Mi perfil",route:"/user/profile",adminOnly:!1},{label:"Mis direcciones",route:"/user/directions",adminOnly:!1},{label:"Mis pedidos",route:"/user/recipes",adminOnly:!1}];static \u0275fac=function(e){return new(e||n)};static \u0275cmp=p({type:n,selectors:[["user-options"]],decls:3,vars:1,consts:[[3,"menuItems"],[1,"cursor-pointer","hover:bg-gray-500","btn","btn-ghost","text-secondary","w-full",3,"click"]],template:function(e,i){e&1&&(l(0,"menu-items",0),o(1,"button",1),b("click",function(){return[i.authService.logout(),i.configurationService.toggleSidebarPageStatus("closed")]}),s(2,` Cerrar sesi\xF3n
`),r()),e&2&&g("menuItems",i.menuItems)},dependencies:[ze],styles:["[_nghost-%COMP%]{display:block}"]})};var Lt=n=>["/product",n];function jt(n,t){if(n&1){let e=z();o(0,"div",0)(1,"figure"),l(2,"img",1),r(),o(3,"div",2)(4,"div")(5,"h2",3),s(6),r(),o(7,"p",4),s(8),k(9,"slice"),r()(),o(10,"div",5)(11,"div",6)(12,"button",7),b("click",function(){let c=O(e).$implicit,d=C();return F(d.decreaseQuantity(c))}),s(13,"-"),r(),o(14,"span"),s(15),r(),o(16,"button",7),b("click",function(){let c=O(e).$implicit,d=C();return F(d.increaseQuantity(c))}),s(17,"+"),r()(),o(18,"div",6)(19,"p",8),s(20),r(),o(21,"button",9),b("click",function(){let c=O(e).$implicit,d=C();return F(d.remove(c.id))}),s(22,"Eliminar"),r()()()()()}if(n&2){let e=t.$implicit;a(2),g("alt",Re(e.product==null?null:e.product.title))("src",e.product==null?null:e.product.imagesName,U),a(3),g("routerLink",ee(13,Lt,e.productId)),a(),v(" ",e.product==null?null:e.product.title," "),a(2),Ae("",te(9,9,e.product==null?null:e.product.description,0,70),"",(e.product==null||e.product.description==null?null:e.product.description.length)>70?"...":""),a(7),N(e.quantity),a(5),v("$",(e.product==null?null:e.product.price)*e.quantity)}}var ye=class n{cartItems=P.required();cartService=m(B);remove(t){this.cartService.removeItem(t).subscribe()}increaseQuantity(t){this.cartService.updateItem(t.id,t.quantity+1).subscribe()}decreaseQuantity(t){t.quantity>1?this.cartService.updateItem(t.id,t.quantity-1).subscribe():this.remove(t.id)}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=p({type:n,selectors:[["cart-items"]],inputs:{cartItems:[1,"cartItems"]},decls:2,vars:0,consts:[[1,"card","card-side","bg-base-100","shadow-sm","mb-4"],[1,"w-24","h-24","object-cover","rounded-lg","m-2",3,"src","alt"],[1,"card-body","p-3","flex","flex-col","justify-between"],[1,"card-title","cursor-pointer","text-lg","font-semibold",3,"routerLink"],[1,"text-sm","text-gray-500","mt-1"],[1,"card-actions","justify-between","items-center","mt-2"],[1,"flex","items-center","space-x-2"],[1,"btn","btn-sm","btn-outline",3,"click"],[1,"font-bold","text-base"],[1,"btn","btn-sm","btn-error",3,"click"]],template:function(e,i){e&1&&S(0,jt,23,15,"div",0,y),e&2&&x(i.cartItems())},dependencies:[V,ie],styles:["[_nghost-%COMP%]{display:block}"]})};function Vt(n,t){if(n&1&&(o(0,"div",1),l(1,"cart-items",3),k(2,"async"),r()),n&2){let e=C();a(),g("cartItems",L(2,1,e.cartItems$))}}function Bt(n,t){n&1&&(o(0,"div",2),s(1," Tu carrito est\xE1 vac\xEDo "),r())}var Ie=class n{cartService=m(B);cartItems$=this.cartService.cart$;ngOnInit(){this.cartService.loadCart().subscribe()}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=p({type:n,selectors:[["cart-sidebar"]],decls:4,vars:3,consts:[[1,"flex","flex-col","h-full"],[1,"flex-1","overflow-y-auto","px-4","py-6"],[1,"flex-1","flex","items-center","justify-center","text-gray-500","min-h-[75vh]"],[3,"cartItems"]],template:function(e,i){if(e&1&&(o(0,"div",0),u(1,Vt,3,3,"div",1),k(2,"async"),De(3,Bt,2,0,"div",2),r()),e&2){let c;a(),f(((c=L(2,1,i.cartItems$))==null?null:c.length)>0?1:3)}},dependencies:[j,ye,Le],styles:["[_nghost-%COMP%]{display:block}"]})};var Ht=[{path:"",component:ue,children:[{path:"",title:"E-commerce Gluten Free",component:ge},{path:"products",title:"Productos",component:X},{path:"product/:idSlug",title:"Producto",component:K},{path:"recipe",title:"Recetas",component:be},{path:"contact",title:"Contacto",component:Se},{path:"**",component:Ce},{path:"userOptions",title:"Opciones de usuario",outlet:"sidebar",component:xe},{path:"auth/login",title:"Iniciar sesi\xF3n",outlet:"sidebar",component:$e},{path:"cartSidebar",title:"Mi carrito",outlet:"sidebar",component:Ie}]}],Ho=Ht;export{Ho as default,Ht as storeFrontRoutes};
