import{a as z}from"./chunk-E6NCB3R4.js";import{$ as a,A as s,Aa as De,D as p,G as fe,I as q,L as F,M as O,N as ge,O as ve,P as V,Q as U,R as c,S as r,T as i,U as d,V as k,W as S,X as be,Y as Ce,Z as y,_ as ye,aa as he,ba as h,da as v,e as ne,ea as _,f as T,fa as N,g as oe,ga as $,ha as Pe,i as re,j as ie,ka as B,l as j,la as se,ma as xe,na as w,o as f,p as de,pa as we,q as ue,qa as ke,r as le,ra as Se,s as me,sa as M,t as ae,ua as _e,v as g,xa as H,ya as Me,z as A,za as D}from"./chunk-XYDWIR6C.js";var P=()=>({exact:!0}),Q=class n{static \u0275fac=function(e){return new(e||n)};static \u0275cmp=p({type:n,selectors:[["front-navbar"]],decls:38,vars:16,consts:[[1,"navbar","bg-base-100","shadow-sm"],[1,"navbar-start"],[1,"dropdown"],["tabindex","0","role","button",1,"btn","btn-ghost","lg:hidden"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-5","w-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 6h16M4 12h8m-8 6h16"],["tabindex","0",1,"menu","menu-sm","dropdown-content","bg-base-100","rounded-box","z-1","mt-3","w-52","p-2","shadow"],["routerLink","/","routerLinkActive","text-secondary",3,"routerLinkActiveOptions"],["routerLink","/products","routerLinkActive","text-secondary",3,"routerLinkActiveOptions"],["routerLink","/recipe","routerLinkActive","text-secondary",3,"routerLinkActiveOptions"],["routerLink","/contact","routerLinkActive","text-secondary",3,"routerLinkActiveOptions"],["routerLink","/",1,"btn","btn-ghost","text-xl"],[1,"navbar-center","hidden","lg:flex"],[1,"menu","menu-horizontal","px-1"],[1,"navbar-end"],[1,"btn"]],template:function(e,o){e&1&&(r(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),le(),r(4,"svg",4),d(5,"path",5),i()(),me(),r(6,"ul",6)(7,"li")(8,"a",7),a(9,"Inicio"),i()(),r(10,"li")(11,"a",8),a(12," Productos"),i()(),r(13,"li")(14,"a",9),a(15,"Recetas"),i()(),r(16,"li")(17,"a",10),a(18,"Contacto"),i()()()(),r(19,"a",11),a(20,"Gluten Free"),i()(),r(21,"div",12)(22,"ul",13)(23,"li")(24,"a",7),a(25,"Inicio"),i()(),r(26,"li")(27,"a",8),a(28," Productos"),i()(),r(29,"li")(30,"a",9),a(31,"Recetas"),i()(),r(32,"li")(33,"a",10),a(34,"Contacto"),i()()()(),r(35,"div",14)(36,"a",15),a(37,"Carrito"),i()()()),e&2&&(s(8),c("routerLinkActiveOptions",v(8,P)),s(3),c("routerLinkActiveOptions",v(9,P)),s(3),c("routerLinkActiveOptions",v(10,P)),s(3),c("routerLinkActiveOptions",v(11,P)),s(7),c("routerLinkActiveOptions",v(12,P)),s(3),c("routerLinkActiveOptions",v(13,P)),s(3),c("routerLinkActiveOptions",v(14,P)),s(3),c("routerLinkActiveOptions",v(15,P)))},dependencies:[D,De],styles:["[_nghost-%COMP%]{display:block}"]})};var G=class n{static \u0275fac=function(e){return new(e||n)};static \u0275cmp=p({type:n,selectors:[["app-store-front-layout"]],decls:3,vars:0,consts:[[1,"container","mx-auto"]],template:function(e,o){e&1&&(d(0,"front-navbar"),r(1,"section",0),d(2,"router-outlet"),i())},dependencies:[Me,Q],encapsulation:2})};var J=class n{static \u0275fac=function(e){return new(e||n)};static \u0275cmp=p({type:n,selectors:[["app-home"]],decls:0,vars:0,template:function(e,o){},styles:["[_nghost-%COMP%]{display:block}"]})};var X=class n{static \u0275fac=function(e){return new(e||n)};static \u0275cmp=p({type:n,selectors:[["app-not-found"]],decls:3,vars:0,template:function(e,o){e&1&&(k(0,"p"),a(1,"not-found-page works!"),S(),a(2,`,
`))},styles:["[_nghost-%COMP%]{display:block}"]})};var Ie=z.baseUrl,I=class n{constructor(){}http=f(_e);productsCache=new Map;productCache=new Map;getProducts(t={}){let{limit:e=12,offset:o=0}=t,u=`${e}-${o}`;return this.productsCache.has(u)?ne(this.productsCache.get(u)):this.http.get(`${Ie}/products`,{params:{limit:e,offset:o},responseType:"json"}).pipe(re(C=>this.productsCache.set(u,C)))}getProductByIdSlug(t){return this.productCache.has(t)?ne(this.productCache.get(t)):this.http.get(`${Ie}/products/${t}`,{responseType:"json"}).pipe(re(o=>this.productCache.set(t,o)))}static \u0275fac=function(e){return new(e||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})};var Ee=z.baseUrl,E=class n{transform(t){if(typeof t=="string")return`${Ee}/files/product/${t}`;let e=t[0];return e?`${Ee}/files/product/${e}`:"https://www.foodnavigator.com/resizer/v2/3MET5T7L4JO25FVOXQDQ67EHOE.jpg?auth=d16d65b4d7f1ff6620ee4d54a2abb29750e275e5721fcd954f2aecd5a78ab6f7&smart=true"}static \u0275fac=function(e){return new(e||n)};static \u0275pipe=fe({name:"productImage",type:n,pure:!0})};function Ne(n,t){if(n&1&&(r(0,"swiper-slide"),d(1,"img",5),N(2,"productImage"),i()),n&2){let e=t.$implicit;s(),c("src",$(2,1,e),A)}}var K=class n{images=w.required();spaceBetween=20;slidesPerView=3;ngAfterViewInit(){let t=document.querySelector("swiper-container");t&&(t.pagination={clickable:!0},t.navigation=!0,t.spaceBetween=this.spaceBetween,t.slidesPerView=this.slidesPerView,t.loop=this.images.length>1,t.initialize())}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=p({type:n,selectors:[["product-carrusel"]],inputs:{images:[1,"images"]},decls:5,vars:1,consts:[[1,"w-full","h-64"],[4,"ngFor","ngForOf"],[1,"swiper-pagination"],[1,"swiper-button-prev"],[1,"swiper-button-next"],["alt","Producto",1,"w-full","h-full","object-cover","rounded-lg","shadow-md",3,"src"]],template:function(e,o){e&1&&(r(0,"swiper-container",0),q(1,Ne,3,3,"swiper-slide",1),d(2,"div",2)(3,"div",3)(4,"div",4),i()),e&2&&(s(),c("ngForOf",o.images()))},dependencies:[M,we,E],styles:["[_nghost-%COMP%]{display:block}"]})};function Le(n,t){n&1&&(r(0,"div")(1,"div",1),d(2,"span",2),r(3,"p"),a(4,"Cargando producto..."),i()()())}function Re(n,t){if(n&1&&(r(0,"div")(1,"div",3),d(2,"product-carrusel",4),r(3,"div")(4,"h2",5),a(5),i(),d(6,"div",6),r(7,"p"),a(8),i()()()()),n&2){let e,o,u=y();s(2),c("images",u.productImages),s(3),h(" ",(e=u.product())==null?null:e.title," "),s(3),h(" ",(o=u.product())==null?null:o.description," ")}}var L=class n{activatedRoute=f(H);productService=f(I);productIdSlug=this.activatedRoute.snapshot.params.idSlug;product=g(null);loading=g(!0);error=g(null);constructor(){}ngOnInit(){this.loadProduct()}async loadProduct(){this.loading.set(!0),this.error.set(null);try{let t=await T(this.productService.getProductByIdSlug(this.productIdSlug));this.product.set(t)}catch(t){console.error(t),this.error.set("Error al cargar el producto")}finally{this.loading.set(!1)}}get productImages(){let t=this.product()?.imagesName??[];return t?.length>0?t:["https://www.foodnavigator.com/resizer/v2/3MET5T7L4JO25FVOXQDQ67EHOE.jpg?auth=d16d65b4d7f1ff6620ee4d54a2abb29750e275e5721fcd954f2aecd5a78ab6f7&smart=true"]}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=p({type:n,selectors:[["app-product"]],decls:2,vars:2,consts:[[4,"ngIf"],[1,"flex","flex-col","justify-center","items-center","h-screen","gap-4"],[1,"loading","loading-spinner","loading-lg"],[1,"grid","grid-cols-1","sm:grid-cols-2","grap-3"],[3,"images"],[1,"text-2xl","font-bold"],[1,"divider"]],template:function(e,o){e&1&&q(0,Le,5,0,"div",0)(1,Re,9,3,"div",0),e&2&&(c("ngIf",o.loading()),s(),c("ngIf",!o.loading()&&o.product()))},dependencies:[M,ke,K],styles:["[_nghost-%COMP%]{display:block}"]})};var ce=n=>["/product",n],W=class n{product=w.required();static \u0275fac=function(e){return new(e||n)};static \u0275cmp=p({type:n,selectors:[["product-card"]],inputs:{product:[1,"product"]},decls:14,vars:18,consts:[[1,"card","bg-base-100","w-96","shadow-sm"],[1,"hover:underline","cursor-pointer",3,"routerLink"],["alt","Comida sin gluten",3,"src"],[1,"card-body"],[1,"card-title","hover:underline","cursor-pointer",3,"routerLink"],[1,"card-actions","justify-end"],[1,"btn","btn-primary",3,"routerLink"]],template:function(e,o){e&1&&(r(0,"div",0)(1,"figure")(2,"div",1),d(3,"img",2),N(4,"productImage"),i()(),r(5,"div",3)(6,"h2",4),a(7),i(),r(8,"p"),a(9),N(10,"slice"),i(),r(11,"div",5)(12,"a",6),a(13," Ver "),i()()()()),e&2&&(s(2),c("routerLink",_(12,ce,o.product().slug)),s(),c("src",$(4,6,o.product().imagesName),A),s(3),c("routerLink",_(14,ce,o.product().slug)),s(),h(" ",o.product().title," "),s(2),h(" ",Pe(10,8,o.product().description,0,70)),s(3),c("routerLink",_(16,ce,o.product().slug)))},dependencies:[D,Se,E],styles:["[_nghost-%COMP%]{display:block}"]})};var Te=()=>[],je=n=>({page:n});function Ae(n,t){if(n&1){let e=be();r(0,"button",3),Ce("click",function(){let u=de(e).$implicit,l=y();return ue(l.activePage.set(u))}),a(1),i()}if(n&2){let e=t.$implicit,o=y();ye("btn-primary",e===o.activePage()),c("routerLink",v(5,Te))("queryParams",_(6,je,e)),s(),h(" ",e," ")}}function qe(n,t){n&1&&(r(0,"button",2),a(1,"0"),i())}var Y=class n{pages=w(0);currentPage=w(1);activePage=xe(this.currentPage);getPagesList=B(()=>Array.from({length:this.pages()},(t,e)=>e+1));static \u0275fac=function(e){return new(e||n)};static \u0275cmp=p({type:n,selectors:[["pagination"]],inputs:{pages:[1,"pages"],currentPage:[1,"currentPage"]},decls:4,vars:1,consts:[[1,"join","flex","justify-center","items-center","mt-4","mb-10"],[1,"join-item","btn",3,"btn-primary","routerLink","queryParams"],[1,"join-item","btn"],[1,"join-item","btn",3,"click","routerLink","queryParams"]],template:function(e,o){e&1&&(r(0,"div",0),V(1,Ae,2,8,"button",1,ve,!1,qe,2,0,"button",2),i()),e&2&&(s(),U(o.getPagesList()))},dependencies:[D],styles:["[_nghost-%COMP%]{display:block}"]})};function Fe(n,t){let o=!t?.manualCleanup?t?.injector?.get(ae)??f(ae):null,u=Ve(t?.equal),l;t?.requireSync?l=g({kind:0},{equal:u}):l=g({kind:1,value:t?.initialValue},{equal:u});let C,pe=n.subscribe({next:x=>l.set({kind:1,value:x}),error:x=>{l.set({kind:2,error:x}),C?.()},complete:()=>{C?.()}});if(t?.requireSync&&l().kind===0)throw new ie(601,!1);return C=o?.onDestroy(pe.unsubscribe.bind(pe)),B(()=>{let x=l();switch(x.kind){case 1:return x.value;case 2:throw x.error;case 0:throw new ie(601,!1)}},{equal:t?.equal})}function Ve(n=Object.is){return(t,e)=>t.kind===1&&e.kind===1&&n(t.value,e.value)}var Z=class n{activateRoute=f(H);currentPage=Fe(this.activateRoute.queryParamMap.pipe(oe(t=>t.get("page")?+t.get("page"):1),oe(t=>isNaN(t)?1:t)),{initialValue:1});static \u0275fac=function(e){return new(e||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})};function Ue(n,t){n&1&&(r(0,"div",1),d(1,"span",5),r(2,"p"),a(3,"Cargando productos..."),i()())}function $e(n,t){if(n&1&&(r(0,"p",2),a(1),i()),n&2){let e=y();s(),he(e.error())}}function Be(n,t){if(n&1&&d(0,"product-card",6),n&2){let e=t.$implicit;c("product",e)}}function He(n,t){if(n&1&&(r(0,"div",3),V(1,Be,1,1,"product-card",6,ge),i()),n&2){let e,o=y();s(),U((e=o.productResponse())==null?null:e.products)}}function ze(n,t){n&1&&(r(0,"p"),a(1,"No hay productos para mostrar"),i())}var R=class n{productService=f(I);paginationService=f(Z);productResponse=g(null);loading=g(!0);error=g(null);constructor(){se(()=>{this.loadProducts(this.paginationService.currentPage()-1)})}async loadProducts(t){this.loading.set(!0),this.error.set(null);try{let e=await T(this.productService.getProducts({offset:t*9}));this.productResponse.set(e)}catch(e){console.error(e),this.error.set("Error al cargar productos")}finally{this.loading.set(!1)}}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=p({type:n,selectors:[["app-products"]],decls:7,vars:6,consts:[[1,"text-3xl","font-bold","mb-6","mt-6"],[1,"flex","flex-col","justify-center","items-center","h-screen","gap-4"],[1,"text-red-500"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","xl:grid-cols-4","mt-6","gap-12"],[3,"pages","currentPage"],[1,"loading","loading-spinner","loading-lg"],[3,"product"]],template:function(e,o){if(e&1&&(r(0,"h1",0),a(1,"Productos"),i(),F(2,Ue,4,0,"div",1),F(3,$e,2,1,"p",2),F(4,He,3,0,"div",3),F(5,ze,2,0,"p"),d(6,"pagination",4)),e&2){let u,l,C;s(2),O(o.loading()?2:-1),s(),O(o.error()?3:-1),s(),O(!o.loading()&&!o.error()&&(!((u=o.productResponse())==null||u.products==null)&&u.products.length)?4:-1),s(),O(!o.loading()&&!o.error()&&((l=o.productResponse())==null||l.products==null?null:l.products.length)===0?5:-1),s(),c("pages",((C=o.productResponse())==null?null:C.pages)??0)("currentPage",o.paginationService.currentPage())}},dependencies:[M,W,Y],styles:["[_nghost-%COMP%]{display:block}"]})};var ee=class n{static \u0275fac=function(e){return new(e||n)};static \u0275cmp=p({type:n,selectors:[["app-recipe"]],decls:3,vars:0,template:function(e,o){e&1&&(k(0,"p"),a(1,"recipe works!"),S(),a(2,`,
`))},styles:["[_nghost-%COMP%]{display:block}"]})};var te=class n{static \u0275fac=function(e){return new(e||n)};static \u0275cmp=p({type:n,selectors:[["app-contact"]],decls:3,vars:0,template:function(e,o){e&1&&(k(0,"p"),a(1,"contact works!"),S(),a(2,`,
`))},styles:["[_nghost-%COMP%]{display:block}"]})};var Qe=[{path:"",component:G,children:[{path:"",component:J},{path:"products",component:R},{path:"product/:idSlug",component:L},{path:"recipe",component:ee},{path:"contact",component:te},{path:"**",component:X}]},{path:"**",redirectTo:""}],xn=Qe;export{xn as default,Qe as storeFrontRoutes};
