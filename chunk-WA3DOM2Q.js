import{a as y,b as xe,c as be,d as ye,e as U,f as Se}from"./chunk-6SWT63PD.js";import{$ as c,Aa as H,Ba as he,C as m,Ea as z,Ga as _e,J as p,K as l,L as F,N as S,O as P,P as s,Q as r,R as a,S as d,T as E,U as w,W as de,X as me,Y as f,aa as M,ba as g,da as h,e as N,ea as te,f as k,fa as ne,ga as ue,ha as fe,i as R,l as j,la as $,na as D,o as C,p as ae,q as ce,qa as Ce,r as pe,ra as V,s as le,ta as B,u as x,xa as ge,y as se,ya as ve,z as i}from"./chunk-ZQORN3D4.js";var I=()=>({exact:!0});function Ee(t,n){t&1&&(r(0,"a",16),c(1,"Panel Administrativo"),a())}function we(t,n){if(t&1){let e=de();r(0,"button",18),c(1),a(),r(2,"button",20),me("click",function(){ae(e);let u=f();return ce(u.authService.logout())}),c(3," Salir "),a()}if(t&2){let e,o=f();i(),g(" ",(e=o.authService.user())==null?null:e.fullName," ")}}function Re(t,n){t&1&&(r(0,"a",17),c(1," Login "),a())}function Fe(t,n){t&1&&(r(0,"a",18),c(1," ... "),a())}var q=class t{authService=C(_e);static \u0275fac=function(e){return new(e||t)};static \u0275cmp=m({type:t,selectors:[["front-navbar"]],decls:44,vars:18,consts:[[1,"navbar","bg-base-100","shadow-sm"],[1,"navbar-start"],[1,"dropdown"],["aria-label","Abrir men\xFA",1,"btn","btn-ghost","lg:hidden"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-5","w-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 6h16M4 12h8m-8 6h16"],[1,"menu","menu-sm","dropdown-content","bg-base-100","rounded-box","z-1","mt-3","w-52","p-2","shadow"],["routerLink","/","routerLinkActive","text-secondary",3,"routerLinkActiveOptions"],["routerLink","/products","routerLinkActive","text-secondary",3,"routerLinkActiveOptions"],["routerLink","/recipe","routerLinkActive","text-secondary",3,"routerLinkActiveOptions"],["routerLink","/contact","routerLinkActive","text-secondary",3,"routerLinkActiveOptions"],["routerLink","/",1,"text-lg","md:text-2xl","font-bold","text-white"],[1,"text-blue-500"],[1,"navbar-center","hidden","lg:flex"],[1,"menu","menu-horizontal","px-1"],[1,"navbar-end","gap-4"],["routerLink","/admin",1,"btn","btn-ghost"],["routerLink","/auth/login",1,"btn","btn-secondary"],[1,"btn","btn-ghost"],[1,"btn"],[1,"btn","btn-sm","btn-error",3,"click"]],template:function(e,o){e&1&&(r(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),pe(),r(4,"svg",4),d(5,"path",5),a()(),le(),r(6,"ul",6)(7,"li")(8,"a",7),c(9," Inicio "),a()(),r(10,"li")(11,"a",8),c(12," Productos "),a()(),r(13,"li")(14,"a",9),c(15," Recetas "),a()(),r(16,"li")(17,"a",10),c(18," Contacto "),a()()()(),r(19,"a",11),c(20,"Gluten"),r(21,"span",12),c(22," Free"),a()()(),r(23,"div",13)(24,"ul",14)(25,"li")(26,"a",7),c(27," Inicio "),a()(),r(28,"li")(29,"a",8),c(30," Productos "),a()(),r(31,"li")(32,"a",9),c(33," Recetas "),a()(),r(34,"li")(35,"a",10),c(36," Contacto "),a()()()(),r(37,"div",15),p(38,Ee,2,0,"a",16),p(39,we,4,1)(40,Re,2,0,"a",17)(41,Fe,2,0,"a",18),r(42,"a",19),c(43,"\u{1F6D2}"),a()()()),e&2&&(i(8),s("routerLinkActiveOptions",h(10,I)),i(3),s("routerLinkActiveOptions",h(11,I)),i(3),s("routerLinkActiveOptions",h(12,I)),i(3),s("routerLinkActiveOptions",h(13,I)),i(9),s("routerLinkActiveOptions",h(14,I)),i(3),s("routerLinkActiveOptions",h(15,I)),i(3),s("routerLinkActiveOptions",h(16,I)),i(3),s("routerLinkActiveOptions",h(17,I)),i(3),l(o.authService.isAdmin()?38:-1),i(),l(o.authService.authStatus()==="authenticated"?39:o.authService.authStatus()==="not-authenticated"?40:41))},dependencies:[H,he],styles:["[_nghost-%COMP%]{display:block}"]})};var G=class t{static \u0275fac=function(e){return new(e||t)};static \u0275cmp=m({type:t,selectors:[["app-store-front-layout"]],decls:3,vars:0,consts:[[1,"container","mx-auto"]],template:function(e,o){e&1&&(d(0,"front-navbar"),r(1,"section",0),d(2,"router-outlet"),a())},dependencies:[ve,q],encapsulation:2})};var Pe=t=>["/product",t],T=class t{product=D.required();static \u0275fac=function(e){return new(e||t)};static \u0275cmp=m({type:t,selectors:[["product-card"]],inputs:{product:[1,"product"]},decls:14,vars:15,consts:[[1,"card","bg-base-100","w-96","shadow-sm"],["alt","Comida sin gluten",3,"src"],[1,"card-body"],[1,"card-title","hover:underline","cursor-pointer",3,"routerLink"],[1,"card-actions","justify-end"],[1,"btn","btn-primary",3,"routerLink"]],template:function(e,o){e&1&&(r(0,"div",0)(1,"figure")(2,"div"),d(3,"img",1),ne(4,"productImage"),a()(),r(5,"div",2)(6,"h2",3),c(7),a(),r(8,"p"),c(9),ne(10,"slice"),a(),r(11,"div",4)(12,"a",5),c(13," Ver "),a()()()()),e&2&&(i(3),s("src",ue(4,5,o.product().imagesName),se),i(3),s("routerLink",te(11,Pe,o.product().slug)),i(),g(" ",o.product().title," "),i(2),g(" ",fe(10,7,o.product().description,0,70)),i(3),s("routerLink",te(13,Pe,o.product().slug)))},dependencies:[H,Ce,ye],styles:["[_nghost-%COMP%]{display:block}"]})};function Me(t,n){if(t&1&&(r(0,"swiper-slide"),d(1,"product-card",0),a()),t&2){let e=n.$implicit;i(),s("product",e)}}var L=class t{products=D.required();spaceBetween=20;slidesPerView=3;ngAfterViewInit(){let n=document.querySelector("swiper-container");n&&(n.pagination={clickable:!0},n.navigation=!0,n.spaceBetween=this.spaceBetween,n.slidesPerView=this.slidesPerView,n.loop=this.products.length>1,n.initialize())}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=m({type:t,selectors:[["product-carrusel"]],inputs:{products:[1,"products"]},decls:3,vars:0,consts:[[3,"product"]],template:function(e,o){e&1&&(r(0,"swiper-container"),S(1,Me,2,1,"swiper-slide",null,F),a()),e&2&&(i(),P(o.products()))},dependencies:[V,T],styles:["[_nghost-%COMP%]{display:block}"]})};var De=()=>[];function Ie(t,n){t&1&&d(0,"loading")}function Ne(t,n){if(t&1&&(r(0,"p",1),c(1),a()),t&2){let e=f();i(),M(e.error())}}function ke(t,n){if(t&1&&d(0,"product-carrusel",3),t&2){let e,o=f();s("products",((e=o.productResponse())==null?null:e.products)??h(1,De))}}function Te(t,n){t&1&&(r(0,"p"),c(1,"No hay productos para mostrar"),a())}var Q=class t{productResponse;loading;error;loadProducts;constructor(){let{productResponse:n,loading:e,error:o,loadProducts:u}=U();this.productResponse=n,this.loading=e,this.error=o,this.loadProducts=u,$(()=>{this.loadProducts({isFeatured:!0})})}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=m({type:t,selectors:[["app-home"]],decls:7,vars:4,consts:[[1,"text-3xl","font-bold","mb-6","mt-6"],[1,"text-red-500"],[1,"py-18"],[3,"products"]],template:function(e,o){if(e&1&&(r(0,"h1",0),c(1,"Productos destacados"),a(),p(2,Ie,1,0,"loading"),p(3,Ne,2,1,"p",1),r(4,"div",2),p(5,ke,1,2,"product-carrusel",3),a(),p(6,Te,2,0,"p")),e&2){let u,v;i(2),l(o.loading()?2:-1),i(),l(o.error()?3:-1),i(2),l(!o.loading()&&!o.error()&&(!((u=o.productResponse())==null||u.products==null)&&u.products.length)?5:-1),i(),l(!o.loading()&&!o.error()&&((v=o.productResponse())==null||v.products==null?null:v.products.length)===0?6:-1)}},dependencies:[L,y],styles:["[_nghost-%COMP%]{display:block}"]})};var J=class t{static \u0275fac=function(e){return new(e||t)};static \u0275cmp=m({type:t,selectors:[["app-not-found"]],decls:3,vars:0,template:function(e,o){e&1&&(E(0,"p"),c(1,"not-found-page works!"),w(),c(2,`,
`))},styles:["[_nghost-%COMP%]{display:block}"]})};var Le=()=>[];function Oe(t,n){t&1&&d(0,"loading")}function Ae(t,n){if(t&1&&(r(0,"div",0),d(1,"product-carrusel",1),r(2,"div")(3,"h2",2),c(4),a(),d(5,"div",3),r(6,"p"),c(7),a()()()),t&2){let e,o,u=f();i(),s("products",h(3,Le)),i(3),g(" ",(e=u.product())==null?null:e.title," "),i(3),g(" ",(o=u.product())==null?null:o.description," ")}}var O=class t{activatedRoute=C(ge);productService=C(be);productIdSlug=this.activatedRoute.snapshot.params.idSlug;product=x(null);loading=x(!0);error=x(null);constructor(){}ngOnInit(){this.loadProduct()}async loadProduct(){this.loading.set(!0),this.error.set(null);try{let n=await k(this.productService.getProductByIdSlug(this.productIdSlug));this.product.set(n)}catch(n){console.error(n),this.error.set("Error al cargar el producto")}finally{this.loading.set(!1)}}get productImages(){let n=this.product()?.imagesName??[];return n?.length>0?n:["https://www.foodnavigator.com/resizer/v2/3MET5T7L4JO25FVOXQDQ67EHOE.jpg?auth=d16d65b4d7f1ff6620ee4d54a2abb29750e275e5721fcd954f2aecd5a78ab6f7&smart=true"]}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=m({type:t,selectors:[["app-product"]],decls:2,vars:2,consts:[["div","",1,"grid","grid-cols-1","sm:grid-cols-2","grap-3"],[3,"products"],[1,"text-2xl","font-bold"],[1,"divider"]],template:function(e,o){e&1&&(p(0,Oe,1,0,"loading"),p(1,Ae,8,4,"div",0)),e&2&&(l(o.loading()?0:-1),i(),l(!o.loading()&&o.product()?1:-1))},dependencies:[V,L,y],styles:["[_nghost-%COMP%]{display:block}"]})};function je(t,n){t&1&&d(0,"loading")}function $e(t,n){if(t&1&&(r(0,"p",1),c(1),a()),t&2){let e=f();i(),M(e.error())}}function Ve(t,n){if(t&1&&d(0,"product-card",4),t&2){let e=n.$implicit;s("product",e)}}function Be(t,n){if(t&1&&(r(0,"div",2),S(1,Ve,1,1,"product-card",4,F),a()),t&2){let e,o=f();i(),P((e=o.productResponse())==null?null:e.products)}}function He(t,n){t&1&&(r(0,"p"),c(1,"No hay productos para mostrar"),a())}var A=class t{paginationService=C(xe);productResponse;loading;error;loadProducts;constructor(){let{productResponse:n,loading:e,error:o,loadProducts:u}=U();this.productResponse=n,this.loading=e,this.error=o,this.loadProducts=u,$(()=>{this.loadProducts({offset:(this.paginationService.currentPage()-1)*9})})}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=m({type:t,selectors:[["app-products"]],decls:7,vars:6,consts:[[1,"text-3xl","font-bold","mb-6","mt-6"],[1,"text-red-500"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","xl:grid-cols-4","mt-6","gap-12"],[3,"pages","currentPage"],[3,"product"]],template:function(e,o){if(e&1&&(r(0,"h1",0),c(1,"Todos los productos"),a(),p(2,je,1,0,"loading"),p(3,$e,2,1,"p",1),p(4,Be,3,0,"div",2),p(5,He,2,0,"p"),d(6,"pagination",3)),e&2){let u,v,re;i(2),l(o.loading()?2:-1),i(),l(o.error()?3:-1),i(),l(!o.loading()&&!o.error()&&(!((u=o.productResponse())==null||u.products==null)&&u.products.length)?4:-1),i(),l(!o.loading()&&!o.error()&&((v=o.productResponse())==null||v.products==null?null:v.products.length)===0?5:-1),i(),s("pages",((re=o.productResponse())==null?null:re.pages)??0)("currentPage",o.paginationService.currentPage())}},dependencies:[T,Se,y],styles:["[_nghost-%COMP%]{display:block}"]})};var oe=`${z.baseUrl}/recipes`,X=class t{http=C(B);recipesCache=new Map;getRecipes(){return this.recipesCache.size?N(Array.from(this.recipesCache.values())):this.http.get(oe).pipe(R(n=>n.forEach(e=>this.recipesCache.set(e.id,e))))}getRecipeById(n){return this.recipesCache.has(n)?N(this.recipesCache.get(n)):this.http.get(`${oe}/${n}`).pipe(R(e=>this.recipesCache.set(n,e)))}updateRecipe(n,e){return this.http.patch(`${oe}/${n}`,e).pipe(R(o=>this.recipesCache.set(n,o)))}static \u0275fac=function(e){return new(e||t)};static \u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})};var K=class t{recipe=D.required();static \u0275fac=function(e){return new(e||t)};static \u0275cmp=m({type:t,selectors:[["recipe-card"]],inputs:{recipe:[1,"recipe"]},decls:6,vars:2,consts:[[1,"card","bg-base-100","max-w-md","md:max-w-lg","shadow-md","hover:shadow-lg","transition-shadow","duration-300","w-full"],[1,"card-body","items-center","text-center"],[1,"card-title","text-xl","text-primary","mb-2"],[1,"text-sm","opacity-80"]],template:function(e,o){e&1&&(E(0,"div",0)(1,"div",1)(2,"h3",2),c(3),w(),E(4,"p",3),c(5),w()()()),e&2&&(i(3),g(" ",o.recipe().title," "),i(2),g(" ",o.recipe().text," "))},styles:["[_nghost-%COMP%]{display:block}"]})};function ze(t,n){t&1&&d(0,"loading")}function Ue(t,n){if(t&1&&(r(0,"p",1),c(1),a()),t&2){let e=f();i(),M(e.error())}}function qe(t,n){if(t&1&&(r(0,"div",4),d(1,"recipe-card",5),a()),t&2){let e=n.$implicit;i(),s("recipe",e)}}function Ge(t,n){if(t&1&&(r(0,"div",3),S(1,qe,2,1,"div",4,F),a()),t&2){let e=f();i(),P(e.recipes())}}function Qe(t,n){t&1&&(r(0,"p"),c(1,"No hay recetas para mostrar"),a())}var W=class t{recipeService=C(X);recipes=x(null);loading=x(!0);error=x(null);async getRecipes(){this.loading.set(!0),this.error.set(null);try{let n=await k(this.recipeService.getRecipes());this.recipes.set(n)}catch(n){console.error(n),this.error.set("Error al cargar las recetas")}finally{this.loading.set(!1)}}ngOnInit(){this.getRecipes()}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=m({type:t,selectors:[["app-recipe"]],decls:7,vars:4,consts:[[1,"text-3xl","font-bold","mb-6","mt-6"],[1,"text-red-500"],[1,"flex","flex-col","items-center","justify-center"],[1,"flex","flex-col","gap-12","mt-6","w-full"],[1,"flex","justify-center","gap-8","flex-wrap"],[3,"recipe"]],template:function(e,o){if(e&1&&(r(0,"h1",0),c(1,"Recetas"),a(),p(2,ze,1,0,"loading"),p(3,Ue,2,1,"p",1),r(4,"div",2),p(5,Ge,3,0,"div",3),a(),p(6,Qe,2,0,"p")),e&2){let u,v;i(2),l(o.loading()?2:-1),i(),l(o.error()?3:-1),i(2),l(!o.loading()&&!o.error()&&((u=o.recipes())!=null&&u.length)?5:-1),i(),l(!o.loading()&&!o.error()&&((v=o.recipes())==null?null:v.length)===0?6:-1)}},dependencies:[y,K],styles:["[_nghost-%COMP%]{display:block}"]})};var ie=`${z.baseUrl}/contacts`,Y=class t{http=C(B);contactsCache=new Map;getContacts(){return this.contactsCache.size?N(Array.from(this.contactsCache.values())):this.http.get(ie).pipe(R(n=>n.forEach(e=>this.contactsCache.set(e.id,e))))}getContactById(n){return this.contactsCache.has(n)?N(this.contactsCache.get(n)):this.http.get(`${ie}/${n}`).pipe(R(e=>this.contactsCache.set(n,e)))}updateContact(n,e){return this.http.patch(`${ie}/${n}`,e).pipe(R(o=>this.contactsCache.set(o.id,o)))}static \u0275fac=function(e){return new(e||t)};static \u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})};var Z=class t{contact=D.required();static \u0275fac=function(e){return new(e||t)};static \u0275cmp=m({type:t,selectors:[["contact-card"]],inputs:{contact:[1,"contact"]},decls:8,vars:3,consts:[[1,"card","bg-base-100","w-96","shadow-md","hover:shadow-lg","transition-shadow","duration-300"],[1,"card-body","items-center","text-center"],[1,"card-title","text-xl","text-primary","mb-2"],[1,"text-sm","opacity-80"]],template:function(e,o){e&1&&(E(0,"div",0)(1,"div",1)(2,"h3",2),c(3),w(),E(4,"p",3),c(5),w(),E(6,"p",3),c(7),w()()()),e&2&&(i(3),g(" ",o.contact().title," "),i(2),g(" \u{1F4DE} ",o.contact().phone," "),i(2),g(" \u2709\uFE0F ",o.contact().email," "))},styles:["[_nghost-%COMP%]{display:block}"]})};var Je=(t,n)=>n.id;function Xe(t,n){t&1&&d(0,"loading")}function Ke(t,n){if(t&1&&(r(0,"p",1),c(1),a()),t&2){let e=f();i(),M(e.error())}}function We(t,n){if(t&1&&d(0,"contact-card",5),t&2){let e=n.$implicit;s("contact",e)}}function Ye(t,n){if(t&1&&(r(0,"div",4),S(1,We,1,1,"contact-card",5,Je),a()),t&2){let e=n.$implicit;i(),P(e)}}function Ze(t,n){if(t&1&&(r(0,"div",3),S(1,Ye,3,0,"div",4,F),a()),t&2){let e=f();i(),P(e.rowsFormatted())}}function et(t,n){t&1&&(r(0,"p"),c(1,"No hay contactos para mostrar"),a())}var ee=class t{contactService=C(Y);contacts=x(null);loading=x(!0);error=x(null);async getContacts(){this.loading.set(!0),this.error.set(null);try{let n=await k(this.contactService.getContacts());this.contacts.set(n)}catch(n){console.error(n),this.error.set("Error al cargar los contactos")}finally{this.loading.set(!1)}}ngOnInit(){this.getContacts()}rowsFormatted(){let n=this.contacts()||[],e=[];for(let o=0;o<n.length;)(n.length-o)%2===1?(e.push([n[o]]),o+=1):(e.push(n.slice(o,o+2)),o+=2);return e}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=m({type:t,selectors:[["app-contact"]],decls:7,vars:4,consts:[[1,"text-3xl","font-bold","mb-6","mt-6"],[1,"text-red-500"],[1,"flex","flex-col","items-center","justify-center","min-h-[50vh]"],[1,"flex","flex-col","gap-12","mt-6","w-full"],[1,"flex","justify-center","gap-8","flex-wrap"],[3,"contact"]],template:function(e,o){if(e&1&&(r(0,"h1",0),c(1,"Contactos"),a(),p(2,Xe,1,0,"loading"),p(3,Ke,2,1,"p",1),r(4,"div",2),p(5,Ze,3,0,"div",3),a(),p(6,et,2,0,"p")),e&2){let u,v;i(2),l(o.loading()?2:-1),i(),l(o.error()?3:-1),i(2),l(!o.loading()&&!o.error()&&((u=o.contacts())!=null&&u.length)?5:-1),i(),l(!o.loading()&&!o.error()&&((v=o.contacts())==null?null:v.length)===0?6:-1)}},dependencies:[y,Z],styles:["[_nghost-%COMP%]{display:block}"]})};var tt=[{path:"",component:G,children:[{path:"",component:Q},{path:"products",component:A},{path:"product/:idSlug",component:O},{path:"recipe",component:W},{path:"contact",component:ee},{path:"**",component:J}]},{path:"**",redirectTo:""}],Hn=tt;export{Hn as default,tt as storeFrontRoutes};
