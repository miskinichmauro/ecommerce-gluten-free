import{a as h,b as l,c as S,d as v,e as C,g as w,h as E,i as y,j as N,k as _}from"./chunk-4HYHBJ64.js";import{E as g,Ga as d,Ha as c,Na as b,R as f,S as e,T as o,U as m,_ as u,ga as r,o as n,u as s}from"./chunk-7L4JM7UI.js";var x=class p{authService=n(b);configurationService=n(_);fb=n(y);router=n(d);hasError=s(!1);isPosting=s(!1);loginForm=this.fb.group({email:["",[l.required,l.email]],password:["",[l.required,l.minLength(6)]]});onSubmit(){this.loginForm.invalid&&(this.hasError.set(!0),setTimeout(()=>{this.hasError.set(!1)},2e3));let{email:a="",password:t=""}=this.loginForm.value;this.authService.login(a,t).subscribe(i=>{if(i){this.router.navigateByUrl("/");return}this.hasError.set(!0),setTimeout(()=>{this.hasError.set(!1)},2e3)})}static \u0275fac=function(t){return new(t||p)};static \u0275cmp=g({type:p,selectors:[["app-login"]],decls:17,vars:1,consts:[[1,"gap-2",3,"ngSubmit","formGroup"],[1,"fieldset","bg-base-200","border-base-300","rounded-box","w-full","p-6"],[1,"fieldset-legend","text-lg","font-semibold"],[1,"flex","flex-col","gap-4"],["for","email",1,"label"],["type","email","placeholder","Email","formControlName","email",1,"input","w-full"],["for","password",1,"label"],["type","password","placeholder","Password","formControlName","password",1,"input","w-full"],[1,"w-full","flex","justify-end"],[1,"text-slate-700"],["routerLink","/auth/register",1,"text-primary","hover:underline"],[1,"btn","btn-neutral","w-full",3,"click"]],template:function(t,i){t&1&&(e(0,"form",0),u("ngSubmit",function(){return i.onSubmit()}),e(1,"fieldset",1)(2,"legend",2),r(3,"Login"),o(),e(4,"div",3)(5,"label",4),r(6,"Email"),o(),m(7,"input",5),e(8,"label",6),r(9,"Password"),o(),m(10,"input",7),e(11,"div",8)(12,"p",9)(13,"a",10),r(14," Registrarse "),o()()(),e(15,"button",11),u("click",function(){return[i.configurationService.toggleSidebarPageStatus("closed"),i.configurationService.toggleSidebarItemsStatus("closed")]}),r(16," Login "),o()()()()),t&2&&f("formGroup",i.loginForm)},dependencies:[c,N,C,h,S,v,w,E],styles:["[_nghost-%COMP%]{display:block}"]})};export{x as a};
