import{a as L}from"./chunk-6EEWWBQD.js";import{a as S,b as l,c as R,d as E,e as _,g as F,h as M,i as P,j as D}from"./chunk-MRNILBUI.js";import{B as p,E as u,Ga as y,Ha as v,L as g,M as h,Oa as N,R as b,S as o,T as t,U as s,_ as w,aa as C,ha as r,ia as x,o as m,u as f}from"./chunk-IXUDTN42.js";var d=class i{static \u0275fac=function(e){return new(e||i)};static \u0275cmp=u({type:i,selectors:[["app-auth-layout"]],decls:5,vars:0,consts:[[1,"flex","items-center","justify-center","min-h-screen","bg-gray-900"],[1,"w-full","max-w-md","bg-gray-800","shadow-2xl","rounded-lg","p-6"],[1,"text-3xl","font-bold","text-white","text-center","mb-6","mt-6"]],template:function(e,a){e&1&&(o(0,"div",0)(1,"div",1)(2,"h1",2),r(3," Autenticaci\xF3n "),t(),s(4,"router-outlet"),t()())},dependencies:[y],styles:["[_nghost-%COMP%]{display:block}"]})};function G(i,n){i&1&&(o(0,"div",13),r(1," Las contrase\xF1as no coinciden "),t())}function I(i,n){if(i&1&&(o(0,"p",14),r(1),t()),i&2){let e=C();p(),x(e.error())}}var c=class i{fb=m(P);error=f(null);isPosting=f(!1);router=m(v);authService=m(N);registerForm=this.fb.group({email:["",[l.required,l.email]],password:["",[l.required,l.minLength(6)]],confirmPassword:["",[l.required]],fullName:["",[l.required,l.minLength(1)]]},{validators:this.passwordsMatchValidator});passwordsMatchValidator(n){let e=n.get("password")?.value,a=n.get("confirmPassword")?.value;return e===a?null:{passwordMismatch:!0}}onSubmit(){let{email:n="",password:e="",fullName:a=""}=this.registerForm.value,A=this.authService.register(n,e,a).subscribe(T=>{if(T){this.router.navigateByUrl("/");return}this.error.set("No se pudo crear la cuenta"),setTimeout(()=>{this.error.set(null)},5e3)})}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=u({type:i,selectors:[["app-register"]],decls:21,vars:3,consts:[[1,"gap-2",3,"ngSubmit","formGroup"],[1,"fieldset","bg-base-200","border-base-300","rounded-box","w-full","p-6"],[1,"fieldset-legend","text-lg","font-semibold"],[1,"flex","flex-col","gap-4"],["for","fullName",1,"label"],["type","fullName","placeholder","Nombre completo","formControlName","fullName",1,"input","w-full"],["for","email",1,"label"],["type","email","placeholder","Email","formControlName","email",1,"input","w-full"],["for","password",1,"label"],["type","password","placeholder","Password","formControlName","password",1,"input","w-full"],["for","confirmPassword",1,"label"],["type","password","placeholder","Repite tu password","formControlName","confirmPassword",1,"input","w-full"],[1,"btn","btn-neutral","w-full"],[1,"text-error","text-sm","mt-1"],[1,"text-red-500"]],template:function(e,a){e&1&&(o(0,"form",0),w("ngSubmit",function(){return a.onSubmit()}),o(1,"fieldset",1)(2,"legend",2),r(3,"Register"),t(),o(4,"div",3)(5,"label",4),r(6,"Nombre completo"),t(),s(7,"input",5),o(8,"label",6),r(9,"Email"),t(),s(10,"input",7),o(11,"label",8),r(12,"Password"),t(),s(13,"input",9),o(14,"label",10),r(15,"Confirmar password"),t(),s(16,"input",11),o(17,"button",12),r(18,"Login"),t(),g(19,G,2,0,"div",13),t()()(),g(20,I,2,1,"p",14)),e&2&&(b("formGroup",a.registerForm),p(19),h(a.registerForm.hasError("passwordMismatch")&&a.registerForm.touched?19:-1),p(),h(a.error()?20:-1))},dependencies:[D,_,S,R,E,F,M],styles:["[_nghost-%COMP%]{display:block}"]})};var O=[{path:"",component:d,children:[{path:"login",component:L},{path:"register",component:c},{path:"**",redirectTo:"login"}]}],Z=O;export{O as authRoutes,Z as default};
