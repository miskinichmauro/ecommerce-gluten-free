import{a as j,b as v,c as $,d as z,e as B,f as Ie,g as H,h as Z,i as U,j as J}from"./chunk-AJLQRE6Z.js";import{a as Le,b as le,c as ce,d as Ve,e as Oe,f as R,g as K,h as Q}from"./chunk-73XD6YW6.js";import{$ as l,Aa as y,Ba as Re,C as p,Fa as G,Ga as ae,J as D,K as F,M as Ee,N as A,O as T,P as m,Q as n,R as r,S as c,T as De,U as Fe,W as re,X as w,Y as k,Z as we,_ as C,a as L,aa as g,ba as h,da as O,ea as M,f as P,fa as ee,g as V,ga as Se,ha as ke,ka as Me,la as N,na as x,o as d,p as ne,pa as Ne,q as ie,qa as Ae,r as X,s as Y,u as f,xa as q,y as Pe,ya as Te,z as a,za as E}from"./chunk-ZQORN3D4.js";var se=class i{authService=d(ae);user=Me(()=>this.authService.user());static \u0275fac=function(e){return new(e||i)};static \u0275cmp=p({type:i,selectors:[["app-admin-dashboard-layout"]],decls:59,vars:1,consts:[[1,"bg-slate-800","overflow-y-scroll","w-screen","h-screen","antialiased","text-slate-300","selection:bg-blue-600","selection:text-white"],[1,"flex","flex-col","relative","w-screen"],["id","menu",1,"bg-gray-900","min-h-screen","z-10","text-slate-300","w-64","fixed","left-0","h-screen","overflow-y-scroll"],["id","logo",1,"my-4","px-6"],["routerLink","/",1,"text-lg","md:text-2xl","font-bold","text-white"],[1,"text-blue-500"],[1,"text-slate-500","text-sm"],["id","profile",1,"px-6","py-10"],[1,"text-slate-500"],["routerLink","/admin/products",1,"inline-flex","space-x-2","items-center"],[1,"text-sm","md:text-base","font-bold"],["id","nav",1,"w-full","px-6"],["routerLink","/admin/products",1,"w-full","px-2","inline-flex","space-x-2","items-center","border-b","border-slate-700","py-3","hover:bg-white/5","transition","ease-linear","duration-150"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"w-6","h-6","text-white"],["stroke-linecap","round","stroke-linejoin","round","d","M3.75 6A2.25 2.25 0 016 3.75h2.25A2.25 2.25 0 0110.5 6v2.25a2.25 2.25 0 01-2.25 2.25H6a2.25 2.25 0 01-2.25-2.25V6zM3.75 15.75A2.25 2.25 0 016 13.5h2.25a2.25 2.25 0 012.25 2.25V18a2.25 2.25 0 01-2.25 2.25H6A2.25 2.25 0 013.75 18v-2.25zM13.5 6a2.25 2.25 0 012.25-2.25H18A2.25 2.25 0 0120.25 6v2.25A2.25 2.25 0 0118 10.5h-2.25a2.25 2.25 0 01-2.25-2.25V6zM13.5 15.75a2.25 2.25 0 012.25-2.25H18a2.25 2.25 0 012.25 2.25V18A2.25 2.25 0 0118 20.25h-2.25A2.25 2.25 0 0113.5 18v-2.25z"],[1,"flex","flex-col"],[1,"text-lg","font-bold","leading-5","text-white"],[1,"text-sm","text-white/50","hidden","md:block"],["routerLink","/admin/products","routerLinkActive","bg-blue-800",1,"w-full","px-2","inline-flex","space-x-2","items-center","border-b","border-slate-700","py-3","hover:bg-white/5","transition","ease-linear","duration-150"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"w-6","h-6"],["stroke-linecap","round","stroke-linejoin","round","d","M20.25 6.375c0 2.278-3.694 4.125-8.25 4.125S3.75 8.653 3.75 6.375m16.5 0c0-2.278-3.694-4.125-8.25-4.125S3.75 4.097 3.75 6.375m16.5 0v11.25c0 2.278-3.694 4.125-8.25 4.125s-8.25-1.847-8.25-4.125V6.375m16.5 0v3.75m-16.5-3.75v3.75m16.5 0v3.75C20.25 16.153 16.556 18 12 18s-8.25-1.847-8.25-4.125v-3.75m16.5 0c0 2.278-3.694 4.125-8.25 4.125s-8.25-1.847-8.25-4.125"],[1,"text-lg","text-slate-300","font-bold","leading-5"],[1,"text-sm","text-slate-500","hidden","md:block"],["routerLink","/admin/recipes","routerLinkActive","bg-blue-800",1,"w-full","px-2","inline-flex","space-x-2","items-center","border-b","border-slate-700","py-3","hover:bg-white/5","transition","ease-linear","duration-150"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"size-6"],["stroke-linecap","round","stroke-linejoin","round","d","M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"],["routerLink","/admin/contacts","routerLinkActive","bg-blue-800",1,"w-full","px-2","inline-flex","space-x-2","items-center","border-b","border-slate-700","py-3","hover:bg-white/5","transition","ease-linear","duration-150"],["stroke-linecap","round","stroke-linejoin","round","d","M15.75 3.75 18 6m0 0 2.25 2.25M18 6l2.25-2.25M18 6l-2.25 2.25m1.5 13.5c-8.284 0-15-6.716-15-15V4.5A2.25 2.25 0 0 1 4.5 2.25h1.372c.516 0 .966.351 1.091.852l1.106 4.423c.11.44-.054.902-.417 1.173l-1.293.97a1.062 1.062 0 0 0-.38 1.21 12.035 12.035 0 0 0 7.143 7.143c.441.162.928-.004 1.21-.38l.97-1.293a1.125 1.125 0 0 1 1.173-.417l4.423 1.106c.5.125.852.575.852 1.091V19.5a2.25 2.25 0 0 1-2.25 2.25h-2.25Z"],[1,"divider","my-2"],[1,"btn","btn-ghost","text-secondary","w-full",3,"click"],[1,"flex-1","ml-64","pt-5","px-5"]],template:function(e,o){if(e&1&&(n(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"a",4),l(5,"Gluten"),n(6,"span",5),l(7," Free"),r()(),n(8,"p",6),l(9,"Panel administrativo"),r()(),n(10,"div",7)(11,"p",8),l(12,"Bienvenido"),r(),n(13,"a",9),c(14,"span"),n(15,"span",10),l(16),r()()(),n(17,"div",11)(18,"a",12)(19,"div"),X(),n(20,"svg",13),c(21,"path",14),r()(),Y(),n(22,"div",15)(23,"span",16),l(24,"Dashboard"),r(),n(25,"span",17),l(26,"Data Overview"),r()()(),n(27,"a",18)(28,"div"),X(),n(29,"svg",19),c(30,"path",20),r()(),Y(),n(31,"div",15)(32,"span",21),l(33,"Productos"),r(),n(34,"span",22),l(35,"Listado de productos"),r()()(),n(36,"a",23)(37,"div"),X(),n(38,"svg",24),c(39,"path",25),r()(),Y(),n(40,"div",15)(41,"span",21),l(42,"Recetas"),r(),n(43,"span",22),l(44,"Listado de recetas"),r()()(),n(45,"a",26)(46,"div"),X(),n(47,"svg",24),c(48,"path",27),r()(),Y(),n(49,"div",15)(50,"span",21),l(51,"Contactos"),r(),n(52,"span",22),l(53,"Listado de contactos"),r()()(),c(54,"div",28),n(55,"button",29),w("click",function(){return o.authService.logout()}),l(56," Cerrar sesi\xF3n "),r()()()(),n(57,"div",30),c(58,"router-outlet"),r()()),e&2){let s;a(16),h(" ",(s=o.user())==null?null:s.fullName," ")}},dependencies:[Te,y,Re],styles:["[_nghost-%COMP%]{display:block}"]})};var qe=async()=>{let i=d(ae);return await P(i.checkStatus()),i.isAdmin()};var Ge=i=>["/admin/product",i],He=(i,t)=>t.id;function Ze(i,t){if(i&1&&(n(0,"tr")(1,"th")(2,"label"),l(3),r()(),n(4,"td")(5,"div",2)(6,"div",3)(7,"div",4),c(8,"img",5),ee(9,"productImage"),r()(),n(10,"div")(11,"a",6),l(12),r(),n(13,"div",7),l(14),r()()()(),n(15,"td"),l(16),ee(17,"currency"),r(),n(18,"td"),l(19),r(),n(20,"th")(21,"a",8),l(22," Detalles "),r()()()),i&2){let e=t.$implicit,o=t.$index;a(3),h(" ",o+1," "),a(5),m("src",Se(9,9,e.imagesName),Pe)("alt",e.title),a(3),m("routerLink",M(13,Ge,e.id)),a(),h(" ",e.title," "),a(2),h(" ",e.description," "),a(2),h(" ",Se(17,11,e.price)," "),a(3),h(" ",e.stock," "),a(2),m("routerLink",M(15,Ge,e.id))}}var me=class i{products=x.required();static \u0275fac=function(e){return new(e||i)};static \u0275cmp=p({type:i,selectors:[["products-table"]],inputs:{products:[1,"products"]},decls:17,vars:0,consts:[[1,"overflow-x-auto"],[1,"table"],[1,"flex","items-center","gap-3"],[1,"avatar"],[1,"mask","mask-squircle","h-12","w-12"],[3,"src","alt"],[1,"font-bold","hover:text-primary","transition-colors","duration-300",3,"routerLink"],[1,"text-sm","opacity-50"],[1,"btn","btn-ghost","text-primary","btn-xs",3,"routerLink"]],template:function(e,o){e&1&&(n(0,"div",0)(1,"table",1)(2,"thead")(3,"tr")(4,"th")(5,"label"),l(6," Nro "),r()(),n(7,"th"),l(8,"Titulo"),r(),n(9,"th"),l(10,"Precio"),r(),n(11,"th"),l(12,"Stock"),r(),c(13,"th"),r()(),n(14,"tbody"),A(15,Ze,23,17,"tr",null,He),r()()()),e&2&&(a(15),T(o.products()))},dependencies:[y,Le,Ne],styles:["[_nghost-%COMP%]{display:block}"]})};var Ue=()=>[],de=class i{paginationService=d(le);productResponse;loading;error;loadProducts;productPerPage=f(10);constructor(){let{productResponse:t,loading:e,error:o,loadProducts:s}=Ve();this.productResponse=t,this.loading=e,this.error=o,this.loadProducts=s,N(()=>{let u=this.paginationService.currentPage(),b=this.productPerPage(),te=(u-1)*b,oe=b;this.loadProducts({offset:te,limit:oe})})}updateProductsPerPage(t){this.productPerPage.set(t),this.paginationService.setPage(1)}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=p({type:i,selectors:[["products-admin"]],decls:22,vars:5,consts:[["selectPerPage",""],[1,"text-2xl","font-bold"],[1,"text-lg"],[1,"text-primary"],[1,"flex","gap-2","items-center","h-20"],[1,"select","select-bordered","w-32",3,"change"],["value","10"],["value","20"],["value","50"],["value","100"],[3,"pages","currentPage"],[1,"flex","flex-1"],["routerLink","/admin/product/new",1,"btn","btn-primary"],[3,"products"]],template:function(e,o){if(e&1){let s=re();n(0,"h1",1),l(1,"Listado de productos"),r(),n(2,"h3",2),l(3," Total de productos "),n(4,"span",3),l(5),r()(),n(6,"div",4)(7,"select",5,0),w("change",function(){ne(s);let b=we(8);return ie(o.updateProductsPerPage(+b.value))}),n(9,"option",6),l(10,"10"),r(),n(11,"option",7),l(12,"20"),r(),n(13,"option",8),l(14,"50"),r(),n(15,"option",9),l(16,"100"),r()(),c(17,"pagination",10)(18,"div",11),n(19,"button",12),l(20," Cargar producto "),r()(),c(21,"products-table",13)}if(e&2){let s,u,b;a(5),g((s=o.productResponse())==null?null:s.count),a(12),m("pages",((u=o.productResponse())==null?null:u.pages)??0)("currentPage",o.paginationService.currentPage()),a(4),m("products",((b=o.productResponse())==null?null:b.products)??O(4,Ue))}},dependencies:[me,Oe,y],styles:["[_nghost-%COMP%]{display:block}"]})};function je(){let i=d(ce),t=f(null),e=f(!0),o=f(null);async function s(u){e.set(!0),o.set(null);try{let b=await P(i.getProductByIdSlug(u));t.set(b)}catch{o.set("Error al carga el producto")}finally{e.set(!1)}}return{product:t,loading:e,error:o,loadProducts:s}}async function Je(){return new Promise(i=>{setTimeout(()=>{i(!0)},2500)})}var W=class i{static namePattern="([a-zA-Z]+) ([a-zA-Z]+)";static emailPattern="^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$";static notOnlySpacesPattern="^[a-zA-Z0-9]+$";static slugPattern="^[a-z0-9_]+(?:-[a-z0-9_]+)*$";static getTextError(t){for(let e of Object.keys(t))switch(e){case"required":return"Este campo es requerido";case"minlength":return`M\xEDnimo de ${t.minlength.requiredLength} caracteres.`;case"min":return`Valor m\xEDnimo de ${t.min.min}`;case"email":return"El valor ingresado no es un correo electr\xF3nico";case"emailTaken":return"El correo electr\xF3nico ya est\xE1 siendo usado por otro usuario";case"noStrider":return"No se puede usar el username de strider en la app";case"pattern":return t.pattern.requiredPattern===i.emailPattern?"El valor ingresado no luce como un correo electr\xF3nico":"Error de patr\xF3n contra expresi\xF3n regular";default:return`Error de validaci\xF3n no controlado ${e}`}return null}static isValidField(t,e){return!!t.controls[e].errors&&t.controls[e].touched}static getFieldError(t,e){if(!t.controls[e])return null;let o=t.controls[e].errors??{};return i.getTextError(o)}static isValidFieldInArray(t,e){return t.controls[e].errors&&t.controls[e].touched}static getFieldErrorInArray(t,e){if(t.controls.length===0)return null;let o=t.controls[e].errors??{};return i.getTextError(o)}static isFieldOneEqualFieldTwo(t,e){return o=>{let s=o.get(t)?.value,u=o.get(e)?.value;return s===u?null:{passwordsNotEqual:!0}}}static async checkingServerResponse(t){return await Je(),t.value==="hola@mundo.com"?{emailTaken:!0}:null}static notStrider(t){return t.value==="strider"?{noStrider:!0}:null}};var I=class i{control=x.required();get errorMessage(){let t=this.control().errors||{};return this.control().touched&&Object.keys(t).length>0?W.getTextError(t):null}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=p({type:i,selectors:[["form-error-label"]],inputs:{control:[1,"control"]},decls:2,vars:1,consts:[[1,"text-red-500","text-xs"]],template:function(e,o){e&1&&(De(0,"span",0),l(1),Fe()),e&2&&(a(),g(o.errorMessage))},styles:["[_nghost-%COMP%]{display:block}"]})};function Ke(i,t){if(i&1){let e=re();n(0,"button",19),w("click",function(){let s=ne(e).$implicit,u=k();return ie(u.onTagsClicked(s))}),l(1),r()}if(i&2){let e=t.$implicit,o=k();C("btn-primary",o.isTagSelected(e)),a(),h(" ",e," ")}}var pe=class i{router=d(E);productsService=d(ce);product=x.required();fb=d(U);productForm=this.fb.group({title:["",v.required],slug:["",[v.required,v.pattern(W.slugPattern)]],unitOfMeasure:["",[v.required]],description:["",v.required],price:[1,[v.required,v.min(1)]],stock:[1,[v.required,v.min(1)]],tags:[[""]],imagesName:[[""]]});tags=["Cerveza","Harina","Salado","Dulce"];ngOnInit(){this.productForm.reset(this.product())}isTagSelected(t){return(this.productForm.value.tags||[]).some(o=>o.toLowerCase()===t.toLowerCase())}onTagsClicked(t){let e=t.toLowerCase(),o=this.productForm.value.tags??[];o.includes(e)?o.splice(o.indexOf(e),1):o.push(e),this.productForm.patchValue({tags:o})}onSubmit(){this.productForm.markAllAsTouched();let t=this.productForm.value,e=L({},t);this.product().id==="new"?this.productsService.createProduct(e).subscribe(o=>{this.router.navigate(["/admin/product",o.id])}):this.productsService.updateProduct(this.product().id,e).subscribe()}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=p({type:i,selectors:[["product-details"]],inputs:{product:[1,"product"]},decls:32,vars:20,consts:[[1,"text-2xl","font-bold"],[1,"divider"],[1,"grid","grid-cols-1","sm:grid-cols-2","gap-4",3,"ngSubmit","formGroup"],[1,"flex","flex-col","gap-2"],[1,"text-2xl","font-bold","h-12"],["type","text","placeholder","T\xEDtulo","formControlName","title",1,"input","input-bordered","w-full"],[3,"control"],["type","text","placeholder","Slug","formControlName","slug",1,"input","input-bordered","w-full"],["type","text","placeholder","Unidad de medida","formControlName","unitOfMeasure",1,"input","input-bordered","w-full"],["placeholder","Descripci\xF3n","rows","6","formControlName","description",1,"textarea","textarea-bordered"],[1,"text-lg","font-bold"],[1,"grid","grid-cols-1","sm:grid-cols-2","gap-2"],["type","number","placeholder","Precio","formControlName","price",1,"input","input-bordered","w-full"],["type","number","placeholder","Stock","formControlName","stock",1,"input","input-bordered","w-full"],[1,"grid","grid-cols-6","gap-2"],["type","button",1,"btn","btn-sm",3,"btn-primary"],[1,"flex","justify-end","h-12"],["type","submit",1,"btn","btn-secondary"],["type","file","formControlName","imagesName",1,"file-input","file-input-bordered","w-full","mt-4"],["type","button",1,"btn","btn-sm",3,"click"]],template:function(e,o){if(e&1&&(n(0,"h1",0),l(1),r(),c(2,"div",1),n(3,"form",2),w("ngSubmit",function(){return o.onSubmit()}),n(4,"div",3)(5,"h2",4),l(6,"Datos generales"),r(),c(7,"input",5)(8,"form-error-label",6)(9,"input",7)(10,"form-error-label",6)(11,"input",8)(12,"form-error-label",6)(13,"textarea",9)(14,"form-error-label",6),n(15,"h2",10),l(16,"Datos de venta"),r(),n(17,"div",11)(18,"div"),c(19,"input",12)(20,"form-error-label",6),r(),n(21,"div"),c(22,"input",13)(23,"form-error-label",6),r()(),n(24,"div",14),A(25,Ke,2,3,"button",15,Ee),r()(),n(27,"div",3)(28,"div",16)(29,"button",17),l(30," Guardar "),r()(),c(31,"input",18),r()()),e&2){let s,u,b,te,oe,_e;a(),g(o.product().title),a(2),m("formGroup",o.productForm),a(4),C("border-red-500",((s=o.productForm.get("title"))==null?null:s.errors)??!1),a(),m("control",o.productForm.get("title")),a(),C("border-red-500",((u=o.productForm.get("title"))==null?null:u.errors)??!1),a(),m("control",o.productForm.get("slug")),a(),C("border-red-500",((b=o.productForm.get("unitOfMeasure"))==null?null:b.errors)??!1),a(),m("control",o.productForm.get("unitOfMeasure")),a(),C("border-red-500",((te=o.productForm.get("description"))==null?null:te.errors)??!1),a(),m("control",o.productForm.get("description")),a(5),C("border-red-500",((oe=o.productForm.get("price"))==null?null:oe.errors)??!1),a(),m("control",o.productForm.get("price")),a(2),C("border-red-500",((_e=o.productForm.get("stock"))==null?null:_e.errors)??!1),a(),m("control",o.productForm.get("stock")),a(2),T(o.tags)}},dependencies:[J,B,j,Ie,$,z,H,Z,I],styles:["[_nghost-%COMP%]{display:block}"]})};function Qe(i,t){i&1&&c(0,"loading")}function We(i,t){if(i&1&&c(0,"product-details",0),i&2){let e=k();m("product",e.product())}}var ue=class i{activateRoute=d(q);router=d(E);productId=G(this.activateRoute.params.pipe(V(t=>t.id)));paginationService=d(le);product;loading;error;loadProducts;constructor(){let{product:t,loading:e,error:o,loadProducts:s}=je();this.product=t,this.loading=e,this.error=o,this.loadProducts=s,N(()=>{let u=this.productId();this.loadProducts(u)}),N(()=>{this.error()&&this.router.navigate(["/admin/products"])})}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=p({type:i,selectors:[["app-product-admin"]],decls:2,vars:2,consts:[[3,"product"]],template:function(e,o){if(e&1&&(D(0,Qe,1,0,"loading"),D(1,We,1,1,"product-details",0)),e&2){let s;F(o.loading()?0:-1),a(),F((s=o.product())!=null&&s.id?1:-1)}},dependencies:[R,pe],styles:["[_nghost-%COMP%]{display:block}"]})};var ze=i=>["/admin/recipe",i],Xe=(i,t)=>t.id;function Ye(i,t){if(i&1&&(n(0,"tr")(1,"th")(2,"label"),l(3),r()(),n(4,"td")(5,"a",2),l(6),r()(),n(7,"td")(8,"div",3),l(9),ee(10,"slice"),r()(),n(11,"th")(12,"a",4),l(13," Detalles "),r()()()),i&2){let e=t.$implicit,o=t.$index;a(3),h(" ",o+1," "),a(2),m("routerLink",M(9,ze,e.id)),a(),h(" ",e.title," "),a(3),h(" ",ke(10,5,e.text,0,50),"... "),a(3),m("routerLink",M(11,ze,e.id))}}var fe=class i{recipes=x.required();static \u0275fac=function(e){return new(e||i)};static \u0275cmp=p({type:i,selectors:[["recipes-table"]],inputs:{recipes:[1,"recipes"]},decls:15,vars:0,consts:[[1,"overflow-x-auto"],[1,"table"],[1,"font-bold","hover:text-primary","transition-colors","duration-300",3,"routerLink"],[1,"text-sm","opacity-70"],[1,"btn","btn-ghost","text-primary","btn-xs",3,"routerLink"]],template:function(e,o){e&1&&(n(0,"div",0)(1,"table",1)(2,"thead")(3,"tr")(4,"th")(5,"label"),l(6," Nro "),r()(),n(7,"th"),l(8,"T\xEDtulo"),r(),n(9,"th"),l(10,"Texto"),r(),c(11,"th"),r()(),n(12,"tbody"),A(13,Ye,14,13,"tr",null,Xe),r()()()),e&2&&(a(13),T(o.recipes()))},dependencies:[y,Ae],styles:["[_nghost-%COMP%]{display:block}"]})};var et=()=>[],ge=class i{recipeService=d(K);recipes=f(null);loading=f(!0);error=f(null);async getRecipes(){this.loading.set(!0),this.error.set(null);try{let t=await P(this.recipeService.getRecipes());this.recipes.set(t)}catch{this.error.set("Error al cargar las recetas")}finally{this.loading.set(!1)}}ngOnInit(){this.getRecipes()}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=p({type:i,selectors:[["recipes-admin"]],decls:11,vars:3,consts:[[1,"text-2xl","font-bold"],[1,"text-lg"],[1,"text-primary"],[1,"flex","gap-2","items-center","h-20"],[1,"flex","flex-1"],["routerLink","/admin/recipe/new",1,"btn","btn-primary"],[3,"recipes"]],template:function(e,o){if(e&1&&(n(0,"h1",0),l(1,"Listado de recetas"),r(),n(2,"h3",1),l(3," Total de recetas: "),n(4,"span",2),l(5),r()(),n(6,"div",3),c(7,"div",4),n(8,"button",5),l(9," Cargar receta "),r()(),c(10,"recipes-table",6)),e&2){let s;a(5),g(((s=o.recipes())==null?null:s.length)??0),a(5),m("recipes",o.recipes()??O(2,et))}},dependencies:[y,fe],styles:["[_nghost-%COMP%]{display:block}"]})};var ve=class i{router=d(E);recipeService=d(K);recipe=x.required();fb=d(U);recipeForm=this.fb.group({title:["",v.required],text:["",v.required]});ngOnInit(){this.recipeForm.reset(this.recipe())}onSubmit(){this.recipeForm.markAllAsTouched();let t=this.recipeForm.value,e=L({},t);this.recipe().id==="new"?this.recipeService.createRecipe(e).subscribe(o=>{this.router.navigate(["/admin/recipe",o.id])}):this.recipeService.updateRecipe(this.recipe().id,e).subscribe()}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=p({type:i,selectors:[["recipe-details"]],inputs:{recipe:[1,"recipe"]},decls:15,vars:8,consts:[[1,"text-2xl","font-bold"],[1,"divider"],[1,"grid","grid-cols-1","sm:grid-cols-2","gap-4",3,"ngSubmit","formGroup"],[1,"flex","flex-col","gap-2"],[1,"text-2xl","font-bold","h-12"],["type","text","placeholder","T\xEDtulo","formControlName","title",1,"input","input-bordered","w-full"],[3,"control"],["placeholder","Detalles","rows","4","formControlName","text",1,"textarea","textarea-bordered","w-full"],[1,"flex","justify-end","h-12"],["type","submit",1,"btn","btn-secondary"]],template:function(e,o){if(e&1&&(n(0,"h1",0),l(1),r(),c(2,"div",1),n(3,"form",2),w("ngSubmit",function(){return o.onSubmit()}),n(4,"div",3)(5,"h2",4),l(6,"Datos generales"),r(),c(7,"input",5)(8,"form-error-label",6)(9,"textarea",7)(10,"form-error-label",6),r(),n(11,"div",3)(12,"div",8)(13,"button",9),l(14,"Guardar"),r()()()()),e&2){let s,u;a(),g(o.recipe().title),a(2),m("formGroup",o.recipeForm),a(4),C("border-red-500",((s=o.recipeForm.get("title"))==null?null:s.errors)??!1),a(),m("control",o.recipeForm.get("title")),a(),C("border-red-500",((u=o.recipeForm.get("text"))==null?null:u.errors)??!1),a(),m("control",o.recipeForm.get("text"))}},dependencies:[J,B,j,$,z,H,Z,I],styles:["[_nghost-%COMP%]{display:block}"]})};function tt(i,t){i&1&&c(0,"loading")}function ot(i,t){if(i&1&&c(0,"recipe-details",0),i&2){let e=k();m("recipe",e.recipe())}}var be=class i{activateRoute=d(q);router=d(E);recipeService=d(K);recipeId=G(this.activateRoute.params.pipe(V(t=>t.id)));recipe=f(null);loading=f(!0);error=f(null);constructor(){N(()=>{let t=this.recipeId();this.loadRecipe(t)})}async loadRecipe(t){this.loading.set(!0),this.error.set(null);try{let e=await P(this.recipeService.getRecipeById(t));this.recipe.set(e)}catch{this.error.set("Error al cargar la receta"),this.router.navigate(["/admin/recipes"])}finally{this.loading.set(!1)}}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=p({type:i,selectors:[["recipe-admin"]],decls:2,vars:2,consts:[[3,"recipe"]],template:function(e,o){if(e&1&&(D(0,tt,1,0,"loading"),D(1,ot,1,1,"recipe-details",0)),e&2){let s;F(o.loading()?0:-1),a(),F((s=o.recipe())!=null&&s.id?1:-1)}},dependencies:[R,ve],styles:["[_nghost-%COMP%]{display:block}"]})};var Be=i=>["/admin/contact",i],nt=(i,t)=>t.id;function it(i,t){if(i&1&&(n(0,"tr")(1,"th"),l(2),r(),n(3,"td")(4,"a",2),l(5),r()(),n(6,"td"),l(7),r(),n(8,"td"),l(9),r(),n(10,"th")(11,"a",3),l(12," Detalles "),r()()()),i&2){let e=t.$implicit,o=t.$index;a(2),g(o+1),a(2),m("routerLink",M(6,Be,e.id)),a(),h(" ",e.title," "),a(2),g(e.phone),a(2),g(e.email),a(2),m("routerLink",M(8,Be,e.id))}}var he=class i{contacts=x.required();static \u0275fac=function(e){return new(e||i)};static \u0275cmp=p({type:i,selectors:[["contacts-table"]],inputs:{contacts:[1,"contacts"]},decls:16,vars:0,consts:[[1,"overflow-x-auto"],[1,"table"],[1,"font-bold","hover:text-primary","transition-colors","duration-300",3,"routerLink"],[1,"btn","btn-ghost","text-primary","btn-xs",3,"routerLink"]],template:function(e,o){e&1&&(n(0,"div",0)(1,"table",1)(2,"thead")(3,"tr")(4,"th"),l(5,"Nro"),r(),n(6,"th"),l(7,"Nombre"),r(),n(8,"th"),l(9,"Tel\xE9fono"),r(),n(10,"th"),l(11,"Email"),r(),c(12,"th"),r()(),n(13,"tbody"),A(14,it,13,10,"tr",null,nt),r()()()),e&2&&(a(14),T(o.contacts()))},dependencies:[y],styles:["[_nghost-%COMP%]{display:block}"]})};var rt=()=>[];function at(i,t){i&1&&c(0,"loading")}var Ce=class i{contactService=d(Q);contacts=f(null);loading=f(!0);error=f(null);async getContacts(){this.loading.set(!0),this.error.set(null);try{let t=await P(this.contactService.getContacts());this.contacts.set(t)}catch{this.error.set("Error al cargar los contactos")}finally{this.loading.set(!1)}}ngOnInit(){this.getContacts()}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=p({type:i,selectors:[["contacts-admin"]],decls:12,vars:4,consts:[[1,"text-2xl","font-bold"],[1,"text-lg"],[1,"text-primary"],[1,"flex","gap-2","items-center","h-20"],[1,"flex","flex-1"],["routerLink","/admin/contact/new",1,"btn","btn-primary"],[3,"contacts"]],template:function(e,o){if(e&1&&(n(0,"h1",0),l(1,"Listado de contactos"),r(),n(2,"h3",1),l(3," Total de contactos: "),n(4,"span",2),l(5),r()(),n(6,"div",3),c(7,"div",4),n(8,"button",5),l(9," Cargar contacto "),r()(),D(10,at,1,0,"loading"),c(11,"contacts-table",6)),e&2){let s;a(5),g(((s=o.contacts())==null?null:s.length)??0),a(5),F(o.loading()?10:-1),a(),m("contacts",o.contacts()??O(3,rt))}},dependencies:[y,he,R],styles:["[_nghost-%COMP%]{display:block}"]})};var xe=class i{router=d(E);contactService=d(Q);contact=x.required();fb=d(U);contactForm=this.fb.group({title:["",v.required],phone:["",v.required],email:["",[v.required,v.email]]});ngOnInit(){this.contactForm.reset(this.contact())}onSubmit(){this.contactForm.markAllAsTouched();let t=this.contactForm.value,e=L({},t);this.contact().id==="new"?this.contactService.createContact(e).subscribe(o=>{this.router.navigate(["/admin/contact",o.id])}):this.contactService.updateContact(this.contact().id,e).subscribe()}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=p({type:i,selectors:[["contact-details"]],inputs:{contact:[1,"contact"]},decls:15,vars:11,consts:[[1,"text-2xl","font-bold"],[1,"divider"],[1,"grid","grid-cols-1","sm:grid-cols-2","gap-4",3,"ngSubmit","formGroup"],[1,"flex","flex-col","gap-2"],["type","text","placeholder","Nombre","formControlName","title",1,"input","input-bordered","w-full"],[3,"control"],["type","text","placeholder","Tel\xE9fono","formControlName","phone",1,"input","input-bordered","w-full"],["type","email","placeholder","Email","formControlName","email",1,"input","input-bordered","w-full"],[1,"flex","justify-end","h-12"],["type","submit",1,"btn","btn-secondary"]],template:function(e,o){if(e&1&&(n(0,"h1",0),l(1),r(),c(2,"div",1),n(3,"form",2),w("ngSubmit",function(){return o.onSubmit()}),n(4,"div",3),c(5,"input",4)(6,"form-error-label",5)(7,"input",6)(8,"form-error-label",5)(9,"input",7)(10,"form-error-label",5),r(),n(11,"div",3)(12,"div",8)(13,"button",9),l(14,"Guardar"),r()()()()),e&2){let s,u,b;a(),g(o.contact().title),a(2),m("formGroup",o.contactForm),a(2),C("border-red-500",((s=o.contactForm.get("title"))==null?null:s.errors)??!1),a(),m("control",o.contactForm.get("title")),a(),C("border-red-500",((u=o.contactForm.get("phone"))==null?null:u.errors)??!1),a(),m("control",o.contactForm.get("phone")),a(),C("border-red-500",((b=o.contactForm.get("email"))==null?null:b.errors)??!1),a(),m("control",o.contactForm.get("email"))}},dependencies:[J,B,j,$,z,H,Z,I],styles:["[_nghost-%COMP%]{display:block}"]})};function lt(i,t){i&1&&c(0,"loading")}function ct(i,t){if(i&1&&c(0,"contact-details",0),i&2){let e=k();m("contact",e.contact())}}var ye=class i{activateRoute=d(q);router=d(E);contactService=d(Q);contactId=G(this.activateRoute.params.pipe(V(t=>t.id)));contact=f(null);loading=f(!0);error=f(null);constructor(){N(()=>{let t=this.contactId();this.loadContact(t)})}async loadContact(t){this.loading.set(!0),this.error.set(null);try{let e=await P(this.contactService.getContactById(t));this.contact.set(e)}catch{this.error.set("Error al cargar el contacto"),this.router.navigate(["/admin/contacts"])}finally{this.loading.set(!1)}}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=p({type:i,selectors:[["contact-admin"]],decls:2,vars:2,consts:[[3,"contact"]],template:function(e,o){if(e&1&&(D(0,lt,1,0,"loading"),D(1,ct,1,1,"contact-details",0)),e&2){let s;F(o.loading()?0:-1),a(),F((s=o.contact())!=null&&s.id?1:-1)}},dependencies:[R,xe],styles:["[_nghost-%COMP%]{display:block}"]})};var st=[{path:"",component:se,canMatch:[qe],children:[{path:"products",component:de},{path:"product/:id",component:ue},{path:"recipes",component:ge},{path:"recipe/:id",component:be},{path:"contacts",component:Ce},{path:"contact/:id",component:ye},{path:"**",redirectTo:"products"}]}],kn=st;export{st as AdminDashboardRoutes,kn as default};
