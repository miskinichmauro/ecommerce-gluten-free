<div class="navbar bg-base-100">
  <div class="navbar-start">
    <button class="btn btn-ghost lg:hidden" (click)="configurationService.toggleSidebarItemsStatus('open')" aria-label="Abrir menú">
      <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h8m-8 6h16"/>
      </svg>
    </button>
    <app-logo />
    <sidebar-items [menuItems]="menuItems" />
  </div>

  <div class="navbar-center hidden sm:flex w-full">
    <div class="relative w-full" #suggestContainer>
      <form-search />

      @if (suggestions.length > 0) {
        <ul
          class="absolute top-[105%] w-full bg-base-100 shadow-lg rounded-lg border border-base-300 z-9999 p-2 flex flex-col gap-1"
        >
          @for (item of suggestions; track $index; let i = $index) {
            <li
              (click)="selectSuggestion(item)"
              class="cursor-pointer p-2 rounded-md flex justify-between"
              [class.bg-primary/20]="i === activeIndex"
              [class.text-primary]="i === activeIndex"
            >
              <span>{{ item.title }}</span>
              <span class="opacity-70">{{ item.price | guaranies }}</span>
            </li>
          }

          <li
            class="text-center text-sm text-primary cursor-pointer hover:bg-base-200 p-2 rounded-md"
            (click)="performSearch(searchControl.value!)"
          >
            Ver todos los resultados →
          </li>
        </ul>
      }
    </div>
  </div>

  <div class="navbar-end gap-2">
    <nav-user-options />
  </div>
</div>

<div class="sm:hidden">
  <input id="mobile-search-toggle-end" #mobileSearchToggle type="checkbox" class="peer hidden" (change)="onMobileToggleEnd($event)" />
  <label for="mobile-search-toggle-end" class="fixed inset-0 bg-black/40 z-40 opacity-0 pointer-events-none peer-checked:opacity-100 peer-checked:pointer-events-auto">

  </label>
  <div class="fixed top-0 inset-x-0 z-50 bg-base-100 shadow-md -translate-y-full transition-transform duration-200 peer-checked:translate-y-0">
    <div class="p-2">
      <form-search />
    </div>
  </div>
</div>
