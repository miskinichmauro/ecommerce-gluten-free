<div class="mobile-filters">
  <div class="flex items-center justify-between mb-2">
    <h4 class="font-semibold">Categor√≠as</h4>
  </div>
  <ul class="flex flex-col gap-1 mb-4">
    <li>
      <button
        type="button"
        class="filter-item cursor-pointer"
        [class.active]="pendingCategory() === 'all'"
        (click)="selectCategory('all')"
      >
        Todos
      </button>
    </li>
    @for (cat of categories(); track cat.id) {
      <li>
        <button
          type="button"
          class="filter-item cursor-pointer"
          [class.active]="pendingCategory() === cat.id"
          (click)="selectCategory(cat.id)"
        >
          {{ cat.name }}
        </button>
      </li>
    }
  </ul>

  <div class="flex items-center justify-between mb-2">
    <h4 class="font-semibold">Tags</h4>
  </div>
  <div class="flex flex-wrap gap-2">
    @for (tag of tags(); track tag.id) {
      <button
        type="button"
        class="filter-tag btn btn-sm rounded-md min-h-9 px-4"
        [ngClass]="pendingTags().has(tag.id) ? 'btn-outline border-base-300 bg-base-200 text-base-content font-semibold' : 'btn-outline border-base-300 text-base-content'"
        (click)="toggleTag(tag.id)"
      >
        {{ tag.name }}
      </button>
    }
  </div>
  <div class="flex gap-2 mt-3">
    <button class="btn btn-sm btn-outline flex-1" type="button" (click)="resetTags()" [disabled]="!pendingTags().size && !selectedTags().size">
      Limpiar
    </button>
    <button class="btn btn-sm btn-primary flex-1" type="button" (click)="applyFilters()" [disabled]="!hasPendingChanges()">
      Aplicar
    </button>
  </div>
</div>
