<div class="mobile-filters">
  <div class="flex items-center justify-between mb-2">
    <h4 class="font-semibold">Categor√≠as</h4>
  </div>
  <ul class="flex flex-col gap-1 mb-4">
    <li>
      <button
        type="button"
        class="filter-item cursor-pointer"
        [class.active]="selectedCategory() === 'all'"
        (click)="selectCategory('all')"
      >
        Todos
      </button>
    </li>
    @for (cat of categories(); track cat.id) {
      <li>
        <button
          type="button"
          class="filter-item cursor-pointer"
          [class.active]="selectedCategory() === cat.id"
          (click)="selectCategory(cat.id)"
        >
          {{ cat.name }}
        </button>
      </li>
    }
  </ul>

  <div class="flex items-center justify-between mb-2">
    <h4 class="font-semibold">Tags</h4>
  </div>
  <div class="flex flex-wrap gap-2">
    @for (tag of tags(); track tag.id) {
      <button
        type="button"
        class="filter-tag cursor-pointer"
        [class.active]="pendingTags().has(tag.id)"
        (click)="toggleTag(tag.id)"
      >
        {{ tag.name }}
      </button>
    }
  </div>
  <div class="flex gap-2 mt-3">
    <button class="btn btn-sm btn-outline flex-1" type="button" (click)="resetTags()" [disabled]="!pendingTags().size && !selectedTags().size">
      Limpiar
    </button>
    <button class="btn btn-sm btn-primary flex-1" type="button" (click)="applyTags()" [disabled]="!hasPendingTagChanges()">
      Aplicar
    </button>
  </div>
</div>
