<h1 class="text-3xl font-bold mb-6 mt-6">Todos los productos</h1>

<div class="flex justify-center mb-6">
  <label class="input">
  <svg class="h-[1em] opacity-50" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
    <g
      stroke-linejoin="round"
      stroke-linecap="round"
      stroke-width="2.5"
      fill="none"
      stroke="currentColor"
    >
      <circle cx="11" cy="11" r="8"></circle>
      <path d="m21 21-4.3-4.3"></path>
    </g>
  </svg>
  <input
    type="text"
    [formControl]="searchControl"
    placeholder="Buscar productos..."
    class="grow"
  />
</label>
</div>

@if (loading()) {
  <div class="min-h-[50vh] gap-4">
    <loading />
  </div>
}

@if (error()) {
  <p class="text-red-500">{{ error() }}</p>
}

@if (!loading() && !error() && productResponse()?.products?.length) {
  <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 mt-6 gap-4 sm:gap-6 md:gap-8">
    @for (product of productResponse()?.products; track $index) {
      <product-card [product]="product" />
    }
  </div>

  <div class="flex justify-center mt-10">
    <pagination
      [pages]="productResponse()?.pages ?? 0"
      [currentPage]="paginationService.currentPage()"
    ></pagination>
  </div>
}

@if (!loading() && !error() && productResponse()?.products?.length === 0) {
  <p>No hay productos para mostrar</p>
}
