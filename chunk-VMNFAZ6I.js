import{a as Le}from"./chunk-YQK5JNZO.js";import{a as Ae,b as ae,c as je,d as Ve,e as Be,f as He,g as Ue,h as $e,i as U,j as ce,k as ze,l as Ze}from"./chunk-355QTA4C.js";import{k as T,l as k}from"./chunk-MD4KG5F7.js";import{$ as Ie,A,B as Ee,Ba as oe,Ca as H,D as a,Ea as De,G as m,Ia as Oe,Ja as ie,Ka as re,La as R,Ma as Fe,N as d,O as u,P as x,Pa as Re,R as _,Ra as E,S,T as f,U as i,V as r,W as s,X as y,Y as I,Z as B,_ as W,aa as w,ba as Te,ca as g,d as we,f as Pe,g as V,ia as Ne,j as ee,ja as c,k as q,ka as N,la as v,ma as ke,n as Me,oa as O,pa as K,q as p,qa as F,r as G,ra as j,s as J,sa as te,t as D,u as L,w as M,wa as ne,ya as P}from"./chunk-NPHGIAV4.js";var qe=[{label:"Inicio",route:"/",adminOnly:!1},{label:"Productos",route:"/products",adminOnly:!1},{label:"Recetas",route:"/recipe",adminOnly:!1},{label:"Contacto",route:"/contact",adminOnly:!1},{label:"Panel Administrativo",route:"/admin",adminOnly:!0}];var se=class t{themeService=p(Ae);toggleTheme(n){let e=n.target,o=e.checked?"forest":"winter";this.themeService.isDarkTheme.set(e.checked),document.documentElement.setAttribute("data-theme",o)}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=m({type:t,selectors:[["theme-controller"]],decls:6,vars:0,consts:[[1,"swap","swap-rotate"],["type","checkbox",3,"change"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24",1,"swap-off","h-6","w-6","fill-current"],["d","M5.64,17l-.71.71a1,1,0,0,0,0,1.41,1,1,0,0,0,1.41,0l.71-.71A1,1,0,0,0,5.64,17ZM5,12a1,1,0,0,0-1-1H3a1,1,0,0,0,0,2H4A1,1,0,0,0,5,12Zm7-7a1,1,0,0,0,1-1V3a1,1,0,0,0-2,0V4A1,1,0,0,0,12,5ZM5.64,7.05a1,1,0,0,0,.7.29,1,1,0,0,0,.71-.29,1,1,0,0,0,0-1.41l-.71-.71A1,1,0,0,0,4.93,6.34Zm12,.29a1,1,0,0,0,.7-.29l.71-.71a1,1,0,1,0-1.41-1.41L17,5.64a1,1,0,0,0,0,1.41A1,1,0,0,0,17.66,7.34ZM21,11H20a1,1,0,0,0,0,2h1a1,1,0,0,0,0-2Zm-9,8a1,1,0,0,0-1,1v1a1,1,0,0,0,2,0V20A1,1,0,0,0,12,19ZM18.36,17A1,1,0,0,0,17,18.36l.71.71a1,1,0,0,0,1.41,0,1,1,0,0,0,0-1.41ZM12,6.5A5.5,5.5,0,1,0,17.5,12,5.51,5.51,0,0,0,12,6.5Zm0,9A3.5,3.5,0,1,1,15.5,12,3.5,3.5,0,0,1,12,15.5Z"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24",1,"swap-on","h-6","w-6","fill-current"],["d","M21.64,13a1,1,0,0,0-1.05-.14,8.05,8.05,0,0,1-3.37.73A8.15,8.15,0,0,1,9.08,5.49a8.59,8.59,0,0,1,.25-2A1,1,0,0,0,8,2.36,10.14,10.14,0,1,0,22,14.05,1,1,0,0,0,21.64,13Zm-9.5,6.69A8.14,8.14,0,0,1,7.08,5.22v.27A10.15,10.15,0,0,0,17.22,15.63a9.79,9.79,0,0,0,2.1-.22A8.11,8.11,0,0,1,12.14,19.73Z"]],template:function(e,o){e&1&&(y(0,"label",0)(1,"input",1),Te("change",function(C){return o.toggleTheme(C)}),I(),D(),y(2,"svg",2),B(3,"path",3),I(),y(4,"svg",4),B(5,"path",5),I()())},styles:["[_nghost-%COMP%]{display:block}"]})};var $=class t{authService=p(E);configurationService=p(T);router=p(re);openUserOptions(){this.configurationService.toggleSidebarPageStatus("open");let n=this.authService.authStatus()==="authenticated"?["userOptions"]:["auth","login"];this.authService.authStatus()==="authenticated"?this.configurationService.toggleSidebarPageRoute("userOptions"):this.configurationService.toggleSidebarPageRoute("auth"),this.router.navigate([{outlets:{sidebar:n}}],{skipLocationChange:!0})}openCart(){this.configurationService.toggleSidebarPageStatus("open"),this.configurationService.toggleSidebarPageRoute("cartSidebar"),this.router.navigate([{outlets:{sidebar:["cartSidebar"]}}],{skipLocationChange:!0})}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=m({type:t,selectors:[["user-options"]],decls:11,vars:0,consts:[[1,"menu","menu-horizontal","px-1","rounded-full"],["data-tip","Usuario",1,"p-2","rounded-full",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","fill","currentColor",1,"size-6"],["fill-rule","evenodd","d","M7.5 6a4.5 4.5 0 1 1 9 0 4.5 4.5 0 0 1-9 0ZM3.751 20.105a8.25 8.25 0 0 1 16.498 0 .75.75 0 0 1-.437.695A18.683 18.683 0 0 1 12 22.5c-2.786 0-5.433-.608-7.812-1.7a.75.75 0 0 1-.437-.695Z","clip-rule","evenodd"],[1,"p-2","rounded-full",3,"click"],["d","M2.25 2.25a.75.75 0 0 0 0 1.5h1.386c.17 0 .318.114.362.278l2.558 9.592a3.752 3.752 0 0 0-2.806 3.63c0 .414.336.75.75.75h15.75a.75.75 0 0 0 0-1.5H5.378A2.25 2.25 0 0 1 7.5 15h11.218a.75.75 0 0 0 .674-.421 60.358 60.358 0 0 0 2.96-7.228.75.75 0 0 0-.525-.965A60.864 60.864 0 0 0 5.68 4.509l-.232-.867A1.875 1.875 0 0 0 3.636 2.25H2.25ZM3.75 20.25a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0ZM16.5 20.25a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0Z"]],template:function(e,o){e&1&&(i(0,"ul",0)(1,"li")(2,"button",1),w("click",function(){return o.openUserOptions()}),D(),i(3,"svg",2),s(4,"path",3),r()()(),L(),i(5,"li")(6,"button",4),w("click",function(){return o.openCart()}),D(),i(7,"svg",2),s(8,"path",5),r()()(),L(),i(9,"li"),s(10,"theme-controller"),r()())},dependencies:[se],styles:["[_nghost-%COMP%]{display:block}"]})};var Ge=()=>({exact:!0});function We(t,n){if(t&1){let e=W();i(0,"li")(1,"a",6),w("click",function(){G(e);let l=g();return J([l.configurationService.toggleSidebarItemsStatus("closed"),l.configurationService.toggleSidebarPageStatus("closed")])}),c(2),r()()}if(t&2){let e=n.$implicit;a(),f("routerLink",e.route)("routerLinkActiveOptions",O(3,Ge)),a(),v(" ",e.label," ")}}function Ke(t,n){t&1&&s(0,"li",4)}function Qe(t,n){if(t&1){let e=W();i(0,"li")(1,"a",6),w("click",function(){G(e);let l=g();return J([l.configurationService.toggleSidebarItemsStatus("closed"),l.configurationService.toggleSidebarPageStatus("closed")])}),c(2),r()()}if(t&2){let e=n.$implicit;a(),f("routerLink",e.route)("routerLinkActiveOptions",O(3,Ge)),a(),v(" ",e.label," ")}}var le=class t{menuItems=P.required();authService=p(E);configurationService=p(T);menuItemsDefault(){return this.menuItems().filter(n=>!n.adminOnly)}menuItemsAdmin(){return this.authService.isAdmin()?this.menuItems().filter(n=>n.adminOnly):null}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=m({type:t,selectors:[["navbar"]],inputs:{menuItems:[1,"menuItems"]},decls:12,vars:1,consts:[[1,"navbar","bg-base-100","shadow-sm"],[1,"navbar-start","mx-3"],[1,"navbar-center","hidden","lg:flex"],[1,"menu","menu-horizontal","px-1"],[1,"border-l","border-gray-400","h-6","mx-2","drop-shadow-sm"],[1,"navbar-end","gap-2","mx-3"],["routerLinkActive","text-secondary",3,"click","routerLink","routerLinkActiveOptions"]],template:function(e,o){e&1&&(i(0,"div",0)(1,"div",1),s(2,"app-logo"),r(),i(3,"div",2)(4,"ul",3),_(5,We,3,4,"li",null,x),d(7,Ke,1,0,"li",4),_(8,Qe,3,4,"li",null,x),r()(),i(10,"div",5),s(11,"user-options"),r()()),e&2&&(a(5),S(o.menuItemsDefault()),a(2),u(o.authService.isAdmin()?7:-1),a(),S(o.menuItemsAdmin()))},dependencies:[ae,R,Fe,$],styles:["[_nghost-%COMP%]{display:block}"]})};function Xe(t,n){if(t&1){let e=W();i(0,"div",0)(1,"div",2),s(2,"sidebar-items",1),i(3,"div",3)(4,"button",4),w("click",function(){G(e);let l=g();return J(l.configurationService.toggleSidebarItemsStatus("open"))}),D(),i(5,"svg",5),s(6,"path",6),r()(),L(),s(7,"app-logo"),r()(),i(8,"div",7),s(9,"user-options"),r()()}if(t&2){let e=g();a(2),f("menuItems",e.menuItems)}}function Ye(t,n){if(t&1&&s(0,"navbar",1),t&2){let e=g();f("menuItems",e.menuItems)}}var me=class t{authService=p(E);router=p(re);configurationService=p(T);menuItems=qe;isMobile=!1;onResize(){this.isMobile=window.innerWidth<1024}ngOnInit(){this.onResize()}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=m({type:t,selectors:[["front-menu"]],hostBindings:function(e,o){e&1&&w("resize",function(){return o.onResize()},Ee)},decls:2,vars:1,consts:[[1,"navbar"],[3,"menuItems"],[1,"navbar-start","mx-3"],[1,"flex","items-center"],[1,"btn","btn-ghost","lg:hidden",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-5","w-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 6h16M4 12h8m-8 6h16"],[1,"navbar-end","gap-2","mx-3"]],template:function(e,o){e&1&&d(0,Xe,10,1,"div",0)(1,Ye,1,1,"navbar",1),e&2&&u(o.isMobile?0:1)},dependencies:[le,Ve,ae,$],styles:["[_nghost-%COMP%]{display:block}"]})};var pe=class t{authService=p(E);configurationService=p(T);open(){return this.configurationService.sidebarPageStatus()==="open"}close(){this.configurationService.toggleSidebarPageStatus("closed")}getTitle(){let n=this.configurationService.sidebarPageRouteName();return n==="auth"?"Iniciar sesi\xF3n":n==="userOptions"?"Hola, "+this.authService.user()?.fullName:"Mi carrito"}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=m({type:t,selectors:[["sidebar-page"]],decls:9,vars:5,consts:[[1,"fixed","top-0","right-0","h-full","w-full","sm:w-[480px]","bg-base-100","shadow-lg","z-50","transform","transition-transform","duration-400","flex","flex-col"],[1,"flex","justify-between","items-center","p-4","border-b","border-base-300"],[1,"text-lg","font-bold"],[1,"cursor-pointer","hover:bg-gray-600","p-2","rounded-full",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-4","w-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],[1,"p-4","overflow-y-auto","h-[calc(100%-4rem)]"],["name","sidebar"]],template:function(e,o){e&1&&(i(0,"div",0)(1,"div",1)(2,"h2",2),c(3),r(),i(4,"button",3),w("click",function(){return o.close()}),D(),i(5,"svg",4),s(6,"path",5),r()()(),L(),i(7,"div",6),s(8,"router-outlet",7),r()()),e&2&&(Ne("translate-x-0",o.open())("translate-x-full",!o.open()),a(3),v(" ",o.getTitle()," "))},dependencies:[H,ie],styles:["[_nghost-%COMP%]{display:block}"]})};var de=class t{configurationService=p(T);constructor(){this.configurationService.toggleSidebarItemsStatus("closed")}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=m({type:t,selectors:[["app-store-front-layout"]],decls:5,vars:0,consts:[[1,"container","mx-auto"],[1,"flex-1","px-5"]],template:function(e,o){e&1&&(s(0,"front-menu"),i(1,"section",0)(2,"div",1),s(3,"router-outlet"),r()(),s(4,"sidebar-page"))},dependencies:[ie,me,pe],encapsulation:2})};var Q=`${Re.baseUrl}/api/cart`,z=class t{http=p(De);toastService=p(Be);AuthService=p(E);cartCache=new Map;cartSubject=new we([]);cart$=this.cartSubject.asObservable();loadCart(){if(this.cartCache.size){this.cartSubject.next(Array.from(this.cartCache.values()));return}this.http.get(Q).pipe(q(n=>n.forEach(e=>this.cartCache.set(e.id,e)))).subscribe(n=>this.cartSubject.next(n))}addItem(n,e=1){if(this.AuthService.authStatus()==="authenticated")return this.toastService.activateLoading(),this.http.post(`${Q}/items`,{productId:n,quantity:e}).pipe(q(o=>{this.cartCache.set(o.id,o),this.cartSubject.next(Array.from(this.cartCache.values())),this.toastService.activateSuccess()}),ee(()=>this.toastService.deactivateLoading()));{let o=JSON.parse(localStorage.getItem("guestCart")||"[]"),l=o.find(C=>C.productId===n);return l?l.quantity+=e:o.push({productId:n,quantity:e}),localStorage.setItem("guestCart",JSON.stringify(o)),Pe()}}updateItem(n,e){return this.toastService.activateLoading(),this.http.patch(`${Q}/items/${n}`,{quantity:e}).pipe(q(o=>{this.cartCache.set(o.id,o),this.cartSubject.next(Array.from(this.cartCache.values())),this.toastService.activateSuccess()}),ee(()=>this.toastService.deactivateLoading()))}removeItem(n){return this.toastService.activateLoading(),this.http.delete(`${Q}/items/${n}`).pipe(q(()=>{this.cartCache.delete(n),this.cartSubject.next(Array.from(this.cartCache.values())),this.toastService.activateSuccess()}),ee(()=>this.toastService.deactivateLoading()))}clearCart(){this.http.delete(Q).subscribe(()=>{this.cartCache.clear(),this.cartSubject.next([])})}static \u0275fac=function(e){return new(e||t)};static \u0275prov=Me({token:t,factory:t.\u0275fac,providedIn:"root"})};var et=t=>["/product",t],Z=class t{product=P.required();CartService=p(z);addToCart(){this.CartService.addItem(this.product().id).subscribe()}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=m({type:t,selectors:[["product-card"]],inputs:{product:[1,"product"]},decls:13,vars:12,consts:[[1,"card","bg-base-100","w-85","shadow-sm","opacity-80"],["alt","",3,"src"],[1,"card-body"],[1,"card-title","hover:underline","cursor-pointer",3,"routerLink"],[1,"min-h-[70px]"],[1,"card-actions","justify-end"],["type","button",1,"btn","btn-primary",3,"click"]],template:function(e,o){e&1&&(i(0,"div",0)(1,"figure"),s(2,"img",1),F(3,"productImage"),r(),i(4,"div",2)(5,"h2",3),c(6),r(),i(7,"p",4),c(8),F(9,"slice"),r(),i(10,"div",5)(11,"button",6),w("click",function(){return o.addToCart()}),c(12," Agregar al carrito "),r()()()()),e&2&&(a(2),f("src",j(3,4,o.product().imagesName),A),a(3),f("routerLink",K(10,et,o.product().slug)),a(),v(" ",o.product().title," "),a(2),v(" ",te(9,6,o.product().description,0,70)))},dependencies:[R,oe,U],styles:["[_nghost-%COMP%]{display:block}"]})};function tt(t,n){if(t&1&&(i(0,"swiper-slide",2),s(1,"product-card",3),r()),t&2){let e=n.$implicit;a(),f("product",e)}}var ue=class t{products=P.required();spaceBetween=20;slidesPerView=4;ngAfterViewInit(){let n=document.querySelector("swiper-container");n&&(n.navigation=!0,n.spaceBetween=this.spaceBetween,n.slidesPerView=this.slidesPerView,n.loop=!0,n.breakpoints={0:{slidesPerView:1,spaceBetween:10},780:{slidesPerView:2,spaceBetween:15},1280:{slidesPerView:3,spaceBetween:20},1900:{slidesPerView:4,spaceBetween:25}},n.initialize())}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=m({type:t,selectors:[["product-carrusel"]],inputs:{products:[1,"products"]},decls:4,vars:0,consts:[["swiper",""],[1,"w-full"],[1,"flex","items-center","justify-center"],[3,"product"]],template:function(e,o){e&1&&(i(0,"swiper-container",1,0),_(2,tt,2,1,"swiper-slide",2,x),r()),e&2&&(a(2),S(o.products()))},dependencies:[H,Z],styles:["[_nghost-%COMP%]{display:block}"]})};var nt=()=>[];function ot(t,n){t&1&&(i(0,"div",1),s(1,"loading"),r())}function it(t,n){if(t&1&&(i(0,"p",2),c(1),r()),t&2){let e=g();a(),N(e.error())}}function rt(t,n){if(t&1&&s(0,"product-carrusel",4),t&2){let e,o=g();f("products",((e=o.productResponse())==null?null:e.products)??O(1,nt))}}function at(t,n){t&1&&(i(0,"p"),c(1,"No hay productos para mostrar"),r())}var fe=class t{productResponse;loading;error;loadProducts;constructor(){let{productResponse:n,loading:e,error:o,loadProducts:l}=ce();this.productResponse=n,this.loading=e,this.error=o,this.loadProducts=l,ne(()=>{this.loadProducts({isFeatured:!0})})}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=m({type:t,selectors:[["app-home"]],decls:7,vars:4,consts:[[1,"text-3xl","font-bold","mb-6","mt-6"],[1,"min-h-[50vh]","gap-4"],[1,"text-red-500"],[1,"py-18"],[3,"products"]],template:function(e,o){if(e&1&&(i(0,"h1",0),c(1,"Productos destacados"),r(),d(2,ot,2,0,"div",1),d(3,it,2,1,"p",2),i(4,"div",3),d(5,rt,1,2,"product-carrusel",4),r(),d(6,at,2,0,"p")),e&2){let l,C;a(2),u(o.loading()?2:-1),a(),u(o.error()?3:-1),a(2),u(!o.loading()&&!o.error()&&(!((l=o.productResponse())==null||l.products==null)&&l.products.length)?5:-1),a(),u(!o.loading()&&!o.error()&&((C=o.productResponse())==null||C.products==null?null:C.products.length)===0?6:-1)}},dependencies:[ue,k],styles:["[_nghost-%COMP%]{display:block}"]})};var ge=class t{static \u0275fac=function(e){return new(e||t)};static \u0275cmp=m({type:t,selectors:[["app-not-found"]],decls:9,vars:0,consts:[[1,"flex","flex-col","items-center","justify-center","min-h-[75vh]","text-center","px-6"],[1,"text-9xl","font-bold","text-primary"],[1,"text-2xl","md:text-3xl","font-semibold","mt-4"],[1,"text-gray-600","mt-2","mb-6","max-w-md"],["routerLink","/",1,"btn","btn-primary","shadow-md","hover:shadow-lg","transition","duration-300"]],template:function(e,o){e&1&&(i(0,"div",0)(1,"h1",1),c(2,"404"),r(),i(3,"h2",2),c(4,"P\xE1gina no encontrada"),r(),i(5,"p",3),c(6," Lo sentimos, la p\xE1gina que est\xE1s buscando no existe o fue movida a otra URL. "),r(),i(7,"a",4),c(8," Volver al inicio "),r()())},dependencies:[R],styles:["[_nghost-%COMP%]{display:block}"]})};var ct=()=>[""];function st(t,n){if(t&1&&(y(0,"swiper-slide",1),B(1,"img",2),F(2,"productImage"),I()),t&2){let e=n.$implicit;a(),Ie("src",j(2,1,e),A)}}function lt(t,n){if(t&1&&_(0,st,3,3,"swiper-slide",1,x),t&2){let e=g();S(e.images())}}function mt(t,n){t&1&&(y(0,"swiper-slide",1),B(1,"img",3),F(2,"productImage"),I()),t&2&&(a(),Ie("src",j(2,1,O(3,ct)),A))}var Ce=class t{images=P.required();spaceBetween=10;slidesPerView=1;ngAfterViewInit(){let n=document.querySelector("swiper-container");if(n){let e=this.images();n.pagination={clickable:!0},n.navigation=!0,n.spaceBetween=this.spaceBetween,n.slidesPerView=this.slidesPerView,n.loop=e&&e.length>1,n.initialize()}}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=m({type:t,selectors:[["image-carrusel"]],inputs:{images:[1,"images"]},decls:3,vars:1,consts:[[1,"w-full","max-w-xl","h-96"],[1,"w-full","h-full","flex","justify-end","items-center"],["alt","Imagen del producto",1,"w-full","h-full","object-cover","rounded-xl",3,"src"],["alt","Imagen por defecto",1,"w-full","h-full","object-cover","rounded-xl","opacity-80",3,"src"]],template:function(e,o){e&1&&(y(0,"swiper-container",0),d(1,lt,2,0)(2,mt,3,4,"swiper-slide",1),I()),e&2&&(a(),u(o.images().length?1:2))},dependencies:[U],styles:["[_nghost-%COMP%]{display:block}"]})};var pt=()=>[];function dt(t,n){t&1&&(i(0,"div",0),s(1,"loading"),r())}function ut(t,n){if(t&1&&(i(0,"div",1)(1,"div",2),s(2,"image-carrusel",3),r(),i(3,"div",4)(4,"h2",5),c(5),r(),s(6,"div",6),i(7,"p"),c(8),r()()()),t&2){let e,o,l,C=g();a(2),f("images",((e=C.product())==null?null:e.imagesName)??O(3,pt)),a(3),v(" ",(o=C.product())==null?null:o.title," "),a(3),v(" ",(l=C.product())==null?null:l.description," ")}}var X=class t{activatedRoute=p(Oe);productService=p($e);productIdSlug=this.activatedRoute.snapshot.params.idSlug;product=M(null);loading=M(!0);error=M(null);constructor(){}ngOnInit(){this.loadProduct()}async loadProduct(){this.loading.set(!0),this.error.set(null);try{let n=await V(this.productService.getProductByIdSlug(this.productIdSlug));this.product.set(n)}catch{this.error.set("Error al cargar el producto")}finally{this.loading.set(!1)}}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=m({type:t,selectors:[["app-product"]],decls:2,vars:2,consts:[[1,"min-h-[50vh]","gap-4"],["div","",1,"grid","grid-cols-1","sm:grid-cols-2","gap-4","items-start"],[1,"flex","justify-end","sm:justify-end"],[3,"images"],[1,"flex","flex-col","justify-start"],[1,"text-2xl","font-bold"],[1,"divider"]],template:function(e,o){e&1&&(d(0,dt,2,0,"div",0),d(1,ut,9,4,"div",1)),e&2&&(u(o.loading()?0:-1),a(),u(!o.loading()&&o.product()?1:-1))},dependencies:[H,k,Ce],styles:["[_nghost-%COMP%]{display:block}"]})};function ft(t,n){t&1&&(i(0,"div",1),s(1,"loading"),r())}function gt(t,n){if(t&1&&(i(0,"p",2),c(1),r()),t&2){let e=g();a(),N(e.error())}}function Ct(t,n){if(t&1&&s(0,"product-card",4),t&2){let e=n.$implicit;f("product",e)}}function vt(t,n){if(t&1&&(i(0,"div",3),_(1,Ct,1,1,"product-card",4,x),r(),s(3,"pagination",5)),t&2){let e,o,l=g();a(),S((e=l.productResponse())==null?null:e.products),a(2),f("pages",((o=l.productResponse())==null?null:o.pages)??0)("currentPage",l.paginationService.currentPage())}}function ht(t,n){t&1&&(i(0,"p"),c(1,"No hay productos para mostrar"),r())}var Y=class t{paginationService=p(Ue);productResponse;loading;error;loadProducts;constructor(){let{productResponse:n,loading:e,error:o,loadProducts:l}=ce();this.productResponse=n,this.loading=e,this.error=o,this.loadProducts=l,ne(()=>{this.loadProducts({offset:(this.paginationService.currentPage()-1)*9})})}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=m({type:t,selectors:[["app-products"]],decls:6,vars:4,consts:[[1,"text-3xl","font-bold","mb-6","mt-6"],[1,"min-h-[50vh]","gap-4"],[1,"text-red-500"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","xl:grid-cols-4","mt-6","gap-8"],[3,"product"],[3,"pages","currentPage"]],template:function(e,o){if(e&1&&(i(0,"h1",0),c(1,"Todos los productos"),r(),d(2,ft,2,0,"div",1),d(3,gt,2,1,"p",2),d(4,vt,4,2),d(5,ht,2,0,"p")),e&2){let l,C;a(2),u(o.loading()?2:-1),a(),u(o.error()?3:-1),a(),u(!o.loading()&&!o.error()&&(!((l=o.productResponse())==null||l.products==null)&&l.products.length)?4:-1),a(),u(!o.loading()&&!o.error()&&((C=o.productResponse())==null||C.products==null?null:C.products.length)===0?5:-1)}},dependencies:[Z,ze,k],styles:["[_nghost-%COMP%]{display:block}"]})};var ve=class t{recipe=P.required();static \u0275fac=function(e){return new(e||t)};static \u0275cmp=m({type:t,selectors:[["recipe-card"]],inputs:{recipe:[1,"recipe"]},decls:6,vars:2,consts:[[1,"card","bg-base-100","max-w-md","md:max-w-lg","shadow-md","hover:shadow-lg","transition-shadow","duration-300","w-full"],[1,"card-body","items-center","text-center"],[1,"card-title","text-xl","text-primary","mb-2"],[1,"text-sm","opacity-80"]],template:function(e,o){e&1&&(y(0,"div",0)(1,"div",1)(2,"h3",2),c(3),I(),y(4,"p",3),c(5),I()()()),e&2&&(a(3),v(" ",o.recipe().title," "),a(2),v(" ",o.recipe().text," "))},styles:["[_nghost-%COMP%]{display:block}"]})};function bt(t,n){t&1&&(i(0,"div",1),s(1,"loading"),r())}function _t(t,n){if(t&1&&(i(0,"p",2),c(1),r()),t&2){let e=g();a(),N(e.error())}}function St(t,n){if(t&1&&(i(0,"div",5),s(1,"recipe-card",6),r()),t&2){let e=n.$implicit;a(),f("recipe",e)}}function xt(t,n){if(t&1&&(i(0,"div",4),_(1,St,2,1,"div",5,x),r()),t&2){let e=g();a(),S(e.recipes())}}function yt(t,n){t&1&&(i(0,"p"),c(1,"No hay recetas para mostrar"),r())}var he=class t{recipeService=p(Ze);recipes=M(null);loading=M(!0);error=M(null);ngOnInit(){this.getRecipes()}async getRecipes(){this.loading.set(!0),this.error.set(null);try{let n=await V(this.recipeService.getAll());this.recipes.set(n)}catch{this.error.set("Error al cargar las recetas")}finally{this.loading.set(!1)}}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=m({type:t,selectors:[["app-recipe"]],decls:7,vars:4,consts:[[1,"text-3xl","font-bold","mb-6","mt-6"],[1,"min-h-[50vh]","gap-4"],[1,"text-red-500"],[1,"flex","flex-col","items-center","justify-center"],[1,"flex","flex-col","gap-12","mt-6","w-full"],[1,"flex","justify-center","gap-8","flex-wrap"],[3,"recipe"]],template:function(e,o){if(e&1&&(i(0,"h1",0),c(1,"Recetas"),r(),d(2,bt,2,0,"div",1),d(3,_t,2,1,"p",2),i(4,"div",3),d(5,xt,3,0,"div",4),r(),d(6,yt,2,0,"p")),e&2){let l,C;a(2),u(o.loading()?2:-1),a(),u(o.error()?3:-1),a(2),u(!o.loading()&&!o.error()&&((l=o.recipes())!=null&&l.length)?5:-1),a(),u(!o.loading()&&!o.error()&&((C=o.recipes())==null?null:C.length)===0?6:-1)}},dependencies:[k,ve],styles:["[_nghost-%COMP%]{display:block}"]})};var be=class t{contact=P.required();static \u0275fac=function(e){return new(e||t)};static \u0275cmp=m({type:t,selectors:[["contact-card"]],inputs:{contact:[1,"contact"]},decls:8,vars:3,consts:[[1,"card","bg-base-100","w-96","shadow-md","hover:shadow-lg","transition-shadow","duration-300"],[1,"card-body","items-center","text-center"],[1,"card-title","text-xl","text-primary","mb-2"],[1,"text-sm","opacity-80"]],template:function(e,o){e&1&&(y(0,"div",0)(1,"div",1)(2,"h3",2),c(3),I(),y(4,"p",3),c(5),I(),y(6,"p",3),c(7),I()()()),e&2&&(a(3),v(" ",o.contact().title," "),a(2),v(" \u{1F4DE} ",o.contact().phone," "),a(2),v(" \u2709\uFE0F ",o.contact().email," "))},styles:["[_nghost-%COMP%]{display:block}"]})};var It=(t,n)=>n.id;function wt(t,n){t&1&&(i(0,"div",1),s(1,"loading"),r())}function Pt(t,n){if(t&1&&(i(0,"p",2),c(1),r()),t&2){let e=g();a(),N(e.error())}}function Mt(t,n){if(t&1&&s(0,"contact-card",6),t&2){let e=n.$implicit;f("contact",e)}}function Et(t,n){if(t&1&&(i(0,"div",5),_(1,Mt,1,1,"contact-card",6,It),r()),t&2){let e=n.$implicit;a(),S(e)}}function Tt(t,n){if(t&1&&(i(0,"div",4),_(1,Et,3,0,"div",5,x),r()),t&2){let e=g();a(),S(e.rowsFormatted())}}function Nt(t,n){t&1&&(i(0,"p"),c(1,"No hay contactos para mostrar"),r())}var _e=class t{contactService=p(He);contacts=M(null);loading=M(!0);error=M(null);async getContacts(){this.loading.set(!0),this.error.set(null);try{let n=await V(this.contactService.getAll());this.contacts.set(n)}catch{this.error.set("Error al cargar los contactos")}finally{this.loading.set(!1)}}ngOnInit(){this.getContacts()}rowsFormatted(){let n=this.contacts()||[],e=[];for(let o=0;o<n.length;)(n.length-o)%2===1?(e.push([n[o]]),o+=1):(e.push(n.slice(o,o+2)),o+=2);return e}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=m({type:t,selectors:[["app-contact"]],decls:7,vars:4,consts:[[1,"text-3xl","font-bold","mb-6","mt-6"],[1,"min-h-[50vh]","gap-4"],[1,"text-red-500"],[1,"flex","flex-col","items-center","justify-center","min-h-[50vh]"],[1,"flex","flex-col","gap-12","mt-6","w-full"],[1,"flex","justify-center","gap-8","flex-wrap"],[3,"contact"]],template:function(e,o){if(e&1&&(i(0,"h1",0),c(1,"Contactos"),r(),d(2,wt,2,0,"div",1),d(3,Pt,2,1,"p",2),i(4,"div",3),d(5,Tt,3,0,"div",4),r(),d(6,Nt,2,0,"p")),e&2){let l,C;a(2),u(o.loading()?2:-1),a(),u(o.error()?3:-1),a(2),u(!o.loading()&&!o.error()&&((l=o.contacts())!=null&&l.length)?5:-1),a(),u(!o.loading()&&!o.error()&&((C=o.contacts())==null?null:C.length)===0?6:-1)}},dependencies:[k,be],styles:["[_nghost-%COMP%]{display:block}"]})};var Se=class t{authService=p(E);configurationService=p(T);menuItems=[{label:"Mi perfil",route:"/user/profile",adminOnly:!1},{label:"Mis direcciones",route:"/user/directions",adminOnly:!1},{label:"Mis pedidos",route:"/user/recipes",adminOnly:!1}];static \u0275fac=function(e){return new(e||t)};static \u0275cmp=m({type:t,selectors:[["user-options"]],decls:3,vars:1,consts:[[3,"menuItems"],[1,"cursor-pointer","hover:bg-gray-500","btn","btn-ghost","text-secondary","w-full",3,"click"]],template:function(e,o){e&1&&(s(0,"menu-items",0),i(1,"button",1),w("click",function(){return[o.authService.logout(),o.configurationService.toggleSidebarPageStatus("closed")]}),c(2,` Cerrar sesi\xF3n
`),r()),e&2&&f("menuItems",o.menuItems)},dependencies:[je],styles:["[_nghost-%COMP%]{display:block}"]})};var Je=t=>["/product",t];function kt(t,n){if(t&1&&(i(0,"div",0)(1,"figure",1),s(2,"img",2),F(3,"productImage"),r(),i(4,"div",3)(5,"h2",4),c(6),r(),i(7,"p",5),c(8),F(9,"slice"),r(),i(10,"div",6)(11,"span",7),c(12),r(),i(13,"button",8),c(14,"Ver"),r()()()()),t&2){let e=n.$implicit;a(2),f("src",j(3,7,e.product==null?null:e.product.imagesName),A),a(3),f("routerLink",K(13,Je,e.product==null?null:e.product.slug)),a(),v(" ",e.product==null?null:e.product.title," "),a(2),N(te(9,9,e.product==null?null:e.product.description,0,50)),a(4),ke("$",e.product==null?null:e.product.price," x ",e.quantity),a(),f("routerLink",K(15,Je,e.product==null?null:e.product.slug))}}var xe=class t{cartItems=P.required();static \u0275fac=function(e){return new(e||t)};static \u0275cmp=m({type:t,selectors:[["cart-items"]],inputs:{cartItems:[1,"cartItems"]},decls:2,vars:0,consts:[[1,"card","bg-base-100","w-64","shadow-sm","opacity-90","mb-3"],[1,"h-32","flex","items-center","justify-center","bg-gray-100","overflow-hidden"],["alt","",1,"h-full","object-cover",3,"src"],[1,"card-body","p-3"],[1,"card-title","text-sm","hover:underline","cursor-pointer",3,"routerLink"],[1,"text-xs","text-gray-500"],[1,"card-actions","justify-between","mt-2"],[1,"text-sm","font-bold"],[1,"btn","btn-xs","btn-primary",3,"routerLink"]],template:function(e,o){e&1&&_(0,kt,15,17,"div",0,x),e&2&&S(o.cartItems())},dependencies:[R,U,oe],styles:["[_nghost-%COMP%]{display:block}"]})};function Dt(t,n){if(t&1&&(i(0,"div",1),s(1,"cart-items",3),r()),t&2){let e=g();a(),f("cartItems",e.cartItems)}}function Ot(t,n){t&1&&(i(0,"div",2),c(1," Tu carrito est\xE1 vac\xEDo "),r())}var ye=class t{cartService=p(z);cartItems=[];ngOnInit(){this.cartService.cart$.subscribe(n=>this.cartItems=n),this.cartService.loadCart()}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=m({type:t,selectors:[["app-cart-sidebar"]],decls:3,vars:1,consts:[[1,"flex","flex-col","h-full"],[1,"flex-1","overflow-y-auto","px-4","py-6"],[1,"flex-1","flex","items-center","justify-center","text-gray-500","min-h-[75vh]"],[3,"cartItems"]],template:function(e,o){e&1&&(i(0,"div",0),d(1,Dt,2,1,"div",1)(2,Ot,2,0,"div",2),r()),e&2&&(a(),u(o.cartItems.length>0?1:2))},dependencies:[xe],styles:["[_nghost-%COMP%]{display:block}"]})};var Ft=[{path:"",component:de,children:[{path:"",title:"E-commerce Gluten Free",component:fe},{path:"products",title:"Productos",component:Y},{path:"product/:idSlug",title:"Producto",component:X},{path:"recipe",title:"Recetas",component:he},{path:"contact",title:"Contacto",component:_e},{path:"**",component:ge},{path:"userOptions",title:"Opciones de usuario",outlet:"sidebar",component:Se},{path:"auth/login",title:"Iniciar sesi\xF3n",outlet:"sidebar",component:Le},{path:"cartSidebar",title:"Mi carrito",outlet:"sidebar",component:ye}]}],ki=Ft;export{ki as default,Ft as storeFrontRoutes};
