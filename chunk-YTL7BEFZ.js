import{A as h,B as T,Ba as N,C as q,D as c,E as b,Ha as m,Ia as P,O as s,Pa as u,R as w,Ra as D,Ta as I,U as y,da as S,ea as V,fa as E,ga as g,ha as r,ia as l,j as _,ja as d,kb as H,mb as R,na as j,nb as x,pa as p,ra as k,rb as G,tb as $,x as C,xa as A,za as L}from"./chunk-6H3SXBKT.js";var Z=class n{activateRoute=h(H);router=h(R);currentPage=$(this.activateRoute.queryParamMap.pipe(_(e=>e.get("page")?+e.get("page"):1),_(e=>isNaN(e)?1:e)),{initialValue:1});setCurrentPage(e){this.router.navigate([],{queryParams:{page:e},queryParamsHandling:"merge"})}resetPage(){this.router.navigate([],{queryParams:{page:null},queryParamsHandling:"merge"})}static \u0275fac=function(i){return new(i||n)};static \u0275prov=C({token:n,factory:n.\u0275fac,providedIn:"root"})};var Y={original:["original","medium","small"],medium:["medium","small","original"],small:["small","medium","original"]},J=["secureUrl","url","path","fileName","filename","name","id"],Q=n=>[...Y[n],...J];function B(n,e){if(typeof n=="string")return n.trim()||null;if(typeof n!="object"||n===null)return null;let i=n;for(let t of Q(e)){let a=i[t];if(typeof a=="string"){let o=a.trim();if(o)return o}}return null}var U=G.baseUrl.replace(/\/$/,""),W="assets/images/default-image.jpg",O=class n{transform(e,i="original"){if(!e||Array.isArray(e)&&e.length===0)return W;let t=Array.isArray(e)?e:[e],a=this.resolveFirst(t,i);if(!a)return W;if(a.startsWith("assets/")||/^(https?:)?\/\//.test(a)||a.startsWith("data:")||a.startsWith("blob:"))return a;if(a.startsWith("/"))return`${U}${a}`;let o=encodeURIComponent(a);return`${U}/files/products/${o}`}resolveFirst(e,i){for(let t of e){let a=B(t,i);if(a!=null){let F=(typeof a=="string"?a:String(a)).trim();if(F)return F}}return null}static \u0275fac=function(i){return new(i||n)};static \u0275pipe=y({name:"productImage",type:n,pure:!0})};var z=class n{transform(e){return e==null?"0":"Gs. "+e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")}static \u0275fac=function(i){return new(i||n)};static \u0275pipe=y({name:"guaranies",type:n,pure:!0})};var f=()=>[],X=()=>({page:1}),v=n=>({page:n});function ee(n,e){if(n&1){let i=j();r(0,"button",14),p("click",function(){let a=T(i).$implicit,o=k();return q(o.goToPage(a))}),L(1),l()}if(n&2){let i=e.$implicit,t=k();A("btn-primary",i===t.activePage()),g("routerLink",m(5,f))("queryParams",P(6,v,i)),s(),N(" ",i," ")}}function te(n,e){n&1&&(r(0,"button",8),L(1,"0"),l())}var K=class n{pages=I(0);currentPage=I(1);activePage=D(this.currentPage);totalPages=u(()=>Math.max(0,this.pages()??0));getPagesList=u(()=>{let e=this.totalPages();return e?Array.from({length:e},(i,t)=>t+1):[]});isFirstPage=u(()=>this.activePage()<=1);isLastPage=u(()=>this.activePage()>=this.totalPages()&&this.totalPages()>0);previousPage=u(()=>Math.max(1,this.activePage()-1));nextPage=u(()=>Math.min(this.totalPages(),this.activePage()+1));goToPage(e){if(!this.totalPages())return;let i=Math.min(Math.max(e,1),this.totalPages());this.activePage.set(i)}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=w({type:n,selectors:[["pagination"]],inputs:{pages:[1,"pages"],currentPage:[1,"currentPage"]},decls:18,vars:24,consts:[[1,"join","flex","justify-center","items-center"],["type","button","aria-label","Primera p\xE1gina","queryParamsHandling","merge",1,"join-item","btn","btn-sm","w-10",3,"click","disabled","routerLink","queryParams"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","fill","currentColor",1,"size-4"],["fill-rule","evenodd","d","M10.72 11.47a.75.75 0 0 0 0 1.06l7.5 7.5a.75.75 0 1 0 1.06-1.06L12.31 12l6.97-6.97a.75.75 0 0 0-1.06-1.06l-7.5 7.5Z","clip-rule","evenodd"],["fill-rule","evenodd","d","M4.72 11.47a.75.75 0 0 0 0 1.06l7.5 7.5a.75.75 0 1 0 1.06-1.06L6.31 12l6.97-6.97a.75.75 0 0 0-1.06-1.06l-7.5 7.5Z","clip-rule","evenodd"],["type","button","aria-label","P\xE1gina anterior","queryParamsHandling","merge",1,"join-item","btn","btn-sm","w-10",3,"click","disabled","routerLink","queryParams"],["fill-rule","evenodd","d","M7.72 12.53a.75.75 0 0 1 0-1.06l7.5-7.5a.75.75 0 1 1 1.06 1.06L9.31 12l6.97 6.97a.75.75 0 1 1-1.06 1.06l-7.5-7.5Z","clip-rule","evenodd"],["type","button","queryParamsHandling","merge",1,"join-item","btn","btn-sm","w-10",3,"btn-primary","routerLink","queryParams"],["type","button","disabled","",1,"join-item","btn"],["type","button","aria-label","P\xE1gina siguiente","queryParamsHandling","merge",1,"join-item","btn","btn-sm","w-10",3,"click","disabled","routerLink","queryParams"],["fill-rule","evenodd","d","M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z","clip-rule","evenodd"],["type","button","aria-label","\xDAltima p\xE1gina","queryParamsHandling","merge",1,"join-item","btn","btn-sm","w-10",3,"click","disabled","routerLink","queryParams"],["fill-rule","evenodd","d","M13.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L11.69 12 4.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z","clip-rule","evenodd"],["fill-rule","evenodd","d","M19.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 1 1-1.06-1.06L17.69 12l-6.97-6.97a.75.75 0 0 1 1.06-1.06l7.5 7.5Z","clip-rule","evenodd"],["type","button","queryParamsHandling","merge",1,"join-item","btn","btn-sm","w-10",3,"click","routerLink","queryParams"]],template:function(i,t){i&1&&(r(0,"div",0)(1,"button",1),p("click",function(){return t.goToPage(1)}),c(),r(2,"svg",2),d(3,"path",3)(4,"path",4),l()(),b(),r(5,"button",5),p("click",function(){return t.goToPage(t.previousPage())}),c(),r(6,"svg",2),d(7,"path",6),l()(),V(8,ee,2,8,"button",7,S,!1,te,2,0,"button",8),b(),r(11,"button",9),p("click",function(){return t.goToPage(t.nextPage())}),c(),r(12,"svg",2),d(13,"path",10),l()(),b(),r(14,"button",11),p("click",function(){return t.goToPage(t.totalPages())}),c(),r(15,"svg",2),d(16,"path",12)(17,"path",13),l()()()),i&2&&(s(),g("disabled",t.isFirstPage()||!t.totalPages())("routerLink",m(13,f))("queryParams",m(14,X)),s(4),g("disabled",t.isFirstPage()||!t.totalPages())("routerLink",m(15,f))("queryParams",P(16,v,t.previousPage())),s(3),E(t.getPagesList()),s(3),g("disabled",t.isLastPage()||!t.totalPages())("routerLink",m(18,f))("queryParams",P(19,v,t.nextPage())),s(3),g("disabled",t.isLastPage()||!t.totalPages())("routerLink",m(21,f))("queryParams",P(22,v,t.totalPages()||1)))},dependencies:[x],styles:["[_nghost-%COMP%]{display:block}"]})};export{Z as a,B as b,O as c,z as d,K as e};
