import{a as ut,c as ft,d as fe,e as Pe,f as ke,g as gt,h as vt,i as ht,j as ge}from"./chunk-HD6N7SF7.js";import{a as te,b as y,c as oe,d as ne,e as ie,f as dt,g as re,h as ae,i as le,j as se,k as O,l as T,m as pt}from"./chunk-MRNILBUI.js";import{$ as Xe,A as L,B as a,Ba as we,E as u,Fa as Y,Ga as ct,Ha as R,Ia as F,J as Z,Ja as mt,L as b,M as C,Ma as De,Na as ee,O as nt,Oa as Ee,P as j,Q as $,R as p,S as n,T as r,U as c,V as pe,W as ue,Y as A,_ as g,a as G,aa as h,ba as K,ca as Q,da as W,e as ce,ea as Se,f as _,fa as it,g as z,ga as S,ha as l,i as B,ia as v,ja as M,l as _e,la as J,ma as U,na as he,o as d,oa as Ye,p as P,pa as rt,q as k,r as D,s as I,sa as X,ta as H,u as f,va as w,xa as at,y as tt,ya as lt,z as ot,za as st}from"./chunk-IXUDTN42.js";var bt=async()=>{let i=d(Ee);return await _(i.checkStatus()),i.isAdmin()};var Ct=[{label:"Inicio",route:"/",adminOnly:!0},{label:"Dashboard",route:"/admin/dashboard",adminOnly:!0},{label:"Productos",route:"/admin/products",adminOnly:!0},{label:"Recetas",route:"/admin/recipes",adminOnly:!0},{label:"Contacto",route:"/admin/contacts",adminOnly:!0},{label:"Usuarios",route:"/admin/users",adminOnly:!0}];function Et(i,t){i&1&&c(0,"loading",1)}function Pt(i,t){i&1&&c(0,"success",1)}var Me=class i{configurationService=d(O);loading=this.configurationService.loading;success=this.configurationService.success;static \u0275fac=function(e){return new(e||i)};static \u0275cmp=u({type:i,selectors:[["toast"]],decls:3,vars:2,consts:[[1,"relative"],[1,"fixed","bottom-4","right-4"]],template:function(e,o){e&1&&(n(0,"div",0),b(1,Et,1,0,"loading",1),b(2,Pt,1,0,"success",1),r()),e&2&&(a(),C(o.loading()?1:-1),a(),C(o.success()?2:-1))},dependencies:[pt,T],styles:["[_nghost-%COMP%]{display:block}"]})};function kt(i,t){if(i&1){let e=A();n(0,"div"),c(1,"sidebar-items",2),n(2,"div",3)(3,"button",4),g("click",function(){P(e);let s=h();return k(s.configurationService.toggleSidebarItemsStatus("open"))}),D(),n(4,"svg",5),c(5,"path",6),r()(),I(),c(6,"app-logo"),r(),n(7,"div",7),c(8,"router-outlet"),r()()}if(i&2){let e=h();a(),p("menuItems",e.menuItems)}}function Mt(i,t){if(i&1){let e=A();n(0,"div",1)(1,"div",8)(2,"div",9)(3,"div",10),c(4,"app-logo"),n(5,"p",11),l(6,"Panel administrativo"),r()(),n(7,"div",12)(8,"p",13),l(9,"Bienvenido"),r(),n(10,"a",14)(11,"span",15),l(12),r()()(),n(13,"div",16)(14,"a",17)(15,"div"),D(),n(16,"svg",18),c(17,"path",19),r()(),I(),n(18,"div",20)(19,"span",21),l(20,"Dashboard"),r(),n(21,"span",22),l(22,"Data Overview"),r()()(),n(23,"a",23)(24,"div"),D(),n(25,"svg",24),c(26,"path",25),r()(),I(),n(27,"div",20)(28,"span",26),l(29,"Productos"),r(),n(30,"span",27),l(31,"Listado de productos"),r()()(),n(32,"a",28)(33,"div"),D(),n(34,"svg",29),c(35,"path",30),r()(),I(),n(36,"div",20)(37,"span",26),l(38,"Recetas"),r(),n(39,"span",27),l(40,"Listado de recetas"),r()()(),n(41,"a",31)(42,"div"),D(),n(43,"svg",29),c(44,"path",32),r()(),I(),n(45,"div",20)(46,"span",26),l(47,"Contactos"),r(),n(48,"span",27),l(49,"Listado de contactos"),r()()(),n(50,"div")(51,"div")(52,"a",33),g("click",function(){P(e);let s=h();return k(s.toggleUserMenu())}),n(53,"div",34)(54,"div",35),D(),n(55,"svg",36),c(56,"path",37),r(),I(),n(57,"div",20)(58,"span",26),l(59,"Usuarios"),r(),n(60,"span",27),l(61,"Opciones"),r()()(),D(),n(62,"svg",38),c(63,"path",39),r()()(),I(),n(64,"div",40,0)(66,"a",41),l(67,"Usuarios"),r(),n(68,"a",42),l(69,"Roles"),r()()()()()()(),n(70,"div",43),c(71,"router-outlet"),r()()}if(i&2){let e,o=Se(65),s=h();a(12),M(" ",(e=s.user())==null?null:e.fullName," "),a(50),S("rotate-90",s.userMenuOpen),a(2),it("max-height",s.userMenuOpen?o.scrollHeight+"px":"0")}}var Re=class i{authService=d(Ee);configurationService=d(O);user=X(()=>this.authService.user());menuItems=Ct;isMobile=!1;userMenuOpen=!1;ngOnInit(){this.onResize()}onResize(){this.isMobile=window.innerWidth<1024}toggleUserMenu(){this.userMenuOpen=!this.userMenuOpen}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=u({type:i,selectors:[["app-admin-dashboard-layout"]],hostBindings:function(e,o){e&1&&g("resize",function(){return o.onResize()},ot)},decls:3,vars:1,consts:[["userMenuContent",""],[1,"bg-slate-800","overflow-y-scroll","overflow-x-hidden","w-full","h-screen","antialiased","text-slate-300","selection:bg-blue-600","selection:text-white"],[3,"menuItems"],[1,"flex","items-center"],[1,"btn","btn-ghost","lg:hidden",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-5","w-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 6h16M4 12h8m-8 6h16"],[1,"flex-1","px-5"],[1,"flex","flex-col","relative","w-full","max-w-full"],["id","menu",1,"bg-gray-900","min-h-screen","z-10","text-slate-300","w-64","fixed","left-0","h-screen","overflow-y-scroll"],[1,"my-5","px-5"],[1,"text-slate-500","text-sm"],["id","profile",1,"px-6","py-4"],[1,"text-slate-500"],["routerLink","/admin/products",1,"inline-flex","space-x-2","items-center"],[1,"text-sm","md:text-base","font-bold"],["id","nav",1,"w-full","px-6"],["routerLink","/admin/products",1,"w-full","px-2","inline-flex","space-x-2","items-center","border-b","border-slate-700","py-3","hover:bg-white/5","transition","ease-linear","duration-150"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"w-6","h-6","text-white"],["stroke-linecap","round","stroke-linejoin","round","d","M3.75 6A2.25 2.25 0 016 3.75h2.25A2.25 2.25 0 0110.5 6v2.25a2.25 2.25 0 01-2.25 2.25H6a2.25 2.25 0 01-2.25-2.25V6zM3.75 15.75A2.25 2.25 0 016 13.5h2.25a2.25 2.25 0 012.25 2.25V18a2.25 2.25 0 01-2.25 2.25H6A2.25 2.25 0 013.75 18v-2.25zM13.5 6a2.25 2.25 0 012.25-2.25H18A2.25 2.25 0 0120.25 6v2.25A2.25 2.25 0 0118 10.5h-2.25a2.25 2.25 0 01-2.25-2.25V6zM13.5 15.75a2.25 2.25 0 012.25-2.25H18a2.25 2.25 0 012.25 2.25V18A2.25 2.25 0 0118 20.25h-2.25A2.25 2.25 0 0113.5 18v-2.25z"],[1,"flex","flex-col"],[1,"text-lg","font-bold","leading-5","text-white"],[1,"text-sm","text-white/50","hidden","md:block"],["routerLink","/admin/products","routerLinkActive","bg-blue-800",1,"w-full","px-2","inline-flex","space-x-2","items-center","border-b","border-slate-700","py-3","hover:bg-white/5","transition","ease-linear","duration-150"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"w-6","h-6"],["stroke-linecap","round","stroke-linejoin","round","d","M20.25 6.375c0 2.278-3.694 4.125-8.25 4.125S3.75 8.653 3.75 6.375m16.5 0c0-2.278-3.694-4.125-8.25-4.125S3.75 4.097 3.75 6.375m16.5 0v11.25c0 2.278-3.694 4.125-8.25 4.125s-8.25-1.847-8.25-4.125V6.375m16.5 0v3.75m-16.5-3.75v3.75m16.5 0v3.75C20.25 16.153 16.556 18 12 18s-8.25-1.847-8.25-4.125v-3.75m16.5 0c0 2.278-3.694 4.125-8.25 4.125s-8.25-1.847-8.25-4.125"],[1,"text-lg","text-slate-300","font-bold","leading-5"],[1,"text-sm","text-slate-500","hidden","md:block"],["routerLink","/admin/recipes","routerLinkActive","bg-blue-800",1,"w-full","px-2","inline-flex","space-x-2","items-center","border-b","border-slate-700","py-3","hover:bg-white/5","transition","ease-linear","duration-150"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"size-6"],["stroke-linecap","round","stroke-linejoin","round","d","M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"],["routerLink","/admin/contacts","routerLinkActive","bg-blue-800",1,"w-full","px-2","inline-flex","space-x-2","items-center","border-b","border-slate-700","py-3","hover:bg-white/5","transition","ease-linear","duration-150"],["stroke-linecap","round","stroke-linejoin","round","d","M15.75 3.75 18 6m0 0 2.25 2.25M18 6l2.25-2.25M18 6l-2.25 2.25m1.5 13.5c-8.284 0-15-6.716-15-15V4.5A2.25 2.25 0 0 1 4.5 2.25h1.372c.516 0 .966.351 1.091.852l1.106 4.423c.11.44-.054.902-.417 1.173l-1.293.97a1.062 1.062 0 0 0-.38 1.21 12.035 12.035 0 0 0 7.143 7.143c.441.162.928-.004 1.21-.38l.97-1.293a1.125 1.125 0 0 1 1.173-.417l4.423 1.106c.5.125.852.575.852 1.091V19.5a2.25 2.25 0 0 1-2.25 2.25h-2.25Z"],[1,"w-full","px-2","flex","flex-col","justify-between","border-b","border-slate-700","py-3","hover:bg-white/5","transition","ease-linear","duration-150","cursor-pointer",3,"click"],[1,"flex","items-center","justify-between","w-full"],[1,"flex","items-center","space-x-2"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","fill","currentColor",1,"w-6","h-6"],["fill-rule","evenodd","d","M7.5 6a4.5 4.5 0 1 1 9 0 4.5 4.5 0 0 1-9 0ZM3.751 20.105a8.25 8.25 0 0 1 16.498 0 .75.75 0 0 1-.437.695A18.683 18.683 0 0 1 12 22.5c-2.786 0-5.433-.608-7.812-1.7a.75.75 0 0 1-.437-.695Z","clip-rule","evenodd"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor","stroke-width","2",1,"w-4","h-4","text-slate-400","transition-transform","duration-300"],["stroke-linecap","round","stroke-linejoin","round","d","M9 5l7 7-7 7"],[1,"overflow-hidden","transition-all","duration-500","ease-in-out"],["routerLink","/admin/users",1,"block","py-2","pl-10","hover:bg-white/5","text-slate-300"],["routerLink","/admin/roles",1,"block","py-2","pl-10","hover:bg-white/5","text-slate-300"],[1,"flex-1","ml-64","pt-5","px-5"]],template:function(e,o){e&1&&(b(0,kt,9,1,"div")(1,Mt,72,5,"div",1),c(2,"toast")),e&2&&C(o.isMobile?0:1)},dependencies:[ct,F,mt,ut,ft,Me],styles:["[_nghost-%COMP%]{display:block}"]})};async function Rt(){return new Promise(i=>{setTimeout(()=>{i(!0)},2500)})}var ve=class i{static namePattern="([a-zA-Z]+) ([a-zA-Z]+)";static emailPattern="^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$";static notOnlySpacesPattern="^[a-zA-Z0-9]+$";static slugPattern="^[a-z0-9_]+(?:-[a-z0-9_]+)*$";static getTextError(t){for(let e of Object.keys(t))switch(e){case"required":return"Este campo es requerido";case"minlength":return`M\xEDnimo de ${t.minlength.requiredLength} caracteres.`;case"min":return`Valor m\xEDnimo de ${t.min.min}`;case"email":return"El valor ingresado no es un correo electr\xF3nico";case"emailTaken":return"El correo electr\xF3nico ya est\xE1 siendo usado por otro usuario";case"noStrider":return"No se puede usar el username de strider en la app";case"pattern":return t.pattern.requiredPattern===i.emailPattern?"El valor ingresado no luce como un correo electr\xF3nico":"Error de patr\xF3n contra expresi\xF3n regular";default:return`Error de validaci\xF3n no controlado ${e}`}return null}static isValidField(t,e){return!!t.controls[e].errors&&t.controls[e].touched}static getFieldError(t,e){if(!t.controls[e])return null;let o=t.controls[e].errors??{};return i.getTextError(o)}static isValidFieldInArray(t,e){return t.controls[e].errors&&t.controls[e].touched}static getFieldErrorInArray(t,e){if(t.controls.length===0)return null;let o=t.controls[e].errors??{};return i.getTextError(o)}static isFieldOneEqualFieldTwo(t,e){return o=>{let s=o.get(t)?.value,m=o.get(e)?.value;return s===m?null:{passwordsNotEqual:!0}}}static async checkingServerResponse(t){return await Rt(),t.value==="hola@mundo.com"?{emailTaken:!0}:null}static notStrider(t){return t.value==="strider"?{noStrider:!0}:null}};var q=class i{control=w.required();get errorMessage(){let t=this.control().errors||{};return this.control().touched&&Object.keys(t).length>0?ve.getTextError(t):null}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=u({type:i,selectors:[["form-error-label"]],inputs:{control:[1,"control"]},decls:2,vars:1,consts:[[1,"text-red-500","text-xs"]],template:function(e,o){e&1&&(pe(0,"span",0),l(1),ue()),e&2&&(a(),v(o.errorMessage))},styles:["[_nghost-%COMP%]{display:block}"]})};var Fe=class i{contact=w.required();router=d(R);contactService=d(fe);configurationService=d(O);fb=d(le);contactForm=this.fb.group({title:["",y.required],phone:["",y.required],email:["",[y.required,y.email]]});ngOnInit(){this.contactForm.reset(this.contact())}onSubmit(){this.configurationService.loading.set(!0),this.contactForm.markAllAsTouched();let t=this.contactForm.value,e=G({},t);this.contact().id==="new"?this.contactService.create(e).subscribe(async()=>{await this.configurationService.toggleToast()}):this.contactService.update(this.contact().id,e).subscribe(async()=>{await this.configurationService.toggleToast()}),this.router.navigate(["/admin/contacts"])}controlPresionado=!1;handleKeyboardEvent(t){t.key==="Control"?this.controlPresionado=!0:t.key==="Enter"&&this.controlPresionado&&this.onSubmit()}handleKeyboardUp(t){t.key==="Control"&&(this.controlPresionado=!1)}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=u({type:i,selectors:[["contact-details"]],hostBindings:function(e,o){e&1&&g("keydown",function(m){return o.handleKeyboardEvent(m)},L)("keyup",function(m){return o.handleKeyboardUp(m)},L)},inputs:{contact:[1,"contact"]},decls:17,vars:11,consts:[[1,"text-2xl","font-bold"],[1,"divider"],[1,"grid","grid-cols-1","sm:grid-cols-2","gap-4",3,"ngSubmit","formGroup"],[1,"flex","flex-col","gap-2"],[1,"text-xl","font-bold","h-12"],["type","text","placeholder","Nombre","formControlName","title",1,"input","input-bordered","w-full"],[3,"control"],["type","text","placeholder","Tel\xE9fono","formControlName","phone",1,"input","input-bordered","w-full"],["type","email","placeholder","Email","formControlName","email",1,"input","input-bordered","w-full"],[1,"flex","justify-end","h-12"],["type","submit",1,"btn","btn-secondary"]],template:function(e,o){if(e&1&&(n(0,"h1",0),l(1),r(),c(2,"div",1),n(3,"form",2),g("ngSubmit",function(){return o.onSubmit()}),n(4,"div",3)(5,"h2",4),l(6,"Datos generales"),r(),c(7,"input",5)(8,"form-error-label",6)(9,"input",7)(10,"form-error-label",6)(11,"input",8)(12,"form-error-label",6),r(),n(13,"div",3)(14,"div",9)(15,"button",10),l(16,"Guardar"),r()()()()),e&2){let s,m,N;a(),v(o.contact().title||"Crear nuevo contacto"),a(2),p("formGroup",o.contactForm),a(4),S("border-red-500",((s=o.contactForm.get("title"))==null?null:s.errors)??!1),a(),p("control",o.contactForm.get("title")),a(),S("border-red-500",((m=o.contactForm.get("phone"))==null?null:m.errors)??!1),a(),p("control",o.contactForm.get("phone")),a(),S("border-red-500",((N=o.contactForm.get("email"))==null?null:N.errors)??!1),a(),p("control",o.contactForm.get("email"))}},dependencies:[se,ie,te,oe,ne,re,ae,q],styles:["[_nghost-%COMP%]{display:block}"]})};function Ft(i,t){i&1&&(n(0,"div",0),c(1,"loading"),r())}function Tt(i,t){if(i&1&&c(0,"contact-details",1),i&2){let e=h();p("contact",e.contact())}}var Ne=class i{activateRoute=d(Y);router=d(R);contactService=d(fe);contactId=ee(this.activateRoute.params.pipe(z(t=>t.id)));contact=f(null);loading=f(!0);error=f(null);constructor(){H(()=>{let t=this.contactId();this.loadContact(t)})}async loadContact(t){this.loading.set(!0),this.error.set(null);try{let e=await _(this.contactService.getById(t));this.contact.set(e)}catch{this.error.set("Error al cargar el contacto"),this.router.navigate(["/admin/contacts"])}finally{this.loading.set(!1)}}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=u({type:i,selectors:[["contact-admin"]],decls:2,vars:2,consts:[[1,"min-h-[50vh]","gap-4"],[3,"contact"]],template:function(e,o){if(e&1&&(b(0,Ft,2,0,"div",0),b(1,Tt,1,1,"contact-details",1)),e&2){let s;C(o.loading()?0:-1),a(),C((s=o.contact())!=null&&s.id?1:-1)}},dependencies:[T,Fe],styles:["[_nghost-%COMP%]{display:block}"]})};function Nt(i,t){if(i&1){let e=A();pe(0,"div",0)(1,"div",1)(2,"h2",2),l(3),ue(),pe(4,"p",3),l(5),ue(),pe(6,"div",4)(7,"button",5),Xe("click",function(){P(e);let s=h();return k(s.close(!0))}),l(8," Si "),ue(),pe(9,"button",6),Xe("click",function(){P(e);let s=h();return k(s.close(!1))}),l(10," No "),ue()()()()}if(i&2){let e=h();a(3),v(e.title()),a(2),v(e.message())}}var V=class i{visible=f(!1);message=f("");title=f("Confirmar");resolver;open(t,e="Confirmar"){return this.message.set(t),this.title.set(e),this.visible.set(!0),new Promise(o=>{this.resolver=o})}close(t){this.visible.set(!1),this.resolver&&(this.resolver(t),this.resolver?.(!1))}handleKeyboardEvent(t){if(this.visible)switch(t.key){case"Enter":case" ":t.preventDefault(),this.close(!0);break;case"Escape":t.preventDefault(),this.close(!1);break}}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=u({type:i,selectors:[["confirm-dialog"]],hostBindings:function(e,o){e&1&&g("keydown",function(m){return o.handleKeyboardEvent(m)},L)},decls:1,vars:1,consts:[[1,"fixed","inset-0","flex","items-center","justify-center","z-50"],[1,"bg-base-100","border","border-slate-700","rounded-xl","shadow-xl","p-6","w-[320px]","text-center","backdrop-blur-sm"],[1,"text-lg","font-bold","mb-3","text-slate-200"],[1,"mb-6","text-slate-400"],[1,"flex","justify-center","gap-4"],[1,"btn","btn-sm","bg-red-500","hover:bg-red-600","text-white","font-semibold","cursor-pointer",3,"click"],[1,"btn","btn-sm","bg-slate-700","hover:bg-slate-600","text-slate-100","font-semibold","cursor-pointer",3,"click"]],template:function(e,o){e&1&&b(0,Nt,11,2,"div",0),e&2&&C(o.visible()?0:-1)},dependencies:[st],styles:["[_nghost-%COMP%]{display:block}"]})};var yt=i=>["/admin/contacts",i],At=(i,t)=>t.id;function It(i,t){if(i&1){let e=A();n(0,"tr")(1,"th"),l(2),r(),n(3,"td")(4,"a",3),l(5),r()(),n(6,"td"),l(7),r(),n(8,"td"),l(9),r(),n(10,"th",4)(11,"a",5),D(),n(12,"svg",6),c(13,"path",7),r()(),I(),n(14,"a",8),g("click",function(){let s=P(e).$implicit,m=h();return k(m.onDelete(s.id))}),D(),n(15,"svg",6),c(16,"path",9),r()()()()}if(i&2){let e=t.$implicit,o=t.$index;a(2),v(o+1),a(2),p("routerLink",U(6,yt,e.id)),a(),M(" ",e.title," "),a(2),v(e.phone),a(2),v(e.email),a(2),p("routerLink",U(8,yt,e.id))}}var Ae=class i{contacts=w.required();delete=new Z;confirmDialog;async onDelete(t){await this.confirmDialog.open("\xBFEst\xE1s seguro que deseas eliminar este contacto?")&&this.delete.emit(t)}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=u({type:i,selectors:[["contacts-table"]],viewQuery:function(e,o){if(e&1&&K(V,5),e&2){let s;Q(s=W())&&(o.confirmDialog=s.first)}},inputs:{contacts:[1,"contacts"]},outputs:{delete:"delete"},decls:16,vars:0,consts:[[1,"overflow-y-auto","max-h-[75vh]","overflow-x-auto","border","border-slate-700","rounded-xl"],[1,"table","table-zebra","w-full"],[1,"sticky","top-0","bg-slate-900","z-10"],[1,"font-bold","hover:text-primary","transition-colors","duration-300",3,"routerLink"],[1,"flex","justify-end"],[1,"btn","btn-ghost","text-primary","btn-xs",3,"routerLink"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","fill","currentColor",1,"size-6"],["d","M21.731 2.269a2.625 2.625 0 0 0-3.712 0l-1.157 1.157 3.712 3.712 1.157-1.157a2.625 2.625 0 0 0 0-3.712ZM19.513 8.199l-3.712-3.712-12.15 12.15a5.25 5.25 0 0 0-1.32 2.214l-.8 2.685a.75.75 0 0 0 .933.933l2.685-.8a5.25 5.25 0 0 0 2.214-1.32L19.513 8.2Z"],[1,"btn","btn-ghost","text-error","btn-xs",3,"click"],["fill-rule","evenodd","d","M16.5 4.478v.227a48.816 48.816 0 0 1 3.878.512.75.75 0 1 1-.256 1.478l-.209-.035-1.005 13.07a3 3 0 0 1-2.991 2.77H8.084a3 3 0 0 1-2.991-2.77L4.087 6.66l-.209.035a.75.75 0 0 1-.256-1.478A48.567 48.567 0 0 1 7.5 4.705v-.227c0-1.564 1.213-2.9 2.816-2.951a52.662 52.662 0 0 1 3.369 0c1.603.051 2.815 1.387 2.815 2.951Zm-6.136-1.452a51.196 51.196 0 0 1 3.273 0C14.39 3.05 15 3.684 15 4.478v.113a49.488 49.488 0 0 0-6 0v-.113c0-.794.609-1.428 1.364-1.452Zm-.355 5.945a.75.75 0 1 0-1.5.058l.347 9a.75.75 0 1 0 1.499-.058l-.346-9Zm5.48.058a.75.75 0 1 0-1.498-.058l-.347 9a.75.75 0 0 0 1.5.058l.345-9Z","clip-rule","evenodd"]],template:function(e,o){e&1&&(n(0,"div",0)(1,"table",1)(2,"thead",2)(3,"tr"),c(4,"th"),n(5,"th"),l(6,"Nombre"),r(),n(7,"th"),l(8,"Tel\xE9fono"),r(),n(9,"th"),l(10,"Email"),r(),c(11,"th"),r()(),n(12,"tbody"),j(13,It,17,10,"tr",null,At),r()()(),c(15,"confirm-dialog")),e&2&&(a(13),$(o.contacts()))},dependencies:[F,V],styles:["[_nghost-%COMP%]{display:block}"]})};var Lt=()=>[];function Vt(i,t){i&1&&(n(0,"div",6),c(1,"loading"),r())}var Ie=class i{contactService=d(fe);contacts=f(null);total=X(()=>this.contacts()?.length??0);loading=f(!0);error=f(null);ngOnInit(){this.getContacts()}async getContacts(){this.loading.set(!0),this.error.set(null);try{let t=await _(this.contactService.getAll());this.contacts.set(t)}catch{this.error.set("Error al cargar los contactos")}finally{this.loading.set(!1)}}async delete(t){try{await _(this.contactService.delete(t)),this.contacts.set(this.contacts()?.filter(e=>e.id!==t))}catch(e){console.error("Error al eliminar",e),this.error.set("No se pudo eliminar el contacto.")}}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=u({type:i,selectors:[["contacts-admin"]],decls:12,vars:4,consts:[[1,"text-2xl","font-bold"],[1,"text-lg"],[1,"text-primary"],[1,"flex","gap-2","items-center","h-20"],[1,"flex","flex-1"],["routerLink","/admin/contacts/new",1,"btn","btn-primary"],[1,"min-h-[50vh]","gap-4"],[3,"delete","contacts"]],template:function(e,o){e&1&&(n(0,"h1",0),l(1,"Listado de contactos"),r(),n(2,"h3",1),l(3," Total de contactos: "),n(4,"span",2),l(5),r()(),n(6,"div",3),c(7,"div",4),n(8,"button",5),l(9," Cargar contacto "),r()(),b(10,Vt,2,0,"div",6),n(11,"contacts-table",7),g("delete",function(m){return o.delete(m)}),r()),e&2&&(a(5),v(o.total()),a(5),C(o.loading()?10:-1),a(),p("contacts",o.contacts()??J(3,Lt)))},dependencies:[F,Ae,T],styles:["[_nghost-%COMP%]{display:block}"]})};function xt(){let i=d(ke),t=f(null),e=f(!0),o=f(null);async function s(m){e.set(!0),o.set(null);try{let N=await _(i.getProductByIdSlug(m));t.set(N)}catch{o.set("Error al carga el producto")}finally{e.set(!1)}}return{product:t,loading:e,error:o,loadProducts:s}}function Ut(i,t){if(i&1){let e=A();n(0,"button",19),g("click",function(){let s=P(e).$implicit,m=h();return k(m.onTagsClicked(s))}),l(1),r()}if(i&2){let e=t.$implicit,o=h();S("btn-primary",o.isTagSelected(e)),a(),M(" ",e," ")}}var Le=class i{product=w.required();router=d(R);productsService=d(ke);configurationService=d(O);fb=d(le);productForm=this.fb.group({title:["",y.required],slug:["",[y.required,y.pattern(ve.slugPattern)]],unitOfMeasure:["",[y.required]],description:["",y.required],price:[1,[y.required,y.min(1)]],stock:[1,[y.required,y.min(1)]],tags:[[""]],imagesName:[[""]]});tags=["Cerveza","Harina","Salado","Dulce"];ngOnInit(){this.productForm.reset(this.product())}isTagSelected(t){return(this.productForm.value.tags||[]).some(o=>o.toLowerCase()===t.toLowerCase())}onTagsClicked(t){let e=t.toLowerCase(),o=this.productForm.value.tags??[];o.includes(e)?o.splice(o.indexOf(e),1):o.push(e),this.productForm.patchValue({tags:o})}onSubmit(){this.configurationService.loading.set(!0),this.productForm.markAllAsTouched();let t=this.productForm.value,e=G({},t);this.product().id==="new"?this.productsService.createProduct(e).subscribe(async()=>{await this.configurationService.toggleToast()}):this.productsService.updateProduct(this.product().id,e).subscribe(async()=>{await this.configurationService.toggleToast()}),this.router.navigate(["/admin/products"])}controlPresionado=!1;handleKeyboardEvent(t){t.key==="Control"?this.controlPresionado=!0:t.key==="Enter"&&this.controlPresionado&&this.onSubmit()}handleKeyboardUp(t){t.key==="Control"&&(this.controlPresionado=!1)}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=u({type:i,selectors:[["product-details"]],hostBindings:function(e,o){e&1&&g("keydown",function(m){return o.handleKeyboardEvent(m)},L)("keyup",function(m){return o.handleKeyboardUp(m)},L)},inputs:{product:[1,"product"]},decls:32,vars:20,consts:[[1,"text-2xl","font-bold"],[1,"divider"],[1,"grid","grid-cols-1","sm:grid-cols-2","gap-4",3,"ngSubmit","formGroup"],[1,"flex","flex-col","gap-2"],[1,"text-xl","font-bold","h-12"],["type","text","placeholder","T\xEDtulo","formControlName","title",1,"input","input-bordered","w-full"],[3,"control"],["type","text","placeholder","Slug","formControlName","slug",1,"input","input-bordered","w-full"],["type","text","placeholder","Unidad de medida","formControlName","unitOfMeasure",1,"input","input-bordered","w-full"],["placeholder","Descripci\xF3n","rows","6","formControlName","description",1,"textarea","textarea-bordered"],[1,"text-lg","font-bold"],[1,"grid","grid-cols-1","sm:grid-cols-2","gap-2"],["type","number","placeholder","Precio","formControlName","price",1,"input","input-bordered","w-full"],["type","number","placeholder","Stock","formControlName","stock",1,"input","input-bordered","w-full"],[1,"grid","grid-cols-6","gap-2"],["type","button",1,"btn","btn-sm",3,"btn-primary"],[1,"flex","justify-end","h-12"],["type","submit",1,"btn","btn-secondary"],["type","file","formControlName","imagesName",1,"file-input","file-input-bordered","w-full","mt-4"],["type","button",1,"btn","btn-sm",3,"click"]],template:function(e,o){if(e&1&&(n(0,"h1",0),l(1),r(),c(2,"div",1),n(3,"form",2),g("ngSubmit",function(){return o.onSubmit()}),n(4,"div",3)(5,"h2",4),l(6,"Datos generales"),r(),c(7,"input",5)(8,"form-error-label",6)(9,"input",7)(10,"form-error-label",6)(11,"input",8)(12,"form-error-label",6)(13,"textarea",9)(14,"form-error-label",6),n(15,"h2",10),l(16,"Datos de venta"),r(),n(17,"div",11)(18,"div"),c(19,"input",12)(20,"form-error-label",6),r(),n(21,"div"),c(22,"input",13)(23,"form-error-label",6),r()(),n(24,"div",14),j(25,Ut,2,3,"button",15,nt),r()(),n(27,"div",3)(28,"div",16)(29,"button",17),l(30," Guardar "),r()(),c(31,"input",18),r()()),e&2){let s,m,N,ye,xe,et;a(),v(o.product().title||"Crear nuevo producto"),a(2),p("formGroup",o.productForm),a(4),S("border-red-500",((s=o.productForm.get("title"))==null?null:s.errors)??!1),a(),p("control",o.productForm.get("title")),a(),S("border-red-500",((m=o.productForm.get("title"))==null?null:m.errors)??!1),a(),p("control",o.productForm.get("slug")),a(),S("border-red-500",((N=o.productForm.get("unitOfMeasure"))==null?null:N.errors)??!1),a(),p("control",o.productForm.get("unitOfMeasure")),a(),S("border-red-500",((ye=o.productForm.get("description"))==null?null:ye.errors)??!1),a(),p("control",o.productForm.get("description")),a(5),S("border-red-500",((xe=o.productForm.get("price"))==null?null:xe.errors)??!1),a(),p("control",o.productForm.get("price")),a(2),S("border-red-500",((et=o.productForm.get("stock"))==null?null:et.errors)??!1),a(),p("control",o.productForm.get("stock")),a(2),$(o.tags)}},dependencies:[se,ie,te,dt,oe,ne,re,ae,q],styles:["[_nghost-%COMP%]{display:block}"]})};function Ot(i,t){i&1&&(n(0,"div",0),c(1,"loading"),r())}function Ht(i,t){if(i&1&&c(0,"product-details",1),i&2){let e=h();p("product",e.product())}}var Ve=class i{activateRoute=d(Y);router=d(R);productId=ee(this.activateRoute.params.pipe(z(t=>t.id)));paginationService=d(Pe);product;loading;error;loadProducts;constructor(){let{product:t,loading:e,error:o,loadProducts:s}=xt();this.product=t,this.loading=e,this.error=o,this.loadProducts=s,H(()=>{let m=this.productId();this.loadProducts(m)}),H(()=>{this.error()&&this.router.navigate(["/admin/products"])})}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=u({type:i,selectors:[["app-product-admin"]],decls:2,vars:2,consts:[[1,"min-h-[50vh]","gap-4"],[3,"product"]],template:function(e,o){if(e&1&&(b(0,Ot,2,0,"div",0),b(1,Ht,1,1,"product-details",1)),e&2){let s;C(o.loading()?0:-1),a(),C((s=o.product())!=null&&s.id?1:-1)}},dependencies:[T,Le],styles:["[_nghost-%COMP%]{display:block}"]})};var _t=i=>["/admin/products",i],Bt=(i,t)=>t.id;function jt(i,t){if(i&1){let e=A();n(0,"tr")(1,"th")(2,"label"),l(3),r()(),n(4,"td")(5,"div",3)(6,"div",4)(7,"div",5),c(8,"img",6),he(9,"productImage"),r()(),n(10,"div")(11,"a",7),l(12),r(),n(13,"div",8),l(14),r()()()(),n(15,"td"),l(16),r(),n(17,"td"),l(18),he(19,"currency"),r(),n(20,"td"),l(21),r(),n(22,"th",9)(23,"a",10),D(),n(24,"svg",11),c(25,"path",12),r()(),I(),n(26,"a",13),g("click",function(){let s=P(e).$implicit,m=h();return k(m.onDelete(s.id))}),D(),n(27,"svg",11),c(28,"path",14),r()()()()}if(i&2){let e=t.$implicit,o=t.$index,s=h();a(3),M(" ",(s.currentPage()-1)*s.countPage()+(o+1)," "),a(5),p("src",Ye(9,10,e.imagesName),tt)("alt",e.title),a(3),p("routerLink",U(14,_t,e.id)),a(),M(" ",e.title," "),a(2),M(" ",e.description," "),a(2),v(e.unitOfMeasure),a(2),v(Ye(19,12,e.price)),a(3),v(e.stock),a(2),p("routerLink",U(16,_t,e.id))}}var Ue=class i{products=w.required();currentPage=w.required();countPage=w.required();delete=new Z;confirmDialog;async onDelete(t){await this.confirmDialog.open("\xBFEst\xE1s seguro que deseas eliminar este producto?")&&this.delete.emit(t)}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=u({type:i,selectors:[["products-table"]],viewQuery:function(e,o){if(e&1&&K(V,5),e&2){let s;Q(s=W())&&(o.confirmDialog=s.first)}},inputs:{products:[1,"products"],currentPage:[1,"currentPage"],countPage:[1,"countPage"]},outputs:{delete:"delete"},decls:18,vars:0,consts:[[1,"overflow-y-auto","max-h-[75vh]","overflow-x-auto","border","border-slate-700","rounded-xl"],[1,"table","table-zebra","w-full"],[1,"sticky","top-0","bg-slate-900","z-10"],[1,"flex","items-center","gap-3"],[1,"avatar"],[1,"mask","mask-squircle","h-12","w-12"],[3,"src","alt"],[1,"font-bold","hover:text-primary","transition-colors","duration-300",3,"routerLink"],[1,"text-sm","opacity-50"],[1,"flex","justify-end"],[1,"btn","btn-ghost","text-primary","btn-xs",3,"routerLink"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","fill","currentColor",1,"size-6"],["d","M21.731 2.269a2.625 2.625 0 0 0-3.712 0l-1.157 1.157 3.712 3.712 1.157-1.157a2.625 2.625 0 0 0 0-3.712ZM19.513 8.199l-3.712-3.712-12.15 12.15a5.25 5.25 0 0 0-1.32 2.214l-.8 2.685a.75.75 0 0 0 .933.933l2.685-.8a5.25 5.25 0 0 0 2.214-1.32L19.513 8.2Z"],[1,"btn","btn-ghost","text-error","btn-xs",3,"click"],["fill-rule","evenodd","d","M16.5 4.478v.227a48.816 48.816 0 0 1 3.878.512.75.75 0 1 1-.256 1.478l-.209-.035-1.005 13.07a3 3 0 0 1-2.991 2.77H8.084a3 3 0 0 1-2.991-2.77L4.087 6.66l-.209.035a.75.75 0 0 1-.256-1.478A48.567 48.567 0 0 1 7.5 4.705v-.227c0-1.564 1.213-2.9 2.816-2.951a52.662 52.662 0 0 1 3.369 0c1.603.051 2.815 1.387 2.815 2.951Zm-6.136-1.452a51.196 51.196 0 0 1 3.273 0C14.39 3.05 15 3.684 15 4.478v.113a49.488 49.488 0 0 0-6 0v-.113c0-.794.609-1.428 1.364-1.452Zm-.355 5.945a.75.75 0 1 0-1.5.058l.347 9a.75.75 0 1 0 1.499-.058l-.346-9Zm5.48.058a.75.75 0 1 0-1.498-.058l-.347 9a.75.75 0 0 0 1.5.058l.345-9Z","clip-rule","evenodd"]],template:function(e,o){e&1&&(n(0,"div",0)(1,"table",1)(2,"thead",2)(3,"tr"),c(4,"th"),n(5,"th"),l(6,"T\xEDtulo"),r(),n(7,"th"),l(8,"Unidad de medida"),r(),n(9,"th"),l(10,"Precio"),r(),n(11,"th"),l(12,"Stock"),r(),c(13,"th"),r()(),n(14,"tbody"),j(15,jt,29,18,"tr",null,Bt),r()()(),c(17,"confirm-dialog")),e&2&&(a(15),$(o.products()))},dependencies:[F,V,gt,at],styles:["[_nghost-%COMP%]{display:block}"]})};var $t=()=>[],Oe=class i{paginationService=d(Pe);productResponse;loading;error;loadProducts;productPerPage=f(10);constructor(){let{productResponse:t,loading:e,error:o,loadProducts:s}=vt();this.productResponse=t,this.loading=e,this.error=o,this.loadProducts=s,H(()=>{let m=this.paginationService.currentPage(),N=this.productPerPage(),ye=(m-1)*N,xe=N;this.loadProducts({offset:ye,limit:xe})})}updateProductsPerPage(t){this.productPerPage.set(t),this.paginationService.setPage(1)}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=u({type:i,selectors:[["products-admin"]],decls:22,vars:7,consts:[["selectPerPage",""],[1,"text-2xl","font-bold"],[1,"text-lg"],[1,"text-primary"],[1,"flex","gap-2","items-center","h-20"],[1,"select","select-bordered","w-32",3,"change"],["value","10"],["value","20"],["value","50"],["value","100"],[3,"pages","currentPage"],[1,"flex","flex-1"],["routerLink","/admin/products/new",1,"btn","btn-primary"],[3,"products","currentPage","countPage"]],template:function(e,o){if(e&1){let s=A();n(0,"h1",1),l(1,"Listado de productos"),r(),n(2,"h3",2),l(3," Total de productos "),n(4,"span",3),l(5),r()(),n(6,"div",4)(7,"select",5,0),g("change",function(){P(s);let N=Se(8);return k(o.updateProductsPerPage(+N.value))}),n(9,"option",6),l(10,"10"),r(),n(11,"option",7),l(12,"20"),r(),n(13,"option",8),l(14,"50"),r(),n(15,"option",9),l(16,"100"),r()(),c(17,"pagination",10)(18,"div",11),n(19,"button",12),l(20," Cargar producto "),r()(),c(21,"products-table",13)}if(e&2){let s,m,N;a(5),v((s=o.productResponse())==null?null:s.count),a(12),p("pages",((m=o.productResponse())==null?null:m.pages)??0)("currentPage",o.paginationService.currentPage()),a(4),p("products",((N=o.productResponse())==null?null:N.products)??J(6,$t))("currentPage",o.paginationService.currentPage())("countPage",o.productPerPage())}},dependencies:[Ue,ht,F],styles:["[_nghost-%COMP%]{display:block}"]})};var He=class i{recipe=w.required();router=d(R);recipeService=d(ge);configurationService=d(O);fb=d(le);recipeForm=this.fb.group({title:["",y.required],text:["",y.required]});ngOnInit(){this.recipeForm.reset(this.recipe())}onSubmit(){this.configurationService.loading.set(!0),this.recipeForm.markAllAsTouched();let t=this.recipeForm.value,e=G({},t),o;this.recipe().id==="new"?o=this.recipeService.create(e):o=this.recipeService.update(this.recipe().id,e),o.subscribe({next:async()=>{await this.configurationService.toggleToast(),this.router.navigate(["/admin/recipes"])},error:()=>{this.configurationService.loading.set(!1)}})}controlPresionado=!1;handleKeyboardEvent(t){t.key==="Control"?this.controlPresionado=!0:t.key==="Enter"&&this.controlPresionado&&this.onSubmit()}handleKeyboardUp(t){t.key==="Control"&&(this.controlPresionado=!1)}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=u({type:i,selectors:[["recipe-details"]],hostBindings:function(e,o){e&1&&g("keydown",function(m){return o.handleKeyboardEvent(m)},L)("keyup",function(m){return o.handleKeyboardUp(m)},L)},inputs:{recipe:[1,"recipe"]},decls:16,vars:8,consts:[[1,"flex","justify-between","items-center","mb-2"],[1,"text-2xl","font-bold"],[1,"divider"],[1,"grid","grid-cols-1","sm:grid-cols-2","gap-4",3,"ngSubmit","formGroup"],[1,"flex","flex-col","gap-2"],[1,"text-xl","font-bold","h-12"],["type","text","placeholder","T\xEDtulo","formControlName","title",1,"input","input-bordered","w-full"],[3,"control"],["placeholder","Detalles","rows","20","formControlName","text",1,"textarea","textarea-bordered","w-full"],[1,"flex","justify-end","h-12"],["type","submit",1,"btn","btn-secondary"]],template:function(e,o){if(e&1&&(n(0,"div",0)(1,"h1",1),l(2),r()(),c(3,"div",2),n(4,"form",3),g("ngSubmit",function(){return o.onSubmit()}),n(5,"div",4)(6,"h2",5),l(7,"Datos generales"),r(),c(8,"input",6)(9,"form-error-label",7)(10,"textarea",8)(11,"form-error-label",7),r(),n(12,"div",4)(13,"div",9)(14,"button",10),l(15,"Guardar"),r()()()()),e&2){let s,m;a(2),M(" ",o.recipe().title||"Crear nueva receta"," "),a(2),p("formGroup",o.recipeForm),a(4),S("border-red-500",((s=o.recipeForm.get("title"))==null?null:s.errors)??!1),a(),p("control",o.recipeForm.get("title")),a(),S("border-red-500",((m=o.recipeForm.get("text"))==null?null:m.errors)??!1),a(),p("control",o.recipeForm.get("text"))}},dependencies:[se,ie,te,oe,ne,re,ae,q],styles:["[_nghost-%COMP%]{display:block}"]})};function qt(i,t){i&1&&(n(0,"div",0),c(1,"loading"),r())}function Gt(i,t){if(i&1&&c(0,"recipe-details",1),i&2){let e=h();p("recipe",e.recipe())}}var Be=class i{activateRoute=d(Y);router=d(R);recipeService=d(ge);recipeId=ee(this.activateRoute.params.pipe(z(t=>t.id)));recipe=f(null);loading=f(!0);error=f(null);constructor(){H(()=>{let t=this.recipeId();this.loadRecipe(t)})}async loadRecipe(t){this.loading.set(!0),this.error.set(null);try{let e=await _(this.recipeService.getById(t));this.recipe.set(e)}catch{this.error.set("Error al cargar la receta"),this.router.navigate(["/admin/recipes"])}finally{this.loading.set(!1)}}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=u({type:i,selectors:[["recipe-admin"]],decls:2,vars:2,consts:[[1,"min-h-[50vh]","gap-4"],[3,"recipe"]],template:function(e,o){if(e&1&&(b(0,qt,2,0,"div",0),b(1,Gt,1,1,"recipe-details",1)),e&2){let s;C(o.loading()?0:-1),a(),C((s=o.recipe())!=null&&s.id?1:-1)}},dependencies:[T,He],styles:["[_nghost-%COMP%]{display:block}"]})};var St=i=>["/admin/recipes",i],zt=(i,t)=>t.id;function Zt(i,t){if(i&1){let e=A();n(0,"tr")(1,"th")(2,"label"),l(3),r()(),n(4,"td")(5,"a",3),l(6),r()(),n(7,"td")(8,"div",4),l(9),he(10,"slice"),r()(),n(11,"th",5)(12,"a",6),D(),n(13,"svg",7),c(14,"path",8),r()(),I(),n(15,"a",9),g("click",function(){let s=P(e).$implicit,m=h();return k(m.onDelete(s.id))}),D(),n(16,"svg",7),c(17,"path",10),r()()()()}if(i&2){let e=t.$implicit,o=t.$index;a(3),M(" ",o+1," "),a(2),p("routerLink",U(9,St,e.id)),a(),M(" ",e.title," "),a(3),M(" ",rt(10,5,e.text,0,50),"... "),a(3),p("routerLink",U(11,St,e.id))}}var je=class i{recipes=w.required();delete=new Z;confirmDialog;async onDelete(t){await this.confirmDialog.open("\xBFEst\xE1s seguro que deseas eliminar esta receta?")&&this.delete.emit(t)}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=u({type:i,selectors:[["recipes-table"]],viewQuery:function(e,o){if(e&1&&K(V,5),e&2){let s;Q(s=W())&&(o.confirmDialog=s.first)}},inputs:{recipes:[1,"recipes"]},outputs:{delete:"delete"},decls:14,vars:0,consts:[[1,"overflow-y-auto","max-h-[75vh]","overflow-x-auto","border","border-slate-700","rounded-xl"],[1,"table","table-zebra","w-full"],[1,"sticky","top-0","bg-slate-900","z-10"],[1,"font-bold","hover:text-primary","transition-colors","duration-300",3,"routerLink"],[1,"text-sm","opacity-70"],[1,"flex","justify-end"],[1,"btn","btn-ghost","text-primary","btn-xs",3,"routerLink"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","fill","currentColor",1,"size-6"],["d","M21.731 2.269a2.625 2.625 0 0 0-3.712 0l-1.157 1.157 3.712 3.712 1.157-1.157a2.625 2.625 0 0 0 0-3.712ZM19.513 8.199l-3.712-3.712-12.15 12.15a5.25 5.25 0 0 0-1.32 2.214l-.8 2.685a.75.75 0 0 0 .933.933l2.685-.8a5.25 5.25 0 0 0 2.214-1.32L19.513 8.2Z"],[1,"btn","btn-ghost","text-error","btn-xs",3,"click"],["fill-rule","evenodd","d","M16.5 4.478v.227a48.816 48.816 0 0 1 3.878.512.75.75 0 1 1-.256 1.478l-.209-.035-1.005 13.07a3 3 0 0 1-2.991 2.77H8.084a3 3 0 0 1-2.991-2.77L4.087 6.66l-.209.035a.75.75 0 0 1-.256-1.478A48.567 48.567 0 0 1 7.5 4.705v-.227c0-1.564 1.213-2.9 2.816-2.951a52.662 52.662 0 0 1 3.369 0c1.603.051 2.815 1.387 2.815 2.951Zm-6.136-1.452a51.196 51.196 0 0 1 3.273 0C14.39 3.05 15 3.684 15 4.478v.113a49.488 49.488 0 0 0-6 0v-.113c0-.794.609-1.428 1.364-1.452Zm-.355 5.945a.75.75 0 1 0-1.5.058l.347 9a.75.75 0 1 0 1.499-.058l-.346-9Zm5.48.058a.75.75 0 1 0-1.498-.058l-.347 9a.75.75 0 0 0 1.5.058l.345-9Z","clip-rule","evenodd"]],template:function(e,o){e&1&&(n(0,"div",0)(1,"table",1)(2,"thead",2)(3,"tr"),c(4,"th"),n(5,"th"),l(6,"T\xEDtulo"),r(),n(7,"th"),l(8,"Texto"),r(),c(9,"th"),r()(),n(10,"tbody"),j(11,Zt,18,13,"tr",null,zt),r()()(),c(13,"confirm-dialog")),e&2&&(a(11),$(o.recipes()))},dependencies:[F,V,lt],styles:["[_nghost-%COMP%]{display:block}"]})};var Kt=()=>[];function Qt(i,t){i&1&&(n(0,"div",6),c(1,"loading"),r())}var $e=class i{recipeService=d(ge);recipes=f(null);total=X(()=>this.recipes()?.length??0);loading=f(!0);error=f(null);ngOnInit(){this.getRecipes()}async getRecipes(){this.loading.set(!0),this.error.set(null);try{let t=await _(this.recipeService.getAll());this.recipes.set(t)}catch{this.error.set("Error al cargar las recetas")}finally{this.loading.set(!1)}}async delete(t){try{await _(this.recipeService.delete(t)),this.recipes.set(this.recipes()?.filter(e=>e.id!==t))}catch(e){console.error("Error al eliminar",e),this.error.set("No se pudo eliminar la receta.")}}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=u({type:i,selectors:[["recipes-admin"]],decls:12,vars:4,consts:[[1,"text-2xl","font-bold"],[1,"text-lg"],[1,"text-primary"],[1,"flex","gap-2","items-center","h-20"],[1,"flex","flex-1"],["routerLink","/admin/recipes/new",1,"btn","btn-primary"],[1,"min-h-[50vh]","gap-4"],[3,"delete","recipes"]],template:function(e,o){e&1&&(n(0,"h1",0),l(1,"Listado de recetas"),r(),n(2,"h3",1),l(3," Total de recetas: "),n(4,"span",2),l(5),r()(),n(6,"div",3),c(7,"div",4),n(8,"button",5),l(9," Cargar receta "),r()(),b(10,Qt,2,0,"div",6),n(11,"recipes-table",7),g("delete",function(m){return o.delete(m)}),r()),e&2&&(a(5),v(o.total()),a(5),C(o.loading()?10:-1),a(),p("recipes",o.recipes()??J(3,Kt)))},dependencies:[F,je,T],styles:["[_nghost-%COMP%]{display:block}"]})};var be=`${De.baseUrl}/users`,Wt={id:"new",email:"",fullName:"",roles:[],deletedAt:null},me=class i{http=d(we);usersCache=new Map;getAll(){return this.usersCache.size?ce(Array.from(this.usersCache.values())):this.http.get(be).pipe(B(t=>t.forEach(e=>this.usersCache.set(e.id,e))))}getById(t){return t==="new"?ce(Wt):this.usersCache.has(t)?ce(this.usersCache.get(t)):this.http.get(`${be}/${t}`).pipe(B(e=>this.usersCache.set(t,e)))}create(t){return this.http.post(be,t).pipe(B(e=>this.insertOrUpdateCache(e)))}update(t,e){return this.http.patch(`${be}/${t}`,e).pipe(B(o=>this.insertOrUpdateCache(o)))}delete(t){return this.http.delete(`${be}/${t}`).pipe(B(()=>this.usersCache.delete(t)))}insertOrUpdateCache(t){this.usersCache.set(t.id,t)}static \u0275fac=function(e){return new(e||i)};static \u0275prov=_e({token:i,factory:i.\u0275fac,providedIn:"root"})};var qe=class i{user=w.required();router=d(R);userService=d(me);configurationService=d(O);fb=d(le);userForm=this.fb.group({fullName:["",y.required],email:["",[y.required,y.email]],roles:[[""],y.required]});ngOnInit(){this.userForm.reset(this.user())}onSubmit(){this.configurationService.loading.set(!0),this.userForm.markAllAsTouched();let t=this.userForm.value,e=G({},t);this.user().id==="new"?this.userService.create(e).subscribe(async()=>{await this.configurationService.toggleToast()}):this.userService.update(this.user().id,e).subscribe(async()=>{await this.configurationService.toggleToast()}),this.router.navigate(["/admin/users"])}controlPresionado=!1;handleKeyboardEvent(t){t.key==="Control"?this.controlPresionado=!0:t.key==="Enter"&&this.controlPresionado&&this.onSubmit()}handleKeyboardUp(t){t.key==="Control"&&(this.controlPresionado=!1)}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=u({type:i,selectors:[["user-details"]],hostBindings:function(e,o){e&1&&g("keydown",function(m){return o.handleKeyboardEvent(m)},L)("keyup",function(m){return o.handleKeyboardUp(m)},L)},inputs:{user:[1,"user"]},decls:17,vars:11,consts:[[1,"text-2xl","font-bold"],[1,"divider"],[1,"grid","grid-cols-1","sm:grid-cols-2","gap-4",3,"ngSubmit","formGroup"],[1,"flex","flex-col","gap-2"],[1,"text-xl","font-bold","h-12"],["type","text","placeholder","Nombre completo","formControlName","fullName",1,"input","input-bordered","w-full"],[3,"control"],["type","email","placeholder","Correo electr\xF3nico","formControlName","email",1,"input","input-bordered","w-full"],["type","text","placeholder","Roles","formControlName","roles",1,"input","input-bordered","w-full"],[1,"flex","justify-end","h-12"],["type","submit",1,"btn","btn-secondary"]],template:function(e,o){if(e&1&&(n(0,"h1",0),l(1),r(),c(2,"div",1),n(3,"form",2),g("ngSubmit",function(){return o.onSubmit()}),n(4,"div",3)(5,"h2",4),l(6,"Datos generales"),r(),c(7,"input",5)(8,"form-error-label",6)(9,"input",7)(10,"form-error-label",6)(11,"input",8)(12,"form-error-label",6),r(),n(13,"div",3)(14,"div",9)(15,"button",10),l(16,"Guardar"),r()()()()),e&2){let s,m,N;a(),v(o.user().fullName||"Crear nuevo usuario"),a(2),p("formGroup",o.userForm),a(4),S("border-red-500",((s=o.userForm.get("fullName"))==null?null:s.errors)??!1),a(),p("control",o.userForm.get("fullName")),a(),S("border-red-500",((m=o.userForm.get("email"))==null?null:m.errors)??!1),a(),p("control",o.userForm.get("email")),a(),S("border-red-500",((N=o.userForm.get("roles"))==null?null:N.errors)??!1),a(),p("control",o.userForm.get("roles"))}},dependencies:[se,ie,te,oe,ne,re,ae,q],styles:["[_nghost-%COMP%]{display:block}"]})};function Jt(i,t){i&1&&(n(0,"div",0),c(1,"loading"),r())}function Xt(i,t){if(i&1&&c(0,"user-details",1),i&2){let e=h();p("user",e.user())}}var Ge=class i{activateRoute=d(Y);router=d(R);userService=d(me);userId=ee(this.activateRoute.params.pipe(z(t=>t.id)));user=f(null);loading=f(!0);error=f(null);constructor(){H(()=>{let t=this.userId();this.loadUser(t)})}async loadUser(t){this.loading.set(!0),this.error.set(null);try{let e=await _(this.userService.getById(t));this.user.set(e)}catch{this.error.set("Error al cargar el usuario"),this.router.navigate(["/admin/users"])}finally{this.loading.set(!1)}}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=u({type:i,selectors:[["user-admin"]],decls:2,vars:2,consts:[[1,"min-h-[50vh]","gap-4"],[3,"user"]],template:function(e,o){if(e&1&&(b(0,Jt,2,0,"div",0),b(1,Xt,1,1,"user-details",1)),e&2){let s;C(o.loading()?0:-1),a(),C((s=o.user())!=null&&s.id?1:-1)}},dependencies:[T,qe],styles:["[_nghost-%COMP%]{display:block}"]})};var wt=i=>["/admin/users",i],Yt=(i,t)=>t.id;function eo(i,t){if(i&1){let e=A();n(0,"tr")(1,"th"),l(2),r(),n(3,"td")(4,"a",3),l(5),r()(),n(6,"td"),l(7),r(),n(8,"td"),l(9),r(),n(10,"th",4)(11,"a",5),D(),n(12,"svg",6),c(13,"path",7),r()(),I(),n(14,"a",8),g("click",function(){let s=P(e).$implicit,m=h();return k(m.onDelete(s.id))}),D(),n(15,"svg",6),c(16,"path",9),r()()()()}if(i&2){let e=t.$implicit,o=t.$index,s=h();a(2),v(o+1),a(2),p("routerLink",U(6,wt,e.id)),a(),M(" ",e.fullName," "),a(2),v(e.email),a(2),v(s.getUserRolesPlain(e)),a(2),p("routerLink",U(8,wt,e.id))}}var ze=class i{users=w.required();delete=new Z;confirmDialog;async onDelete(t){await this.confirmDialog.open("\xBFEst\xE1s seguro que deseas eliminar este usuario?")&&this.delete.emit(t)}getUserRolesPlain(t){return t.roles.join(", ")}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=u({type:i,selectors:[["users-table"]],viewQuery:function(e,o){if(e&1&&K(V,5),e&2){let s;Q(s=W())&&(o.confirmDialog=s.first)}},inputs:{users:[1,"users"]},outputs:{delete:"delete"},decls:16,vars:0,consts:[[1,"overflow-y-auto","max-h-[75vh]","overflow-x-auto","border","border-slate-700","rounded-xl"],[1,"table","table-zebra","w-full"],[1,"sticky","top-0","bg-slate-900","z-10"],[1,"font-bold","hover:text-primary","transition-colors","duration-300",3,"routerLink"],[1,"flex","justify-end"],[1,"btn","btn-ghost","text-primary","btn-xs",3,"routerLink"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","fill","currentColor",1,"size-6"],["d","M21.731 2.269a2.625 2.625 0 0 0-3.712 0l-1.157 1.157 3.712 3.712 1.157-1.157a2.625 2.625 0 0 0 0-3.712ZM19.513 8.199l-3.712-3.712-12.15 12.15a5.25 5.25 0 0 0-1.32 2.214l-.8 2.685a.75.75 0 0 0 .933.933l2.685-.8a5.25 5.25 0 0 0 2.214-1.32L19.513 8.2Z"],[1,"btn","btn-ghost","text-error","btn-xs",3,"click"],["fill-rule","evenodd","d","M16.5 4.478v.227a48.816 48.816 0 0 1 3.878.512.75.75 0 1 1-.256 1.478l-.209-.035-1.005 13.07a3 3 0 0 1-2.991 2.77H8.084a3 3 0 0 1-2.991-2.77L4.087 6.66l-.209.035a.75.75 0 0 1-.256-1.478A48.567 48.567 0 0 1 7.5 4.705v-.227c0-1.564 1.213-2.9 2.816-2.951a52.662 52.662 0 0 1 3.369 0c1.603.051 2.815 1.387 2.815 2.951Zm-6.136-1.452a51.196 51.196 0 0 1 3.273 0C14.39 3.05 15 3.684 15 4.478v.113a49.488 49.488 0 0 0-6 0v-.113c0-.794.609-1.428 1.364-1.452Zm-.355 5.945a.75.75 0 1 0-1.5.058l.347 9a.75.75 0 1 0 1.499-.058l-.346-9Zm5.48.058a.75.75 0 1 0-1.498-.058l-.347 9a.75.75 0 0 0 1.5.058l.345-9Z","clip-rule","evenodd"]],template:function(e,o){e&1&&(n(0,"div",0)(1,"table",1)(2,"thead",2)(3,"tr"),c(4,"th"),n(5,"th"),l(6,"Nombre completo"),r(),n(7,"th"),l(8,"Email"),r(),n(9,"th"),l(10,"Rol"),r(),c(11,"th"),r()(),n(12,"tbody"),j(13,eo,17,10,"tr",null,Yt),r()()(),c(15,"confirm-dialog")),e&2&&(a(13),$(o.users()))},dependencies:[F,V],styles:["[_nghost-%COMP%]{display:block}"]})};var to=()=>[];function oo(i,t){i&1&&(n(0,"div",6),c(1,"loading"),r())}var Ze=class i{userService=d(me);users=f(null);total=X(()=>this.users()?.length??0);loading=f(!0);error=f(null);ngOnInit(){this.getUsers()}async getUsers(){this.loading.set(!0),this.error.set(null);try{let t=await _(this.userService.getAll());this.users.set(t)}catch{this.error.set("Error al cargar los usuarios")}finally{this.loading.set(!1)}}async delete(t){try{await _(this.userService.delete(t)),this.users.set(this.users()?.filter(e=>e.id!==t))}catch(e){console.error("Error al eliminar",e),this.error.set("No se pudo eliminar el usuario.")}}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=u({type:i,selectors:[["app-users-admin"]],decls:12,vars:4,consts:[[1,"text-2xl","font-bold"],[1,"text-lg"],[1,"text-primary"],[1,"flex","gap-2","items-center","h-20"],[1,"flex","flex-1"],["routerLink","/admin/contacts/new",1,"btn","btn-primary"],[1,"min-h-[50vh]","gap-4"],[3,"delete","users"]],template:function(e,o){e&1&&(n(0,"h1",0),l(1,"Listado de usuarios"),r(),n(2,"h3",1),l(3," Total de usuarios: "),n(4,"span",2),l(5),r()(),n(6,"div",3),c(7,"div",4),n(8,"button",5),l(9," Cargar usuario "),r()(),b(10,oo,2,0,"div",6),n(11,"users-table",7),g("delete",function(m){return o.delete(m)}),r()),e&2&&(a(5),v(o.total()),a(5),C(o.loading()?10:-1),a(),p("users",o.users()??J(3,to)))},dependencies:[F,T,ze],styles:["[_nghost-%COMP%]{display:block}"]})};var Ce=`${De.baseUrl}/roles`,no={id:"new",name:"",description:""},de=class i{http=d(we);rolesCache=new Map;getAll(){return this.rolesCache.size?ce(Array.from(this.rolesCache.values())):this.http.get(Ce).pipe(B(t=>t.forEach(e=>this.rolesCache.set(e.id,e))))}getById(t){return t==="new"?ce(no):this.rolesCache.has(t)?ce(this.rolesCache.get(t)):this.http.get(`${Ce}/${t}`).pipe(B(e=>this.rolesCache.set(t,e)))}create(t){return this.http.post(Ce,t).pipe(B(e=>this.insertOrUpdateCache(e)))}update(t,e){return this.http.patch(`${Ce}/${t}`,e).pipe(B(o=>this.insertOrUpdateCache(o)))}delete(t){return this.http.delete(`${Ce}/${t}`).pipe(B(()=>this.rolesCache.delete(t)))}insertOrUpdateCache(t){this.rolesCache.set(t.id,t)}static \u0275fac=function(e){return new(e||i)};static \u0275prov=_e({token:i,factory:i.\u0275fac,providedIn:"root"})};var Dt=i=>["/admin/roles",i],io=(i,t)=>t.id;function ro(i,t){if(i&1){let e=A();n(0,"tr")(1,"th"),l(2),r(),n(3,"td")(4,"a",3),l(5),r()(),n(6,"td"),l(7),r(),n(8,"th",4)(9,"a",5),D(),n(10,"svg",6),c(11,"path",7),r()(),I(),n(12,"a",8),g("click",function(){let s=P(e).$implicit,m=h();return k(m.onDelete(s.id))}),D(),n(13,"svg",6),c(14,"path",9),r()()()()}if(i&2){let e=t.$implicit,o=t.$index;a(2),v(o+1),a(2),p("routerLink",U(5,Dt,e.id)),a(),M(" ",e.name," "),a(2),v(e.description),a(2),p("routerLink",U(7,Dt,e.id))}}var Ke=class i{roles=w.required();delete=new Z;confirmDialog;async onDelete(t){await this.confirmDialog.open("\xBFEst\xE1s seguro que deseas eliminar este rol?")&&this.delete.emit(t)}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=u({type:i,selectors:[["roles-table"]],viewQuery:function(e,o){if(e&1&&K(V,5),e&2){let s;Q(s=W())&&(o.confirmDialog=s.first)}},inputs:{roles:[1,"roles"]},outputs:{delete:"delete"},decls:14,vars:0,consts:[[1,"overflow-y-auto","max-h-[75vh]","overflow-x-auto","border","border-slate-700","rounded-xl"],[1,"table","table-zebra","w-full"],[1,"sticky","top-0","bg-slate-900","z-10"],[1,"font-bold","hover:text-primary","transition-colors","duration-300",3,"routerLink"],[1,"flex","justify-end"],[1,"btn","btn-ghost","text-primary","btn-xs",3,"routerLink"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","fill","currentColor",1,"size-6"],["d","M21.731 2.269a2.625 2.625 0 0 0-3.712 0l-1.157 1.157 3.712 3.712 1.157-1.157a2.625 2.625 0 0 0 0-3.712ZM19.513 8.199l-3.712-3.712-12.15 12.15a5.25 5.25 0 0 0-1.32 2.214l-.8 2.685a.75.75 0 0 0 .933.933l2.685-.8a5.25 5.25 0 0 0 2.214-1.32L19.513 8.2Z"],[1,"btn","btn-ghost","text-error","btn-xs",3,"click"],["fill-rule","evenodd","d","M16.5 4.478v.227a48.816 48.816 0 0 1 3.878.512.75.75 0 1 1-.256 1.478l-.209-.035-1.005 13.07a3 3 0 0 1-2.991 2.77H8.084a3 3 0 0 1-2.991-2.77L4.087 6.66l-.209.035a.75.75 0 0 1-.256-1.478A48.567 48.567 0 0 1 7.5 4.705v-.227c0-1.564 1.213-2.9 2.816-2.951a52.662 52.662 0 0 1 3.369 0c1.603.051 2.815 1.387 2.815 2.951Zm-6.136-1.452a51.196 51.196 0 0 1 3.273 0C14.39 3.05 15 3.684 15 4.478v.113a49.488 49.488 0 0 0-6 0v-.113c0-.794.609-1.428 1.364-1.452Zm-.355 5.945a.75.75 0 1 0-1.5.058l.347 9a.75.75 0 1 0 1.499-.058l-.346-9Zm5.48.058a.75.75 0 1 0-1.498-.058l-.347 9a.75.75 0 0 0 1.5.058l.345-9Z","clip-rule","evenodd"]],template:function(e,o){e&1&&(n(0,"div",0)(1,"table",1)(2,"thead",2)(3,"tr"),c(4,"th"),n(5,"th"),l(6,"Nombre"),r(),n(7,"th"),l(8,"Descripci\xF3n"),r(),c(9,"th"),r()(),n(10,"tbody"),j(11,ro,15,9,"tr",null,io),r()()(),c(13,"confirm-dialog")),e&2&&(a(11),$(o.roles()))},dependencies:[F,V],styles:["[_nghost-%COMP%]{display:block}"]})};var ao=()=>[];function lo(i,t){i&1&&(n(0,"div",6),c(1,"loading"),r())}var Qe=class i{rolService=d(de);roles=f(null);total=X(()=>this.roles()?.length??0);loading=f(!0);error=f(null);ngOnInit(){this.getRoles()}async getRoles(){this.loading.set(!0),this.error.set(null);try{let t=await _(this.rolService.getAll());this.roles.set(t)}catch{this.error.set("Error al cargar los roles")}finally{this.loading.set(!1)}}async delete(t){try{await _(this.rolService.delete(t)),this.roles.set(this.roles()?.filter(e=>e.id!==t))}catch(e){console.error("Error al eliminar",e),this.error.set("No se pudo eliminar el rol.")}}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=u({type:i,selectors:[["roles-admin"]],decls:12,vars:4,consts:[[1,"text-2xl","font-bold"],[1,"text-lg"],[1,"text-primary"],[1,"flex","gap-2","items-center","h-20"],[1,"flex","flex-1"],["routerLink","/admin/contacts/new",1,"btn","btn-primary"],[1,"min-h-[50vh]","gap-4"],[3,"delete","roles"]],template:function(e,o){e&1&&(n(0,"h1",0),l(1,"Listado de roles"),r(),n(2,"h3",1),l(3," Total de roles: "),n(4,"span",2),l(5),r()(),n(6,"div",3),c(7,"div",4),n(8,"button",5),l(9," Cargar rol "),r()(),b(10,lo,2,0,"div",6),n(11,"roles-table",7),g("delete",function(m){return o.delete(m)}),r()),e&2&&(a(5),v(o.total()),a(5),C(o.loading()?10:-1),a(),p("roles",o.roles()??J(3,ao)))},dependencies:[T,Ke],styles:["[_nghost-%COMP%]{display:block}"]})};var We=class i{role=w.required();router=d(R);roleService=d(de);configurationService=d(O);fb=d(le);roleForm=this.fb.group({name:["",y.required],description:["",y.required]});ngOnInit(){this.roleForm.reset(this.role())}onSubmit(){this.configurationService.loading.set(!0),this.roleForm.markAllAsTouched();let t=this.roleForm.value,e=G({},t);this.role().id==="new"?this.roleService.create(e).subscribe(async()=>{await this.configurationService.toggleToast()}):this.roleService.update(this.role().id,e).subscribe(async()=>{await this.configurationService.toggleToast()}),this.router.navigate(["/admin/roles"])}controlPresionado=!1;handleKeyboardEvent(t){t.key==="Control"?this.controlPresionado=!0:t.key==="Enter"&&this.controlPresionado&&this.onSubmit()}handleKeyboardUp(t){t.key==="Control"&&(this.controlPresionado=!1)}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=u({type:i,selectors:[["role-details"]],hostBindings:function(e,o){e&1&&g("keydown",function(m){return o.handleKeyboardEvent(m)},L)("keyup",function(m){return o.handleKeyboardUp(m)},L)},inputs:{role:[1,"role"]},decls:15,vars:8,consts:[[1,"text-2xl","font-bold"],[1,"divider"],[1,"grid","grid-cols-1","sm:grid-cols-2","gap-4",3,"ngSubmit","formGroup"],[1,"flex","flex-col","gap-2"],[1,"text-xl","font-bold","h-12"],["type","text","placeholder","Nombre","formControlName","name",1,"input","input-bordered","w-full"],[3,"control"],["type","text","placeholder","Descripci\xF3n","formControlName","description",1,"input","input-bordered","w-full"],[1,"flex","justify-end","h-12"],["type","submit",1,"btn","btn-secondary"]],template:function(e,o){if(e&1&&(n(0,"h1",0),l(1),r(),c(2,"div",1),n(3,"form",2),g("ngSubmit",function(){return o.onSubmit()}),n(4,"div",3)(5,"h2",4),l(6,"Datos generales"),r(),c(7,"input",5)(8,"form-error-label",6)(9,"input",7)(10,"form-error-label",6),r(),n(11,"div",3)(12,"div",8)(13,"button",9),l(14,"Guardar"),r()()()()),e&2){let s,m;a(),v(o.role().name||"Crear nuevo rol"),a(2),p("formGroup",o.roleForm),a(4),S("border-red-500",((s=o.roleForm.get("name"))==null?null:s.errors)??!1),a(),p("control",o.roleForm.get("name")),a(),S("border-red-500",((m=o.roleForm.get("description"))==null?null:m.errors)??!1),a(),p("control",o.roleForm.get("description"))}},dependencies:[se,ie,te,oe,ne,re,ae,q],styles:["[_nghost-%COMP%]{display:block}"]})};function so(i,t){i&1&&(n(0,"div",0),c(1,"loading"),r())}function co(i,t){if(i&1&&c(0,"role-details",1),i&2){let e=h();p("role",e.role())}}var Je=class i{activateRoute=d(Y);router=d(R);roleService=d(de);roleId=ee(this.activateRoute.params.pipe(z(t=>t.id)));role=f(null);loading=f(!0);error=f(null);constructor(){H(()=>{let t=this.roleId();this.loadRol(t)})}async loadRol(t){this.loading.set(!0),this.error.set(null);try{let e=await _(this.roleService.getById(t));this.role.set(e)}catch{this.error.set("Error al cargar el rol"),this.router.navigate(["/admin/roles"])}finally{this.loading.set(!1)}}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=u({type:i,selectors:[["role-admin"]],decls:2,vars:2,consts:[[1,"min-h-[50vh]","gap-4"],[3,"role"]],template:function(e,o){if(e&1&&(b(0,so,2,0,"div",0),b(1,co,1,1,"role-details",1)),e&2){let s;C(o.loading()?0:-1),a(),C((s=o.role())!=null&&s.id?1:-1)}},dependencies:[T,We],styles:["[_nghost-%COMP%]{display:block}"]})};var mo=[{path:"",component:Re,canMatch:[bt],children:[{path:"products",title:"Productos",component:Oe},{path:"products/:id",title:"Producto",component:Ve},{path:"recipes",title:"Recetas",component:$e},{path:"recipes/:id",title:"Receta",component:Be},{path:"contacts",title:"Contactos",component:Ie},{path:"contacts/:id",title:"Contacto",component:Ne},{path:"users",title:"Usuarios",component:Ze},{path:"users/:id",title:"Usuario",component:Ge},{path:"roles",title:"Roles",component:Qe},{path:"roles/:id",title:"Rol",component:Je},{path:"**",redirectTo:"products"}]}],za=mo;export{mo as AdminDashboardRoutes,za as default};
